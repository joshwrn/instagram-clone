{"version":3,"sources":["styles/notifications/notifications__item.module.css","styles/home/home__card.module.css","styles/post/post__sidebar.module.css","styles/settings/settings.module.css","styles/profile/profile__sidebar.module.css","styles/sign-up/sign-up.module.css","styles/home/home__sidebar.module.css","styles/nav/nav.module.css","styles/profile/profile.module.css","styles/messages/message__item.module.css","styles/profile/profile__upload.module.css","styles/profile/profile__followers-modal.module.css","styles/post/post__loading.module.css","styles/nav/nav__user-menu.module.css","styles/post/post__comment-section.module.css","styles/home/home__card__overlay.module.css","styles/profile/profile__feed.module.css","styles/post/post__menu.module.css","styles/messages/messagesContact.module.css","styles/profile/profile__card.module.css","styles/nav/nav__search__item.module.css","styles/post/post.module.css","styles/messages/messages__create-menu.module.css","styles/messages/messages.module.css","styles/notifications/notifications.module.css","styles/nav/nav__search.module.css","styles/home/home__login.module.css","styles/home/home__feed.module.css","styles/home/home.module.css","styles/profile/profile__avatar__modal.module.css","assets/img/logo/logo-2.png","functions/theme.js","services/firebase.js","components/Nav/NavUserMenu.jsx","functions/convertTime.js","components/Notifications/NotificationsItem.jsx","contexts/AuthContext.js","components/Notifications/Notifications.jsx","components/reusable/ImageLoader.jsx","components/Nav/NavSearchItem.jsx","components/Nav/NavSearch.jsx","functions/debounce.js","functions/stopScroll.js","functions/resizeImage.js","components/Profile/ProfileUpload.jsx","components/Nav/Nav.jsx","components/Home/LoginButton.jsx","components/Profile/ProfileButton.jsx","components/Profile/ProfileFollowerListItem.jsx","hooks/useIntersect.js","components/Profile/ProfileFollowersModal.jsx","components/Home/HomeSidebar.jsx","components/Home/HomeCardLike.jsx","components/Home/HomeCardCommentItem.jsx","components/Home/HomeCardComments.jsx","components/Home/HomeCardImage.jsx","components/Home/HomeCardOverlay.jsx","components/Home/HomeCard.jsx","components/Home/HomeFeed.jsx","functions/ScrollToTop.js","components/Home/Home.jsx","components/Profile/ProfileSidebar.jsx","components/Profile/ProfileCard.jsx","components/Profile/ProfileFeed.jsx","components/Profile/ProfileAvatarModal.jsx","components/Profile/Profile.jsx","components/Post/PostComment.jsx","components/Post/PostCommentSection.jsx","components/Post/PostMenu.jsx","components/Post/PostLikeButton.jsx","components/Post/PostCommentBox.jsx","components/Post/PostSidebar.jsx","components/Post/Post.jsx","components/SignUp/SignUp.jsx","components/Settings/Settings.jsx","components/Messages/MessagesCreateMenuItem.jsx","components/Messages/MessagesCreateMenu.jsx","components/Messages/MessageItem.jsx","components/Messages/MessageArea.jsx","components/Messages/MessageInputBox.jsx","components/Messages/MessagesContact.jsx","components/Messages/MessagesSidebar.jsx","components/Messages/Messages.jsx","components/App.jsx","index.jsx"],"names":["module","exports","root","document","documentElement","dark","style","setProperty","light","signIn","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","provider","auth","GoogleAuthProvider","signInWithPopup","firestoreFieldValue","firestore","FieldValue","serverTimestamp","storageRef","storage","ref","NavUserMenu","setOpenMenu","currentUser","logout","theme","setTheme","changeTheme","e","preventDefault","collection","doc","uid","set","merge","onClick","className","Styles","container","inner","option","to","icon","convertTime","start","end","total","converted","Math","floor","NotificationsItem","item","userProfile","useState","profile","setProfile","preview","setPreview","type","setType","addTime","setAddTime","getProfile","a","user","get","profileRef","data","getPost","userID","post","postRef","url","src","useEffect","currentTime","Date","now","time","link","inlineLink","avatarContainer","avatar","profilePhoto","alt","displayName","comment","length","substring","followed","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","setCurrentUser","setUserProfile","attemptLogin","setAttemptLogin","loading","setLoading","history","useHistory","onAuthStateChanged","getUserProfile","profileData","then","userData","exists","signOut","firebaseRegister","usernameInput","where","searchResults","forEach","foundName","undefined","lower","toLowerCase","searchName","photoURL","banner","bio","username","joinDate","metadata","creationTime","lastPostDate","likedPosts","postsCounter","followers","following","messagesCounter","notifications","catch","error","console","addMessage","messages","message","addFollower","update","arrayUnion","notify","Promise","all","push","value","login","Provider","Notifications","notiFragment","handleNoti","setCurrentNotis","notiArray","loader","map","none","ImageLoader","position","width","height","transition","cursor","borderRadius","shadow","zIndex","transform","loadingDiv","background","backgroundSize","animation","boxShadow","hideDiv","display","image","objectFit","objectPosition","opacity","hideImg","onLoad","NavSearchItem","setOpenSearch","setSearchInput","NavSearch","searchInner","searchInput","searchRef","setSearchResults","handler","current","contains","target","addEventListener","removeEventListener","temp","limit","results","search","noResults","debounce","func","delay","inDebounce","clearTimeout","setTimeout","apply","arguments","stopScroll","state","body","classList","add","remove","resizeImage","setImageFile","setPostFile","file","files","size","reader","FileReader","readAsDataURL","onload","event","imgEl","createElement","result","img","canvas","MAX_WIDTH","scaleSize","ctx","getContext","drawImage","srcEncoded","toDataURL","toBlob","blob","ProfileUpload","getModal","setNewPost","postFile","caption","setCaption","uploading","setUploading","imageFile","handleSubmit","timestamp","date","likes","comments","createPost","fileRef","child","id","put","getDownloadURL","fileUrl","prev","modal","header","close","topContainer","uploadContainer","buttonContainer","onChange","accept","fileInput","upload","captionContainer","captionInput","name","maxLength","placeholder","postButton","saveBtn","Nav","openMenu","openNoti","setOpenNoti","openSearch","currentNotis","setNotiArray","searchValue","setSearchValue","renderModal","setRenderModal","userRef","menuRef","useRef","notiRef","unseen","debounceChange","useCallback","nextValue","nav","logo","logoImg","autoComplete","icons","exact","home","chat","notiContainer","heart","notiBadge","profileLink","person","LoginButton","loginButtons","signUp","ProfileButton","match","currentProfile","getUserObject","handleFollowers","setFollowing","check","includes","handleFollow","thisUser","handleUnfollow","arrayRemove","button","profileBtn","ProfileFollowerListItem","currentTab","setCurrent","getUser","listItem","names","useIntersect","isFetching","setIsFetching","observer","IntersectionObserver","isIntersecting","rootMargin","threshold","observe","disconnect","ProfileFollowers","openFollowers","setCurrentTab","list","setList","handleSwitch","choice","getAttribute","slice","reverse","sliced","combine","createMore","tabs","activeHeader","inactiveHeader","listContainer","dummy","Sidebar","setOpenFollowers","sidebar","ProfileFollowersModal","profileContainer","imageContainer","profileImgBlur","nameContainer","stats","statContainer","stat","number","postsLink","HomeCardLike","setLikeState","liked","setLiked","updateLikes","handleLike","thisPost","postUser","addPost","addUser","removePost","removeUser","likedIcon","likeIcon","HomeCardCommentItem","commentUser","HomeCardComments","commentArr","setCommentArr","commentInput","setCommentInput","max","handleComment","commentObject","imageLink","viewAll","commentContainer","commentBox","onSubmit","commentForm","inputBox","send","HomeCardImage","postID","HomeCardOverlay","openLink","linkType","share","input","window","location","href","readOnly","content","el","appendChild","select","execCommand","removeChild","copyToClipboard","main","Card","setUser","likeState","setModal","modalType","card","left","userInfo","right","moreIcon","footer","firstChild","chatLink","imageBlur","HomeFeed","newPost","stored","setStored","feed","setFeed","lastUser","setLastUser","noPosts","setNoPosts","noPostsRef","dummyRef","firestoreFunction","orderBy","startAfter","me","docs","promises","postsArr","arr","sort","b","getNone","getFollowed","createFeed","getMore","next","scrollTo","loaderContainer","ScrollToTop","pathname","useLocation","Home","ProfileSidebar","loaded","usernames","nameLoading","usernameLoading","counterLoading","secondContainer","postsContainer","posts","followingContainer","followersContainer","bioHeader","bioText","ProfileCard","postId","params","overlay","blur","ProfileFeed","lastPost","setLastPost","endFeed","setEndFeed","endFeedRef","snap","complete","getInitial","updateFeed","getFeed","outer","notFound","notFoundContainer","notFoundButton","feedContainer","ProfileAvatarModal","getAvatarModal","Profile","props","setCurrentProfile","avatarModal","setAvatarModal","setLoaded","every","handleLoad","imgIndex","findIndex","old","actionButton","actionBtn","heroLoading","hero","topSection","imgContainer","avatarLoading","avatarBlur","topRight","topIconRow","PostComment","getTime","PostCommentSection","currentPost","setComments","getComments","commentsContainer","Loading","commentProfile","PostMenu","menu","ownPost","menuStatus","setMenuStatus","handleDelete","postid","delete","pictureRef","refFromURL","userDoc","containerOwn","postIcon","PostLikeButton","getCurrentPost","PostCommentBox","IoSendOutline","setInput","minLength","PostSidebar","getCur","top","profileImg","IoHeartOutline","infoContainer","Post","setCurrentPost","setPostUser","setOwnPost","getPostUser","postState","returnButton","SignUp","userInput","setUserInput","userValue","setUserValue","nameTaken","setNameTaken","replace","handleChange","nameHelper","color","textContainer","headerText","formContainer","pattern","form","required","helperDiv","signUpButton","backgroundColor","or","loginButton","Settings","userBio","setUserBio","handleAvatar","handleBanner","handlePhotoChange","handleTextUpload","settings","bannerOverlayContainer","bannerContainer","bannerOverlay","bannerIcon","containerBar","profileOverlayContainer","profileOverlay","profileIcon","textInputs","textForm","inputContainer","inputBoxDisplay","newVal","bioInput","profileBtnContainer","textBtn","MessagesCreateMenuItem","contactID","setMessages","handleCreate","getCurrentMessage","some","index","MessagesCreateMenu","setCurrentMessage","setCurrentIndex","createInitial","MessageItem","thread","sent","setSent","group","setGroup","itemSent","bubbleSent","sideContainer","topGroup","bubble","MessageArea","currentMessage","topRef","setThread","messageArea","MessageInputBox","setInputBox","contactThread","userThread","addUserThread","addContactThread","messageBox","messageForm","MessagesContact","last","currentIndex","handleSidebar","active","contactInfo","MessagesSidebar","scrollToBottom","setSidebar","hide","userAvatarContainer","userAvatarBlur","backArrowContainer","backArrow","headerTitle","createIconContainer","createIcon","contactsContainer","Messages","createModal","setCreateModal","subRef","scrollIntoView","behavior","listener","onSnapshot","querySnapshot","unsubscribe","num","navBg","App","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b7f59374.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"notifications__item_container__1yM2P\",\"link\":\"notifications__item_link__3hOpB\",\"start\":\"notifications__item_start__2ocM7\",\"inlineLink\":\"notifications__item_inlineLink__1--60\",\"avatar\":\"notifications__item_avatar__219i9\",\"displayName\":\"notifications__item_displayName__26U78\",\"type\":\"notifications__item_type__3Zr01\",\"comment\":\"notifications__item_comment__179RZ\",\"time\":\"notifications__item_time__1DF0D\",\"end\":\"notifications__item_end__1FRJa\",\"preview\":\"notifications__item_preview__2Gl5Z\",\"followed\":\"notifications__item_followed__11sP7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"home__card_card__2sHQP\",\"container\":\"home__card_container__3FNNr\",\"header\":\"home__card_header__3ovQp\",\"left\":\"home__card_left__1PALM\",\"right\":\"home__card_right__1i2gX\",\"moreIcon\":\"home__card_moreIcon__2vM0f\",\"avatar\":\"home__card_avatar__3MGtB\",\"userInfo\":\"home__card_userInfo__2cLzI\",\"displayName\":\"home__card_displayName__7HfBN\",\"username\":\"home__card_username__34P_n\",\"loading\":\"home__card_loading__2QkXo\",\"imageLink\":\"home__card_imageLink__2RV1k\",\"imageContainer\":\"home__card_imageContainer__1RtBx\",\"imageBlur\":\"home__card_imageBlur__3Fsus\",\"fade\":\"home__card_fade__pgDB5\",\"footer\":\"home__card_footer__bNT0h\",\"firstChild\":\"home__card_firstChild__91m9Q\",\"icon\":\"home__card_icon__3nf38\",\"likeIcon\":\"home__card_likeIcon__KyPef\",\"likedIcon\":\"home__card_likedIcon__vmcUU\",\"likes\":\"home__card_likes__1jaSS\",\"commentContainer\":\"home__card_commentContainer__3NPTZ\",\"comments\":\"home__card_comments__3yI7V\",\"viewAll\":\"home__card_viewAll__fGZIx\",\"comment\":\"home__card_comment__3PIpk\",\"commentUser\":\"home__card_commentUser__Ik6t9\",\"commentBox\":\"home__card_commentBox__1QqXP\",\"commentForm\":\"home__card_commentForm__1SaOC\",\"inputBox\":\"home__card_inputBox__2asqY\",\"send\":\"home__card_send__2sMlQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"post__sidebar_sidebar__1YPF_\",\"top\":\"post__sidebar_top__21Mkr\",\"captionContainer\":\"post__sidebar_captionContainer__2c0JN\",\"caption\":\"post__sidebar_caption__W_02G\",\"profileContainer\":\"post__sidebar_profileContainer__ibpB4\",\"imageContainer\":\"post__sidebar_imageContainer__2ZuwF\",\"profileImg\":\"post__sidebar_profileImg__2vkBk\",\"profileImgBlur\":\"post__sidebar_profileImgBlur__XX4s9\",\"nameContainer\":\"post__sidebar_nameContainer__3M3xj\",\"username\":\"post__sidebar_username__3VqLl\",\"footer\":\"post__sidebar_footer__229P6\",\"firstChild\":\"post__sidebar_firstChild__1h18G\",\"left\":\"post__sidebar_left__1uD9N\",\"postIcon\":\"post__sidebar_postIcon__1W7WJ\",\"icon\":\"post__sidebar_icon__3qkzm\",\"likeIcon\":\"post__sidebar_likeIcon__CnAyT\",\"infoContainer\":\"post__sidebar_infoContainer__1Jo2W\",\"likedIcon\":\"post__sidebar_likedIcon__2erUk\",\"likes\":\"post__sidebar_likes__1DALb\",\"time\":\"post__sidebar_time__v5OtV\",\"commentBox\":\"post__sidebar_commentBox__3jXZb\",\"commentForm\":\"post__sidebar_commentForm__1fGTQ\",\"input\":\"post__sidebar_input__2B6eA\",\"send\":\"post__sidebar_send__Tr8bk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"settings_settings__9u3LA\",\"container\":\"settings_container__18EBM\",\"inner\":\"settings_inner__2goxT\",\"bannerOverlayContainer\":\"settings_bannerOverlayContainer__1a5-V\",\"bannerContainer\":\"settings_bannerContainer__20k-A\",\"bannerImage\":\"settings_bannerImage__15Txo\",\"bannerOverlay\":\"settings_bannerOverlay__qYlci\",\"bannerIcon\":\"settings_bannerIcon__1rCI-\",\"fileInput\":\"settings_fileInput__3FRbV\",\"containerBar\":\"settings_containerBar__3Fnh_\",\"profileOverlayContainer\":\"settings_profileOverlayContainer__sv8mm\",\"profileOverlay\":\"settings_profileOverlay__u2bwa\",\"profileIcon\":\"settings_profileIcon__3Vztt\",\"textInputs\":\"settings_textInputs__1uTn7\",\"textForm\":\"settings_textForm__YkGB2\",\"inputContainer\":\"settings_inputContainer__22DOQ\",\"input\":\"settings_input__UedIy\",\"inputBoxDisplay\":\"settings_inputBoxDisplay__1OlvB\",\"bioInput\":\"settings_bioInput__1IfAn\",\"textBtn\":\"settings_textBtn__2JGIG\",\"profileBtnContainer\":\"settings_profileBtnContainer__1_waZ\",\"profileLink\":\"settings_profileLink__AGTBJ\",\"profileBtn\":\"settings_profileBtn__1XiRR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"profile__sidebar_sidebar__11uI9\",\"usernames\":\"profile__sidebar_usernames__2-Ej_\",\"displayName\":\"profile__sidebar_displayName__32glH\",\"username\":\"profile__sidebar_username__1lHqL\",\"postsContainer\":\"profile__sidebar_postsContainer__dRmP9\",\"posts\":\"profile__sidebar_posts__1m6Os\",\"userInfo\":\"profile__sidebar_userInfo__3NNvr\",\"followersContainer\":\"profile__sidebar_followersContainer__34jdX\",\"followingContainer\":\"profile__sidebar_followingContainer__3WIfo\",\"followers\":\"profile__sidebar_followers__3D63L\",\"following\":\"profile__sidebar_following__dXkzD\",\"bio\":\"profile__sidebar_bio__6RyiG\",\"bioHeader\":\"profile__sidebar_bioHeader__37niP\",\"bioText\":\"profile__sidebar_bioText__1kXZt\",\"nameLoading\":\"profile__sidebar_nameLoading__3M-ki\",\"usernameLoading\":\"profile__sidebar_usernameLoading__1hAcZ\",\"countersLoading\":\"profile__sidebar_countersLoading__3mFop\",\"counterLoading\":\"profile__sidebar_counterLoading__1Ei56\",\"inner\":\"profile__sidebar_inner__2y690\",\"secondContainer\":\"profile__sidebar_secondContainer__2xred\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signUp\":\"sign-up_signUp__3JQa-\",\"container\":\"sign-up_container__2CyWt\",\"header\":\"sign-up_header__1Zol_\",\"logoImg\":\"sign-up_logoImg__2ff0k\",\"headerText\":\"sign-up_headerText__bsPde\",\"formContainer\":\"sign-up_formContainer__29uuM\",\"form\":\"sign-up_form__2GaCi\",\"input\":\"sign-up_input__DYRKx\",\"username\":\"sign-up_username__r2qOp\",\"inputBox\":\"sign-up_inputBox__3TbGG\",\"helperDiv\":\"sign-up_helperDiv__11z-p\",\"nameHelper\":\"sign-up_nameHelper__1nPlw\",\"signUpButton\":\"sign-up_signUpButton__A-8pd\",\"or\":\"sign-up_or__2zICN\",\"loginButton\":\"sign-up_loginButton__27dxH\",\"notFoundContainer\":\"sign-up_notFoundContainer__L38_P\",\"returnButton\":\"sign-up_returnButton__16Xch\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"home__sidebar_sidebar__2VErq\",\"container\":\"home__sidebar_container__DlNFV\",\"profileContainer\":\"home__sidebar_profileContainer__1Hj6U\",\"imageContainer\":\"home__sidebar_imageContainer__3Dz61\",\"profileImg\":\"home__sidebar_profileImg__FK7ho\",\"profileImgBlur\":\"home__sidebar_profileImgBlur__1t9ik\",\"fade\":\"home__sidebar_fade__2XToe\",\"nameContainer\":\"home__sidebar_nameContainer__3AgZm\",\"username\":\"home__sidebar_username__oT5hs\",\"stats\":\"home__sidebar_stats__1Qcls\",\"postsLink\":\"home__sidebar_postsLink__2eTUA\",\"statContainer\":\"home__sidebar_statContainer__3QtT5\",\"stat\":\"home__sidebar_stat__8FJQH\",\"number\":\"home__sidebar_number__2PJPU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"nav_nav__2IZUq\",\"inner\":\"nav_inner__1nPzn\",\"logoImg\":\"nav_logoImg__24lEx\",\"logo\":\"nav_logo__CMH12\",\"searchInput\":\"nav_searchInput__15DXk\",\"icons\":\"nav_icons__1fxg9\",\"icon\":\"nav_icon__1b4zK\",\"person\":\"nav_person__11phe\",\"add\":\"nav_add__3-fUK\",\"home\":\"nav_home__3uWMI\",\"heart\":\"nav_heart__3F2Wn\",\"chat\":\"nav_chat__1pLBE\",\"notiBadge\":\"nav_notiBadge__27rz0\",\"profileLink\":\"nav_profileLink__2SjbY\",\"notiContainer\":\"nav_notiContainer__JP-pH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"profile_profile__2doWq\",\"header\":\"profile_header__1Yb_V\",\"hero\":\"profile_hero__2QdAq\",\"outer\":\"profile_outer__1p7TJ\",\"inner\":\"profile_inner__2CtB1\",\"topSection\":\"profile_topSection__1wQVw\",\"imgContainer\":\"profile_imgContainer__1WOy9\",\"avatar\":\"profile_avatar__3Q1Q_\",\"avatarBlur\":\"profile_avatarBlur__13Y7Q\",\"topRight\":\"profile_topRight__3x1sY\",\"topIconRow\":\"profile_topIconRow__1scaU\",\"profileBtn\":\"profile_profileBtn__3bsBB\",\"actionBtn\":\"profile_actionBtn__3Arth\",\"heroLoading\":\"profile_heroLoading__Yzhmf\",\"avatarLoading\":\"profile_avatarLoading__1ljvT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"message__item_item__1jw6X\",\"itemSent\":\"message__item_itemSent__1IAFq\",\"topGroup\":\"message__item_topGroup__386cL\",\"group\":\"message__item_group__1EZ-5\",\"bubble\":\"message__item_bubble__3_pNB\",\"bubbleSent\":\"message__item_bubbleSent__59KVa\",\"sideContainer\":\"message__item_sideContainer__1xalh\",\"avatar\":\"message__item_avatar__3YRR0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"profile__upload_modal__2twt5\",\"anim\":\"profile__upload_anim__1Fwgk\",\"container\":\"profile__upload_container__1df1f\",\"header\":\"profile__upload_header__1jaGB\",\"close\":\"profile__upload_close__27-of\",\"topContainer\":\"profile__upload_topContainer__1J5J0\",\"uploadContainer\":\"profile__upload_uploadContainer__2nae4\",\"upload\":\"profile__upload_upload__1PAGV\",\"buttonContainer\":\"profile__upload_buttonContainer__1BnPN\",\"fileInput\":\"profile__upload_fileInput__3j4Tt\",\"preview\":\"profile__upload_preview__32czN\",\"captionContainer\":\"profile__upload_captionContainer__2jDje\",\"captionInput\":\"profile__upload_captionInput__28M9u\",\"postButton\":\"profile__upload_postButton__3QQHD\",\"saveBtn\":\"profile__upload_saveBtn__m24jl\",\"loader\":\"profile__upload_loader__HMsSE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"profile__followers-modal_modal__3tB3X\",\"anim\":\"profile__followers-modal_anim__7L6jl\",\"container\":\"profile__followers-modal_container__3Ilil\",\"header\":\"profile__followers-modal_header___ZpoR\",\"activeHeader\":\"profile__followers-modal_activeHeader__D2ll_\",\"inactiveHeader\":\"profile__followers-modal_inactiveHeader__3FSOY\",\"tabs\":\"profile__followers-modal_tabs__2Os3r\",\"close\":\"profile__followers-modal_close__3INQ1\",\"listContainer\":\"profile__followers-modal_listContainer__3sGKP\",\"listItem\":\"profile__followers-modal_listItem__3C5g1\",\"start\":\"profile__followers-modal_start__Htzo2\",\"avatarContainer\":\"profile__followers-modal_avatarContainer__1qNpa\",\"names\":\"profile__followers-modal_names__2HesW\",\"displayName\":\"profile__followers-modal_displayName__1moWv\",\"username\":\"profile__followers-modal_username__3a7X3\",\"link\":\"profile__followers-modal_link__OguEg\",\"profileBtn\":\"profile__followers-modal_profileBtn__X2YLQ\",\"dummy\":\"profile__followers-modal_dummy__2d3Ba\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"post__loading_image__2GqsN\",\"profileImg\":\"post__loading_profileImg__3bWxo\",\"displayName\":\"post__loading_displayName__lC7S4\",\"username\":\"post__loading_username__2Qn2z\",\"commentProfile\":\"post__loading_commentProfile__29s--\",\"comment\":\"post__loading_comment__2IcMu\",\"gradientMove\":\"post__loading_gradientMove__1S51o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"nav__user-menu_container__Fqcgp\",\"inner\":\"nav__user-menu_inner__2kALp\",\"option\":\"nav__user-menu_option__3-4qX\",\"icon\":\"nav__user-menu_icon__3xZXt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewAll\":\"post__comment-section_viewAll__2sS96\",\"comments\":\"post__comment-section_comments__1kE_m\",\"commentContainer\":\"post__comment-section_commentContainer__2Pa15\",\"start\":\"post__comment-section_start__3HJtG\",\"comment\":\"post__comment-section_comment__3yWT0\",\"user\":\"post__comment-section_user__1KlxN\",\"time\":\"post__comment-section_time__rFzjS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"home__card__overlay_container__1j5BI\",\"fade\":\"home__card__overlay_fade__1rCNh\",\"header\":\"home__card__overlay_header__3YKgv\",\"close\":\"home__card__overlay_close__7bNL4\",\"main\":\"home__card__overlay_main__2TswB\",\"share\":\"home__card__overlay_share__3gvBr\",\"input\":\"home__card__overlay_input__2scVn\",\"button\":\"home__card__overlay_button__2zKPy\",\"scale\":\"home__card__overlay_scale__2xr_s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"feedContainer\":\"profile__feed_feedContainer__jw4N6\",\"feed\":\"profile__feed_feed__l-_-A\",\"outer\":\"profile__feed_outer__8KF2v\",\"notFound\":\"profile__feed_notFound__2QW_f\",\"notFoundButton\":\"profile__feed_notFoundButton__3EUiW\",\"loaderContainer\":\"profile__feed_loaderContainer__1_UKL\",\"endFeed\":\"profile__feed_endFeed__3rMZw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"post__menu_container__OSM0B\",\"containerOwn\":\"post__menu_containerOwn__1rB-R\",\"inner\":\"post__menu_inner__gfhKj\",\"option\":\"post__menu_option__2wYKe\",\"icon\":\"post__menu_icon__25HJ1\",\"postIcon\":\"post__menu_postIcon__3jcva\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"messagesContact_active__1S8BW\",\"container\":\"messagesContact_container__SpyKz\",\"avatarContainer\":\"messagesContact_avatarContainer__37Pi8\",\"name\":\"messagesContact_name__2HHlB\",\"infoContainer\":\"messagesContact_infoContainer__XcOI9\",\"message\":\"messagesContact_message__1rt-A\",\"time\":\"messagesContact_time__3r9Eq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"profile__card_card__7TO71\",\"container\":\"profile__card_container__29ku9\",\"link\":\"profile__card_link__1YrJR\",\"blur\":\"profile__card_blur__3aW37\",\"fade\":\"profile__card_fade__4kdFJ\",\"overlay\":\"profile__card_overlay__2wOy9\",\"icon\":\"profile__card_icon__15nv5\",\"loading\":\"profile__card_loading__1HL9C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"nav__search__item_container__1rbtQ\",\"link\":\"nav__search__item_link__Lw8K0\",\"start\":\"nav__search__item_start__1udLh\",\"avatar\":\"nav__search__item_avatar__XDZQW\",\"displayName\":\"nav__search__item_displayName__2aH4p\",\"type\":\"nav__search__item_type__2UESu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"post_post__3I_6Y\",\"notFoundContainer\":\"post_notFoundContainer__3MkKm\",\"returnButton\":\"post_returnButton__3Ndd_\",\"container\":\"post_container__3XRbe\",\"image\":\"post_image__3qomB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"messages__create-menu_modal__1w8N3\",\"anim\":\"messages__create-menu_anim__2L1bg\",\"container\":\"messages__create-menu_container__2gz1S\",\"header\":\"messages__create-menu_header__1ZwAq\",\"close\":\"messages__create-menu_close__EwgDx\",\"listContainer\":\"messages__create-menu_listContainer__3hZ35\",\"listItem\":\"messages__create-menu_listItem__3RlRm\",\"start\":\"messages__create-menu_start__1kCYO\",\"avatarContainer\":\"messages__create-menu_avatarContainer__1ONU6\",\"names\":\"messages__create-menu_names__279M1\",\"displayName\":\"messages__create-menu_displayName__u7u3V\",\"username\":\"messages__create-menu_username__2CyxC\",\"link\":\"messages__create-menu_link__3LbMr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"messages_messages__-1auM\",\"navBg\":\"messages_navBg__1VcBn\",\"sidebar\":\"messages_sidebar__2VM5P\",\"header\":\"messages_header__2uzVi\",\"userAvatarContainer\":\"messages_userAvatarContainer__5qf6h\",\"userAvatarBlur\":\"messages_userAvatarBlur__2zJW5\",\"backArrowContainer\":\"messages_backArrowContainer__1vB9S\",\"headerTitle\":\"messages_headerTitle__3-WO_\",\"createIconContainer\":\"messages_createIconContainer__XW38m\",\"createIcon\":\"messages_createIcon__Mu0Dc\",\"contactsContainer\":\"messages_contactsContainer__1MVn_\",\"main\":\"messages_main__1Rz6i\",\"messageArea\":\"messages_messageArea__LK28x\",\"messageBox\":\"messages_messageBox__twOZU\",\"messageForm\":\"messages_messageForm__3c1jY\",\"input\":\"messages_input__1GR5Q\",\"send\":\"messages_send__-681q\",\"hide\":\"messages_hide__3IS7P\",\"remove\":\"messages_remove__2ZUm_\",\"backArrow\":\"messages_backArrow__9s_d-\",\"dummy\":\"messages_dummy__gznXD\",\"AnimationName\":\"messages_AnimationName__3AIOs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"notifications_container__10GIh\",\"inner\":\"notifications_inner__22gY9\",\"loader\":\"notifications_loader__1Yk7U\",\"none\":\"notifications_none__2563n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"nav__search_container__3vsLD\",\"inner\":\"nav__search_inner__3Zkl4\",\"loader\":\"nav__search_loader__vOsvU\",\"noResults\":\"nav__search_noResults__3MwRg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginButtons\":\"home__login_loginButtons__IDFl8\",\"signUp\":\"home__login_signUp__2PU0T\",\"login\":\"home__login_login__5UjpF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"home__feed_container__2yUKA\",\"loaderContainer\":\"home__feed_loaderContainer__3_m91\",\"noPosts\":\"home__feed_noPosts__j8c7Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"home_home__2aVVP\",\"inner\":\"home_inner__2gif9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"profile__avatar__modal_modal__3nLy6\",\"anim\":\"profile__avatar__modal_anim__1S14a\",\"avatar\":\"profile__avatar__modal_avatar__3eoW1\"};","export default __webpack_public_path__ + \"static/media/logo-2.6eea3ec0.png\";","const root = document.documentElement;\n\nconst dark = () => {\n  root.style.setProperty('--primary-font-color', 'white');\n  root.style.setProperty('--nav-background-color', 'rgba(0, 0, 0, 0.733)');\n  root.style.setProperty('--primary-transparent-color', 'rgba(0, 0, 0, 0.93)');\n  root.style.setProperty('--user-menu-font-color', 'white');\n  root.style.setProperty('--primary-background-color', 'black');\n  root.style.setProperty('--primary-border', '1px solid rgb(41, 41, 41)');\n  root.style.setProperty('--secondary-border', '1px solid rgb(41, 41, 41)');\n  root.style.setProperty('--loading-gradient', 'linear-gradient(to right, #000000, #353535)');\n  root.style.setProperty('--messages-sidebar-background', 'rgba(0, 0, 0, 0.87)');\n  root.style.setProperty('--messages-bubble-background', '#303030');\n  root.style.setProperty('--menu-hover-color', 'rgba(255, 255, 255, 0.1)');\n  root.style.setProperty('--notification-type-color', 'rgb(221, 221, 221)');\n  root.style.setProperty('--home-card-overlay', 'rgba(0, 0, 0, 0.85)');\n};\n\nconst light = () => {\n  root.style.setProperty('--primary-font-color', 'black');\n  root.style.setProperty('--nav-background-color', 'rgba(255, 255, 255, 0.733)');\n  root.style.setProperty('--primary-transparent-color', 'rgba(255, 255, 255, 0.98)');\n  root.style.setProperty('--user-menu-font-color', 'black');\n  root.style.setProperty('--primary-background-color', 'white');\n  root.style.setProperty('--primary-border', '1px solid rgb(41, 41, 41, 0)');\n  root.style.setProperty('--secondary-border', '1px solid rgb(206, 206, 206)');\n  root.style.setProperty('--loading-gradient', 'linear-gradient(to right, #ffffff, #c2c2c2)');\n  root.style.setProperty('--messages-sidebar-background', 'rgba(255, 255, 255, 0.87)');\n  root.style.setProperty('--messages-bubble-background', '#d3d3d3');\n  root.style.setProperty('--menu-hover-color', 'rgba(0, 0, 0, 0.1)');\n  root.style.setProperty('--notification-type-color', 'rgb(75, 75, 75)');\n  root.style.setProperty('--home-card-overlay', 'rgba(255, 255, 255, 0.85)');\n};\n\nexport { light, dark };\n","import firebase from 'firebase';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nexport const initFire = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n});\n\nexport const signIn = () => {\n  const provider = new firebase.auth.GoogleAuthProvider();\n  firebase.auth().signInWithPopup(provider);\n};\n\nexport const firestoreFieldValue = firebase.firestore.FieldValue;\nexport const timestamp = firebase.firestore.FieldValue.serverTimestamp();\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\nexport const storageRef = firebase.storage().ref();\nexport const storage = firebase.storage();\n","import React from 'react';\nimport { NavLink, Link } from 'react-router-dom';\nimport { IoPersonCircleOutline, IoPersonAddOutline, IoLogOut } from 'react-icons/io5';\nimport { CgDarkMode } from 'react-icons/cg';\nimport Styles from '../../styles/nav/nav__user-menu.module.css';\nimport { light, dark } from '../../functions/theme';\nimport { firestore } from '../../services/firebase';\n\nconst NavUserMenu = ({ setOpenMenu, currentUser, logout, theme, setTheme }) => {\n  const handleClick = (e) => {\n    e.preventDefault();\n    setOpenMenu(false);\n  };\n\n  const changeTheme = (e) => {\n    e.preventDefault();\n    if (theme === 'light') {\n      dark();\n      setTheme('dark');\n      if (currentUser) {\n        const userRef = firestore.collection('users').doc(currentUser.uid);\n        userRef.set(\n          {\n            theme: 'dark',\n          },\n          { merge: true }\n        );\n      }\n    } else if (theme === 'dark') {\n      light();\n      setTheme('light');\n      if (currentUser) {\n        const userRef = firestore.collection('users').doc(currentUser.uid);\n        userRef.set(\n          {\n            theme: 'light',\n          },\n          { merge: true }\n        );\n      }\n    }\n  };\n\n  return (\n    <div onClick={handleClick} className={Styles.container}>\n      <div className={Styles.inner}>\n        {currentUser ? (\n          <>\n            <NavLink className={Styles.option} to={`/profile/${currentUser.uid}`}>\n              <IoPersonCircleOutline className={Styles.icon} />\n              <div>\n                <p>Profile</p>\n              </div>\n            </NavLink>\n            <div onClick={changeTheme} className={Styles.option}>\n              <CgDarkMode className={Styles.icon} />\n              <p>Change Theme</p>\n            </div>\n            <div onClick={logout} className={Styles.option}>\n              <IoLogOut className={Styles.icon} />\n              <p>Logout</p>\n            </div>\n          </>\n        ) : (\n          <>\n            <Link className={Styles.option} to=\"/sign-up\">\n              <IoPersonAddOutline className={Styles.icon} />\n              <div>\n                <p>Sign Up</p>\n              </div>\n            </Link>\n            <div onClick={changeTheme} className={Styles.option}>\n              <CgDarkMode className={Styles.icon} />\n              <p>Change Theme</p>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default NavUserMenu;\n","const convertTime = (start, end) => {\n  const total = (end - start) / 1000;\n  if (total < 30) {\n    return 'now';\n  }\n  if (total < 60) {\n    const converted = Math.floor(total);\n    return `${converted}s`;\n  }\n  if (total >= 60 && total < 3600) {\n    const converted = Math.floor(total / 60);\n    return `${converted}m`;\n  }\n  if (total >= 3600 && total < 86400) {\n    const converted = Math.floor(total / 3600);\n    return `${converted}h`;\n  }\n  if (total >= 86400 && total < 604800) {\n    const converted = Math.floor(total / 86400);\n    return `${converted}d`;\n  }\n  if (total >= 604800 && total < 2592000) {\n    const converted = Math.floor(total / 604800);\n    return `${converted}w`;\n  }\n  if (total >= 2592000 && total < 31536000) {\n    const converted = Math.floor(total / 2592000);\n    return `${converted}${converted === 1 ? 'mth' : 'mths'}`;\n  }\n  if (total >= 31536000) {\n    const converted = Math.floor(total / 31536000);\n    return `${converted}${converted === 1 ? 'yr' : 'yrs'}`;\n  }\n};\n\nexport default convertTime;\n","import React, { useEffect, useState } from 'react';\nimport { IoPersonAdd } from 'react-icons/io5';\nimport { Link } from 'react-router-dom';\nimport { firestore } from '../../services/firebase';\nimport convertTime from '../../functions/convertTime';\nimport Styles from '../../styles/notifications/notifications__item.module.css';\n\nconst NotificationsItem = ({ item, userProfile }) => {\n  const [profile, setProfile] = useState();\n  const [preview, setPreview] = useState();\n  const [type, setType] = useState();\n  const [addTime, setAddTime] = useState();\n\n  const getProfile = async () => {\n    const profileRef = await firestore.collection('users').doc(item.user).get();\n    setProfile(profileRef.data());\n  };\n\n  const getPost = async () => {\n    const postRef = await firestore\n      .collection('users')\n      .doc(userProfile.userID)\n      .collection('posts')\n      .doc(item.post)\n      .get();\n    const url = postRef.data()?.src;\n    setPreview(url);\n  };\n\n  useEffect(() => {\n    getProfile();\n    if (item.type === 'liked' || item.type === 'comment') {\n      getPost();\n    }\n  }, []);\n\n  useEffect(() => {\n    const currentTime = Date.now();\n    const converted = convertTime(item.time, currentTime);\n    setAddTime(converted);\n  }, []);\n\n  useEffect(() => {\n    if (profile && preview) {\n      if (item.type === 'liked') {\n        setType(\n          <Link className={Styles.link} to={`/post/${userProfile.userID}/${item.post}`}>\n            <div className={Styles.container}>\n              <div className={Styles.start}>\n                <Link className={Styles.inlineLink} to={`/profile/${item.user}`}>\n                  <div className={Styles.avatarContainer}>\n                    <img className={Styles.avatar} src={profile.profilePhoto} alt=\"\" />\n                  </div>\n                  <div className={Styles.displayName}>{profile.displayName}</div>\n                </Link>\n                <div className={Styles.type}>liked your post.</div>\n              </div>\n              <div className={Styles.end}>\n                <span className={Styles.time}>{`${addTime}`}</span>\n                <img className={Styles.preview} src={preview} alt=\"\" />\n              </div>\n            </div>\n          </Link>\n        );\n      }\n      if (item.type === 'comment') {\n        setType(\n          <Link className={Styles.link} to={`/post/${userProfile.userID}/${item.post}`}>\n            <div className={Styles.container}>\n              <div className={Styles.start}>\n                <Link className={Styles.inlineLink} to={`/profile/${item.user}`}>\n                  <div className={Styles.avatarContainer}>\n                    <img className={Styles.avatar} src={profile.profilePhoto} alt=\"\" />\n                  </div>\n                  <div className={Styles.displayName}>{profile.displayName}</div>\n                </Link>\n                <div className={Styles.type}>left a comment:</div>\n                <div className={Styles.comment}>\n                  {item.comment.length >= 15 ? item.comment.substring(0, 15) + '...' : item.comment}\n                </div>\n              </div>\n              <div className={Styles.end}>\n                <span className={Styles.time}>{`${addTime}`}</span>\n                <img className={Styles.preview} src={preview} alt=\"\" />\n              </div>\n            </div>\n          </Link>\n        );\n      }\n    } else if (profile && item.type === 'followed') {\n      setType(\n        <Link className={Styles.link} to={`/profile/${item.user}`}>\n          <div className={Styles.container}>\n            <div className={Styles.start}>\n              <div className={Styles.avatarContainer}>\n                <img className={Styles.avatar} src={profile.profilePhoto} alt=\"\" />\n              </div>\n              <div className={Styles.displayName}>{profile.displayName}</div>\n              <div className={Styles.type}>followed you.</div>\n            </div>\n            <div className={Styles.end}>\n              <span className={Styles.time}>{`${addTime}`}</span>\n              <IoPersonAdd className={Styles.followed} />\n            </div>\n          </div>\n        </Link>\n      );\n    }\n  }, [preview, profile]);\n\n  return <>{profile && type}</>;\n};\n\nexport default NotificationsItem;\n","import React, { useContext, useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { auth, signIn, firestore, firestoreFieldValue } from '../services/firebase';\n\n// Create context\nconst AuthContext = React.createContext();\n\n// Function allows you to use the context\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n\n// Function that uses provider in return\nexport function AuthProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState();\n  const [userProfile, setUserProfile] = useState();\n  const [attemptLogin, setAttemptLogin] = useState();\n  const [loading, setLoading] = useState(true);\n  let history = useHistory();\n\n  const login = () => {\n    signIn();\n    setAttemptLogin(true);\n  };\n\n  function logout() {\n    setUserProfile(null);\n    history.push('/');\n    return auth.signOut();\n  }\n\n  // only check user on component mount\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      setCurrentUser(user);\n      setLoading(false);\n    });\n    return unsubscribe;\n  }, []);\n\n  const getUserProfile = async () => {\n    const profileData = await firestore.collection('users').doc(currentUser.uid).get();\n    setUserProfile(profileData.data());\n  };\n\n  useEffect(() => {\n    if (currentUser) {\n      getUserProfile();\n    }\n    if (attemptLogin && currentUser) {\n      return firestore\n        .collection('users')\n        .doc(currentUser.uid)\n        .get()\n        .then((userData) => {\n          //# if user data does not exist\n          if (!userData.exists) {\n            auth.signOut();\n            setAttemptLogin(false);\n          }\n        });\n    }\n  }, [currentUser]);\n\n  //+ check whether name is taken and then create the user\n  const firebaseRegister = async (usernameInput) => {\n    if (currentUser !== null) {\n      const userData = await firestore.collection('users').doc(currentUser.uid).get();\n      //# if user data does not exist\n      if (!userData.exists) {\n        let foundName;\n        await firestore\n          .collection('users')\n          .where('username', '==', usernameInput)\n          .get()\n          .then((searchResults) => {\n            return searchResults.forEach((doc) => {\n              foundName = doc.data();\n            });\n          });\n\n        if (foundName === undefined) {\n          const lower = currentUser.displayName.toLowerCase();\n          const currentTime = Date.now();\n          //+ create the user account\n          await firestore\n            .collection('users')\n            .doc(currentUser.uid)\n            .set({\n              displayName: currentUser.displayName,\n              searchName: lower,\n              profilePhoto: currentUser.photoURL,\n              banner:\n                'https://firebasestorage.googleapis.com/v0/b/insta-a107a.appspot.com/o/default-banner.jpg?alt=media&token=d3c53902-0e3a-4761-8705-8991db9d7b68',\n              bio: `Hi my name is ${currentUser.displayName}`,\n              username: usernameInput,\n              userID: currentUser.uid,\n              joinDate: currentUser.metadata.creationTime,\n              lastPostDate: 0,\n              likedPosts: [],\n              postsCounter: 0,\n              followers: [],\n              following: ['e9x1NbFsE8VqLAqAKfbpHkH0QS93'],\n              messagesCounter: 0,\n              notifications: [],\n              theme: 'light',\n            })\n            .catch(function (error) {\n              console.error('Error writing new message to database', error);\n            });\n          //+ add default message\n          const addMessage = () => {\n            firestore\n              .collection('users')\n              .doc(currentUser.uid)\n              .collection('messages')\n              .doc('e9x1NbFsE8VqLAqAKfbpHkH0QS93')\n              .set({\n                messages: [\n                  {\n                    message: `Hi ${currentUser.displayName}, Thanks for signing up and testing my project. Please look around and test all the features you can. You can reply to this message if you'd like, but I might not see it. So, to get in touch please email me at joshnwarren@gmail.com.`,\n                    time: currentTime,\n                    user: 'e9x1NbFsE8VqLAqAKfbpHkH0QS93',\n                  },\n                ],\n                time: currentTime,\n                user: 'e9x1NbFsE8VqLAqAKfbpHkH0QS93',\n              });\n          };\n          //+ update my followers\n          const addFollower = () => {\n            const userRef = firestore.collection('users').doc('e9x1NbFsE8VqLAqAKfbpHkH0QS93');\n            userRef.update({\n              followers: firestoreFieldValue.arrayUnion(currentUser.uid),\n            });\n          };\n\n          //+ notify me\n          const notify = () => {\n            const userRef = firestore.collection('users').doc('e9x1NbFsE8VqLAqAKfbpHkH0QS93');\n            userRef.update({\n              notifications: firestoreFieldValue.arrayUnion({\n                user: currentUser.uid,\n                type: 'followed',\n                time: currentTime,\n              }),\n            });\n          };\n\n          await Promise.all([addMessage(), addFollower(), notify()]);\n          history.push('/settings');\n        } else {\n          auth.signOut();\n        }\n      } else {\n        history.push('/');\n      }\n    }\n  };\n\n  const value = {\n    currentUser,\n    userProfile,\n    getUserProfile,\n    login,\n    logout,\n    firebaseRegister,\n  };\n\n  // Takes all value props\n  return <AuthContext.Provider value={value}>{!loading && children}</AuthContext.Provider>;\n}\n","import React, { useState, useEffect } from 'react';\nimport NotificationsItem from './NotificationsItem';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useHistory } from 'react-router';\nimport Styles from '../../styles/notifications/notifications.module.css';\n\nconst Notifications = ({ handleNoti, setCurrentNotis, notiArray }) => {\n  const { userProfile, getUserProfile } = useAuth();\n  const [loading, setLoading] = useState(true);\n  let history = useHistory();\n\n  useEffect(() => {\n    if (userProfile) {\n      getUserProfile();\n    } else {\n      history.push('/sign-up');\n      handleNoti();\n    }\n  }, []);\n\n  useEffect(() => {\n    if (userProfile) {\n      setLoading(false);\n    }\n  }, [userProfile]);\n\n  useEffect(() => {\n    if (loading) return;\n    setCurrentNotis(0);\n  }, [loading]);\n\n  let notiFragment;\n\n  if (loading) {\n    notiFragment = <div className={`${Styles.loader} loader`} />;\n  }\n\n  if (!loading) {\n    notiFragment =\n      notiArray && notiArray.length > 0 ? (\n        notiArray.map((item) => (\n          <NotificationsItem key={item.time} userProfile={userProfile} item={item} />\n        ))\n      ) : (\n        <p className={Styles.none}>No Notifications</p>\n      );\n  }\n\n  return (\n    <div onClick={handleNoti} className={Styles.container}>\n      <div className={Styles.inner}>{notiFragment}</div>\n    </div>\n  );\n};\n\nexport default Notifications;\n","import React, { useState } from 'react';\n\nconst ImageLoader = ({\n  src,\n  position = 'relative',\n  width = '100%',\n  height = '100%',\n  transition = 0.7,\n  cursor = 'pointer',\n  borderRadius = '0',\n  shadow = 'none',\n  zIndex = '1',\n  transform = 'initial',\n}) => {\n  const [loading, setLoading] = useState(true);\n\n  const handleLoad = () => {\n    setLoading(false);\n  };\n\n  const loadingDiv = {\n    width,\n    height,\n    position,\n    zIndex,\n    background: 'var(--loading-gradient)',\n    backgroundSize: '200%',\n    animation: '2s linear infinite gradientMove',\n    borderRadius,\n    boxShadow: shadow,\n    transform,\n  };\n\n  const hideDiv = {\n    width,\n    height,\n    position,\n    zIndex,\n    background: 'var(--loading-gradient)',\n    backgroundSize: '200%',\n    animation: 'none',\n    display: 'block',\n    borderRadius,\n    boxShadow: shadow,\n    transform,\n  };\n\n  const image = {\n    position,\n    width,\n    height,\n    objectFit: 'cover',\n    objectPosition: 'center',\n    cursor,\n    opacity: '1',\n    transition: `opacity ${transition}s`,\n    borderRadius,\n    boxShadow: shadow,\n    transform,\n  };\n\n  const hideImg = {\n    position,\n    width,\n    height,\n    opacity: '0',\n    borderRadius,\n    transform,\n  };\n\n  return (\n    <>\n      <div style={!loading ? hideDiv : loadingDiv}>\n        <img style={!loading ? image : hideImg} onLoad={handleLoad} src={src} alt=\"\" />\n      </div>\n    </>\n  );\n};\n\nexport default ImageLoader;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Styles from '../../styles/nav/nav__search__item.module.css';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst NavSearchItem = ({ item, setOpenSearch, setSearchInput }) => {\n  let history = useHistory();\n\n  const handleClick = () => {\n    history.push(`/profile/${item.userID}`);\n    setOpenSearch(false);\n    setSearchInput('');\n  };\n  return (\n    <div onClick={handleClick} className={Styles.container}>\n      <div className={Styles.container}>\n        <div className={Styles.start}>\n          <div className={Styles.avatarContainer}>\n            <ImageLoader borderRadius=\"100%\" width=\"25px\" height=\"25px\" src={item.profilePhoto} />\n          </div>\n          <div className={Styles.displayName}>{item.displayName}</div>\n          <div className={Styles.type}>@{item.username}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NavSearchItem;\n","import React, { useState, useEffect } from 'react';\nimport NavSearchItem from './NavSearchItem';\nimport { firestore } from '../../services/firebase';\nimport Styles from '../../styles/nav/nav__search.module.css';\n\nconst NavSearch = ({ searchInput, setOpenSearch, setSearchInput, searchRef }) => {\n  const [searchResults, setSearchResults] = useState([]);\n\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    let handler = (e) => {\n      if (searchRef.current && !searchRef.current.contains(e.target)) {\n        setOpenSearch(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handler);\n    return () => {\n      document.removeEventListener('mousedown', handler);\n    };\n  }, []);\n\n  useEffect(() => {\n    const search = async () => {\n      if (searchInput !== '') {\n        setLoading(true);\n        let temp = [];\n        await firestore\n          .collection('users')\n          .where('searchName', '>=', searchInput.toLowerCase())\n          .where('searchName', '<=', searchInput.toLowerCase() + '\\uf8ff')\n          .limit(5)\n          .get()\n          .then((results) => {\n            return results.forEach((doc) => {\n              temp.push(doc.data());\n            });\n          });\n        setSearchResults(temp);\n        setLoading(false);\n      }\n    };\n    search();\n  }, [searchInput]);\n\n  let searchInner;\n\n  if (loading) {\n    searchInner = <div className={`loader ${Styles.loader}`} />;\n  }\n\n  if (!loading) {\n    searchInner = (\n      <>\n        {searchResults.length === 0 && <p className={Styles.noResults}>No Results</p>}\n        {searchResults.map((item) => (\n          <NavSearchItem\n            key={item.username}\n            setSearchInput={setSearchInput}\n            setOpenSearch={setOpenSearch}\n            item={item}\n          />\n        ))}\n      </>\n    );\n  }\n\n  return (\n    <div ref={searchRef} className={Styles.container}>\n      <div className={Styles.inner}>{searchInner}</div>\n    </div>\n  );\n};\n\nexport default NavSearch;\n","const debounce = (func, delay) => {\n  let inDebounce;\n  return function () {\n    clearTimeout(inDebounce);\n    inDebounce = setTimeout(() => {\n      func.apply(this, arguments);\n    }, delay);\n  };\n};\n\nexport default debounce;\n","//+ new post modal\nconst stopScroll = (state) => {\n  if (state === false) {\n    document.body.classList.add('stop-scrolling');\n  } else {\n    document.body.classList.remove('stop-scrolling');\n  }\n};\n\nexport default stopScroll;\n","const resizeImage = (e, setImageFile, setPostFile, width) => {\n  const file = e.target.files[0];\n  if (file && file.size < 5000000) {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = (event) => {\n      const imgEl = document.createElement('img');\n      imgEl.src = event.target.result;\n\n      imgEl.onload = (img) => {\n        const canvas = document.createElement('canvas');\n        const MAX_WIDTH = width;\n        const scaleSize = MAX_WIDTH / img.target.width;\n        canvas.width = MAX_WIDTH;\n        canvas.height = img.target.height * scaleSize;\n\n        const ctx = canvas.getContext('2d');\n        ctx.drawImage(img.target, 0, 0, canvas.width, canvas.height);\n\n        const srcEncoded = ctx.canvas.toDataURL(img.target, 'image/jpeg');\n        if (setImageFile !== 'none') {\n          setImageFile(srcEncoded);\n        }\n        ctx.canvas.toBlob(\n          (blob) => {\n            setPostFile(blob);\n          },\n          'image/jpeg',\n          0.7\n        );\n      };\n    };\n  }\n};\n\nexport default resizeImage;\n","import React, { useState } from 'react';\nimport { IoCloseOutline, IoCloudUploadOutline } from 'react-icons/io5';\nimport { firestore, storageRef } from '../../services/firebase';\nimport resizeImage from '../../functions/resizeImage';\nimport { useAuth } from '../../contexts/AuthContext';\nimport Styles from '../../styles/profile/profile__upload.module.css';\n\nconst ProfileUpload = ({ getModal, setNewPost }) => {\n  const [postFile, setPostFile] = useState(null);\n  const [caption, setCaption] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const [imageFile, setImageFile] = useState();\n  const { userProfile, getUserProfile } = useAuth();\n\n  //+ after choosing a file store it in state\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file && file.size < 5000000) {\n      resizeImage(e, setImageFile, setPostFile, 1000);\n    } else {\n      setPostFile(null);\n    }\n  };\n\n  //+ set the caption\n  const handleTextChange = (e) => {\n    e.preventDefault();\n    setCaption(e.target.value);\n  };\n\n  //+ submit the post\n  const handleSubmit = async (e) => {\n    const timestamp = Date.now();\n    e.preventDefault();\n    setUploading(true);\n    //+ create post info\n    const createPost = await firestore\n      .collection('users')\n      .doc(userProfile.userID)\n      .collection('posts')\n      .add({\n        date: timestamp,\n        likes: [],\n        comments: [],\n        caption: caption,\n        userID: userProfile.userID,\n      });\n    //+ upload image to storage\n    const fileRef = storageRef.child(`${userProfile.userID}/${createPost.id}`);\n    await fileRef.put(postFile);\n    const fileUrl = await fileRef.getDownloadURL();\n    //+ set src to image url\n    await createPost.set(\n      {\n        src: fileUrl,\n      },\n      { merge: true }\n    );\n    //+ update post count\n    await firestore\n      .collection('users')\n      .doc(userProfile.userID)\n      .set(\n        {\n          postsCounter: userProfile.postsCounter + 1,\n          lastPostDate: timestamp,\n        },\n        { merge: true }\n      );\n    //+ close modal and update state with new post\n    getModal(e);\n    setUploading(false);\n    getUserProfile();\n    if (!setNewPost) return;\n    setNewPost((prev) => prev + 1);\n  };\n\n  const doNothing = (e) => {\n    e.preventDefault();\n  };\n\n  return (\n    <div className={Styles.modal}>\n      <div className={Styles.container}>\n        <div className={Styles.header}>\n          <h3>Create New Post</h3>\n          <IoCloseOutline onClick={getModal} className={Styles.close} />\n        </div>\n        <div className={Styles.topContainer}>\n          <img\n            style={!imageFile ? { display: 'none' } : null}\n            className={Styles.preview}\n            src={imageFile}\n            alt=\"\"\n          />\n\n          <div style={imageFile && { display: 'none' }} className={Styles.uploadContainer}>\n            <label className={Styles.buttonContainer}>\n              <input\n                onChange={handleFileChange}\n                type=\"file\"\n                accept=\"image/jpeg, image/png, image/jpg\"\n                className={Styles.fileInput}\n              />\n              <IoCloudUploadOutline className={Styles.upload} />\n              <p>{postFile === null ? 'File size limit 5 mb.' : 'ready to post'}</p>\n            </label>\n          </div>\n          <div>\n            <div className={Styles.captionContainer}>\n              <textarea\n                className={Styles.captionInput}\n                name=\"caption\"\n                maxLength=\"150\"\n                placeholder=\"Enter Caption...\"\n                onChange={handleTextChange}\n              />\n            </div>\n          </div>\n        </div>\n        {uploading ? (\n          <div className={`${Styles.loader} loader`} />\n        ) : (\n          <button\n            onClick={postFile !== null ? handleSubmit : doNothing}\n            type=\"submit\"\n            className={postFile === null ? Styles.postButton : Styles.saveBtn}\n          >\n            Post\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileUpload;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { NavLink, Link, useHistory } from 'react-router-dom';\nimport {\n  IoHomeOutline,\n  IoChatbubbleOutline,\n  IoHeartOutline,\n  IoPersonOutline,\n  IoAddCircleOutline,\n} from 'react-icons/io5';\nimport logo from '../../assets/img/logo/logo-2.png';\nimport NavUserMenu from './NavUserMenu';\nimport Styles from '../../styles/nav/nav.module.css';\nimport Notifications from '../Notifications/Notifications';\nimport NavSearch from './NavSearch';\nimport { light, dark } from '../../functions/theme';\nimport debounce from '../../functions/debounce';\nimport stopScroll from '../../functions/stopScroll';\nimport ProfileUpload from '../Profile/ProfileUpload';\nimport { firestore } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst Nav = () => {\n  const { currentUser, logout, userProfile } = useAuth();\n  const [theme, setTheme] = useState('light');\n  const [openMenu, setOpenMenu] = useState(false);\n  const [openNoti, setOpenNoti] = useState(false);\n  const [openSearch, setOpenSearch] = useState(false);\n  const [currentNotis, setCurrentNotis] = useState(0);\n  const [notiArray, setNotiArray] = useState([]);\n  const [searchInput, setSearchInput] = useState('');\n  const [searchValue, setSearchValue] = useState('');\n  const [renderModal, setRenderModal] = useState(false);\n  let history = useHistory();\n\n  const getModal = (e) => {\n    e.preventDefault();\n    if (!userProfile) return history.push('/sign-up');\n    renderModal ? setRenderModal(false) : setRenderModal(true);\n    stopScroll(renderModal);\n  };\n\n  const handleUserIcon = (e) => {\n    e.preventDefault();\n    openMenu ? setOpenMenu(false) : setOpenMenu(true);\n  };\n\n  const handleNoti = async () => {\n    if (!userProfile) return history.push('/sign-up');\n    if (openNoti) {\n      setOpenNoti(false);\n    } else {\n      setNotiArray(userProfile.notifications);\n      setCurrentNotis(0);\n      setOpenNoti(true);\n      const userRef = firestore.collection('users').doc(userProfile.userID);\n      await userRef.set(\n        {\n          notifications: [],\n        },\n        { merge: true }\n      );\n    }\n  };\n\n  let menuRef = useRef();\n  let notiRef = useRef();\n\n  useEffect(() => {\n    let handler = (e) => {\n      if (menuRef.current && !menuRef.current.contains(e.target)) {\n        setOpenMenu(false);\n      }\n\n      if (notiRef.current && !notiRef.current.contains(e.target)) {\n        setOpenNoti(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handler);\n    return () => {\n      document.removeEventListener('mousedown', handler);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (userProfile && userProfile.notifications) {\n      const unseen = userProfile.notifications.length;\n      setCurrentNotis(unseen);\n    }\n    if (userProfile && userProfile.theme) {\n      if (userProfile.theme === 'dark') {\n        dark();\n        setTheme('dark');\n      } else if (userProfile.theme === 'light') {\n        light();\n        setTheme('light');\n      }\n    }\n  }, [userProfile]);\n\n  const debounceChange = useCallback(\n    debounce((nextValue) => setSearchInput(nextValue), 500),\n    []\n  );\n\n  const handleSearch = (e) => {\n    setSearchValue(e.target.value);\n    debounceChange(e.target.value);\n  };\n\n  const searchRef = useRef();\n\n  const handleSearchModal = (e) => {\n    e.preventDefault();\n    !openSearch && setOpenSearch(true);\n  };\n\n  return (\n    <>\n      {renderModal ? (\n        <ProfileUpload getModal={getModal} />\n      ) : (\n        <div className={Styles.nav}>\n          <div className={Styles.inner}>\n            <Link to=\"/\">\n              <div className={Styles.logo}>\n                <img className={Styles.logoImg} src={logo} alt=\"\" />\n                <h2>Instagram</h2>\n              </div>\n            </Link>\n            {/*//+ search box */}\n            <div className={Styles.search}>\n              <form autoComplete=\"off\">\n                <input\n                  ref={searchRef}\n                  onChange={handleSearch}\n                  value={searchValue}\n                  className={Styles.searchInput}\n                  onClick={handleSearchModal}\n                  type=\"text\"\n                  placeholder=\"Search\"\n                />\n              </form>\n              {openSearch && searchInput !== '' ? (\n                <NavSearch\n                  setSearchInput={setSearchInput}\n                  searchInput={searchInput}\n                  setOpenSearch={setOpenSearch}\n                  searchRef={searchRef}\n                />\n              ) : null}\n            </div>\n            <div className={Styles.icons}>\n              <NavLink exact to=\"/\">\n                <IoHomeOutline className={Styles.icon + ' ' + Styles.home} />\n              </NavLink>\n              <NavLink exact to={userProfile ? '/messages' : '/sign-up'}>\n                <IoChatbubbleOutline className={Styles.icon + ' ' + Styles.chat} />\n              </NavLink>\n              <IoAddCircleOutline onClick={getModal} className={Styles.icon + ' ' + Styles.add} />\n              {/*//+ notifications */}\n              <div onClick={handleNoti} className={Styles.notiContainer} ref={notiRef}>\n                <IoHeartOutline className={Styles.icon + ' ' + Styles.heart} />\n                {currentNotis > 0 ? <div className={Styles.notiBadge}>{currentNotis}</div> : null}\n                {openNoti && (\n                  <Notifications\n                    notiArray={notiArray}\n                    setCurrentNotis={setCurrentNotis}\n                    handleNoti={handleNoti}\n                  />\n                )}\n              </div>\n              {/*//+ profile menu */}\n              <div className=\"user-menu-container\" ref={menuRef}>\n                <NavLink\n                  className={Styles.profileLink}\n                  onClick={(e) => e.preventDefault()}\n                  exact\n                  to={`/profile/${currentUser?.uid}`}\n                >\n                  <IoPersonOutline\n                    onClick={handleUserIcon}\n                    className={Styles.icon + ' ' + Styles.person}\n                  />\n                </NavLink>\n                {openMenu && (\n                  <NavUserMenu\n                    theme={theme}\n                    setTheme={setTheme}\n                    setOpenMenu={setOpenMenu}\n                    logout={logout}\n                    currentUser={currentUser}\n                  />\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Nav;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport Styles from '../../styles/home/home__login.module.css';\n\nconst LoginButton = () => {\n  const { login, currentUser } = useAuth();\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    login();\n  };\n\n  return (\n    <div>\n      {!currentUser && (\n        <div className={Styles.loginButtons}>\n          <Link id=\"home__sidebar__sign-up\" to=\"/sign-up\">\n            <button className={Styles.signUp}>Sign Up</button>\n          </Link>\n          <button className={Styles.login} onClick={handleLogin}>\n            Login\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default LoginButton;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { firestore, firestoreFieldValue } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst ProfileButton = ({\n  Styles,\n  currentUser,\n  match,\n  currentProfile,\n  getUserObject,\n  handleFollowers,\n}) => {\n  const [following, setFollowing] = useState(false);\n  const { userProfile } = useAuth();\n  let history = useHistory();\n\n  useEffect(() => {\n    const check = currentProfile?.followers.includes(userProfile?.userID);\n    if (check) {\n      setFollowing(true);\n    } else {\n      setFollowing(false);\n    }\n  }, [currentProfile]);\n\n  //+ follow\n  const handleFollow = async (e) => {\n    e.preventDefault();\n    if (!userProfile) return history.push('/sign-up');\n    const thisUser = firestore.collection('users').doc(match);\n    const userRef = firestore.collection('users').doc(userProfile.userID);\n\n    await thisUser.update({\n      followers: firestoreFieldValue.arrayUnion(userProfile.userID),\n    });\n    await userRef.update({\n      following: firestoreFieldValue.arrayUnion(currentProfile.userID),\n    });\n    await thisUser.update({\n      notifications: firestoreFieldValue.arrayUnion({\n        user: userProfile.userID,\n        type: 'followed',\n        time: Date.now(),\n      }),\n    });\n    getUserObject();\n  };\n\n  //+ unfollow\n  const handleUnfollow = async (e) => {\n    e.preventDefault();\n\n    const thisUser = firestore.collection('users').doc(match);\n    const userRef = firestore.collection('users').doc(userProfile.userID);\n\n    await thisUser.update({\n      followers: firestoreFieldValue.arrayRemove(userProfile.userID),\n    });\n    await userRef.update({\n      following: firestoreFieldValue.arrayRemove(currentProfile.userID),\n    });\n    getUserObject();\n  };\n\n  const handleLink = (e) => {\n    e.preventDefault();\n    if (handleFollowers) {\n      handleFollowers(e);\n    }\n    history.push('/settings');\n  };\n\n  //+ decides if profile button should be follow or edit\n  let button = (\n    <button onClick={handleFollow} className={Styles.profileBtn}>\n      Follow\n    </button>\n  );\n\n  if (following) {\n    button = (\n      <button onClick={handleUnfollow} className={Styles.profileBtn}>\n        Unfollow\n      </button>\n    );\n  }\n  // if contains user. set following\n  if (currentUser?.uid === match) {\n    button = (\n      <button onClick={handleLink} className={Styles.profileBtn}>\n        Edit Profile\n      </button>\n    );\n  }\n\n  return <>{button}</>;\n};\n\nexport default ProfileButton;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { firestore } from '../../services/firebase';\nimport ProfileButton from './ProfileButton';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst ProfileFollowerListItem = ({ item, Styles, handleFollowers, currentTab, currentUser }) => {\n  const [current, setCurrent] = useState(null);\n\n  let history = useHistory();\n  const getUser = async () => {\n    const userRef = firestore.collection('users').doc(item);\n    const thisUser = await userRef.get();\n    setCurrent(thisUser.data());\n  };\n  useEffect(() => {\n    getUser();\n  }, [currentTab]);\n\n  const handleLink = (e) => {\n    e.preventDefault();\n    handleFollowers(e);\n    history.push(`/profile/${current?.userID}`);\n  };\n\n  return (\n    <div className={Styles.listItem}>\n      <div onClick={handleLink} className={Styles.start}>\n        <div className={Styles.avatarContainer}>\n          <ImageLoader src={current?.profilePhoto} borderRadius=\"100%\" />\n        </div>\n        <div className={Styles.names}>\n          <p className={Styles.displayName}>{current?.displayName}</p>\n          <p className={Styles.username}>@{current?.username}</p>\n        </div>\n      </div>\n\n      <ProfileButton\n        currentProfile={current}\n        match={current?.userID}\n        currentUser={currentUser}\n        getUserObject={getUser}\n        Styles={Styles}\n        handleFollowers={handleFollowers}\n      />\n    </div>\n  );\n};\n\nexport default ProfileFollowerListItem;\n","import { useState, useEffect } from 'react';\n\nconst useIntersect = (ref, end) => {\n  const [isFetching, setIsFetching] = useState(false);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting && !isFetching) {\n          if (!end) return setIsFetching(true);\n          if (end.current === false) {\n            setIsFetching(true);\n          }\n        }\n      },\n      {\n        root: null,\n        rootMargin: '0px',\n        threshold: 0.1,\n      }\n    );\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n    return () => {\n      observer.disconnect();\n    };\n  }, [ref]);\n\n  return [isFetching, setIsFetching];\n};\n\nexport default useIntersect;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { IoCloseOutline } from 'react-icons/io5';\nimport Styles from '../../styles/profile/profile__followers-modal.module.css';\nimport ProfileFollowerListItem from './ProfileFollowerListItem';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst ProfileFollowers = ({\n  openFollowers,\n  handleFollowers,\n  currentProfile,\n  currentTab,\n  setCurrentTab,\n  currentUser,\n}) => {\n  const [list, setList] = useState([]);\n\n  const ref = useRef();\n  const [isFetching, setIsFetching] = useIntersect(ref);\n\n  const handleSwitch = (e) => {\n    e.preventDefault();\n    const choice = e.target.getAttribute('data-type');\n    setCurrentTab(choice);\n  };\n\n  useEffect(() => {\n    if (!currentProfile) return;\n    const { followers, following } = currentProfile;\n    let current;\n    currentTab === 'following' ? (current = following) : (current = followers);\n\n    const reverse = current.slice(0).reverse();\n    const slice = reverse.slice(0, 10);\n    setList([...slice]);\n  }, [currentTab]);\n\n  //+ GET more from storage\n  const createMore = () => {\n    if (!currentProfile) return;\n    const { followers, following } = currentProfile;\n    let current;\n    currentTab === 'following' ? (current = following) : (current = followers);\n\n    const reverse = current.slice(0).reverse();\n    const sliced = reverse.slice(list.length, list.length + 10);\n\n    const combine = [...list, ...sliced];\n    setList(combine);\n  };\n\n  useEffect(() => {\n    if (!isFetching) return;\n    createMore();\n  }, [isFetching]);\n\n  useEffect(() => {\n    setIsFetching(false);\n  }, [list]);\n\n  let map;\n\n  if (currentTab === 'following') {\n    map = list.map((item) => {\n      return (\n        <ProfileFollowerListItem\n          currentTab={currentTab}\n          handleFollowers={handleFollowers}\n          item={item}\n          Styles={Styles}\n          currentUser={currentUser}\n          key={item}\n        />\n      );\n    });\n  }\n\n  if (currentTab === 'followers') {\n    map = list.map((item) => {\n      return (\n        <ProfileFollowerListItem\n          currentTab={currentTab}\n          handleFollowers={handleFollowers}\n          item={item}\n          Styles={Styles}\n          currentUser={currentUser}\n          key={item}\n        />\n      );\n    });\n  }\n\n  return (\n    <>\n      {openFollowers && (\n        <div className={Styles.modal}>\n          <div className={Styles.container}>\n            <div className={Styles.header}>\n              <div className={Styles.tabs}>\n                <div\n                  onClick={handleSwitch}\n                  data-type=\"following\"\n                  className={\n                    currentTab === 'following' ? Styles.activeHeader : Styles.inactiveHeader\n                  }\n                >\n                  <h3 data-type=\"following\">Following</h3>\n                </div>\n                <div\n                  onClick={handleSwitch}\n                  data-type=\"followers\"\n                  className={\n                    currentTab === 'followers' ? Styles.activeHeader : Styles.inactiveHeader\n                  }\n                >\n                  <h3 data-type=\"followers\">Followers</h3>\n                </div>\n              </div>\n              <IoCloseOutline onClick={handleFollowers} className={Styles.close} />\n            </div>\n            {/*//+ list of followers is here */}\n            <div className={Styles.listContainer}>\n              {map}\n              <div className={Styles.dummy} ref={ref}></div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ProfileFollowers;\n","import React, { useState } from 'react';\nimport { IoAddCircleOutline } from 'react-icons/io5';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport LoginButton from './LoginButton';\nimport ProfileFollowersModal from '../Profile/ProfileFollowersModal';\nimport ProfileUpload from '../Profile/ProfileUpload';\nimport stopScroll from '../../functions/stopScroll';\nimport ImageLoader from '../reusable/ImageLoader';\nimport Styles from '../../styles/home/home__sidebar.module.css';\n\nconst Sidebar = ({ setNewPost }) => {\n  const { userProfile } = useAuth();\n  const [openFollowers, setOpenFollowers] = useState(false);\n  const [currentTab, setCurrentTab] = useState();\n  const [renderModal, setRenderModal] = useState(false);\n\n  const handleFollowers = (e) => {\n    e.preventDefault();\n    const choice = e.target.getAttribute('data-type');\n    setCurrentTab(choice);\n    openFollowers ? setOpenFollowers(false) : setOpenFollowers(true);\n    stopScroll(openFollowers);\n  };\n\n  //+ new post modal\n  const getModal = (e) => {\n    e.preventDefault();\n    renderModal ? setRenderModal(false) : setRenderModal(true);\n    stopScroll(renderModal);\n  };\n\n  return (\n    <div className={Styles.sidebar}>\n      <ProfileFollowersModal\n        currentProfile={userProfile}\n        handleFollowers={handleFollowers}\n        setOpenFollowers={setOpenFollowers}\n        openFollowers={openFollowers}\n        currentTab={currentTab}\n        setCurrentTab={setCurrentTab}\n        currentUser={userProfile}\n      />\n      {renderModal && <ProfileUpload setNewPost={setNewPost} getModal={getModal} />}\n      <div className={Styles.container}>\n        {userProfile && (\n          <Link to={`/profile/${userProfile.userID}`}>\n            <div className={Styles.profileContainer}>\n              <div className={Styles.imageContainer}>\n                <ImageLoader\n                  src={userProfile.profilePhoto}\n                  position=\"absolute\"\n                  width=\"80px\"\n                  height=\"80px\"\n                  cursor=\"pointer\"\n                  borderRadius=\"100%\"\n                />\n                <img className={Styles.profileImgBlur} src={userProfile.profilePhoto} alt=\"\" />\n              </div>\n              <div className={Styles.nameContainer}>\n                <h2 className={Styles.displayName}>{userProfile.displayName}</h2>\n                <p className={Styles.username}>@{userProfile.username}</p>\n              </div>\n            </div>\n          </Link>\n        )}\n        {userProfile && (\n          <div className={Styles.stats}>\n            <div onClick={handleFollowers} data-type=\"following\" className={Styles.statContainer}>\n              <div data-type=\"following\" className={Styles.stat}>\n                <p data-type=\"following\" className={Styles.number}>\n                  {userProfile.following.length}\n                </p>\n              </div>\n              <p data-type=\"following\">Following</p>\n            </div>\n            <div onClick={handleFollowers} data-type=\"followers\" className={Styles.statContainer}>\n              <div data-type=\"followers\" className={Styles.stat}>\n                <p data-type=\"followers\" className={Styles.number}>\n                  {userProfile.followers.length}\n                </p>\n              </div>\n              <p data-type=\"followers\">Followers</p>\n            </div>\n            <Link className={Styles.postsLink} to={`/profile/${userProfile.userID}`}>\n              <div className={Styles.statContainer}>\n                <div className={Styles.stat}>\n                  <p className={Styles.number}>{userProfile.postsCounter}</p>\n                </div>\n                <p>Posts</p>\n              </div>\n            </Link>\n            <div onClick={getModal} className={Styles.statContainer}>\n              <div className={Styles.stat}>\n                <IoAddCircleOutline />\n              </div>\n              <p>New Post</p>\n            </div>\n          </div>\n        )}\n        <LoginButton />\n      </div>\n    </div>\n  );\n};\n\nexport default Sidebar;\n","import React, { useEffect, useState } from 'react';\nimport { IoHeartOutline } from 'react-icons/io5';\nimport { useHistory } from 'react-router';\nimport Styles from '../../styles/home/home__card.module.css';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { firestore, firestoreFieldValue } from '../../services/firebase';\n\nconst HomeCardLike = ({ post, userID, setLikeState }) => {\n  const [liked, setLiked] = useState(false);\n  const { userProfile } = useAuth();\n  let history = useHistory();\n\n  const updateLikes = async () => {\n    if (userProfile && userProfile.likedPosts) {\n      if (userProfile.likedPosts.includes(post.id)) {\n        setLiked(true);\n      } else {\n        setLiked(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    updateLikes();\n  }, [userProfile]);\n\n  //! handle like\n  const handleLike = async (e) => {\n    e.preventDefault();\n    if (userProfile && userID) {\n      const thisPost = firestore.collection('users').doc(userID).collection('posts').doc(post.id);\n      const thisUser = firestore.collection('users').doc(userProfile.userID);\n      const postUser = firestore.collection('users').doc(userID);\n\n      //@ add this post to likes\n      if (!liked) {\n        setLiked(true);\n        setLikeState((prev) => prev + 1);\n        const addPost = () => {\n          thisPost.update({\n            likes: firestoreFieldValue.arrayUnion(userProfile.userID),\n          });\n        };\n        const addUser = () => {\n          thisUser.update({\n            likedPosts: firestoreFieldValue.arrayUnion(post.id),\n          });\n        };\n        const notify = () => {\n          postUser.update({\n            notifications: firestoreFieldValue.arrayUnion({\n              user: userProfile.userID,\n              type: 'liked',\n              post: post.id,\n              time: Date.now(),\n            }),\n          });\n        };\n        await Promise.all([notify(), addPost(), addUser()]);\n      } else {\n        //@ remove post from likes\n        const removePost = () => {\n          setLiked(false);\n          setLikeState((prev) => prev - 1);\n          thisPost.update({\n            likes: firestoreFieldValue.arrayRemove(userProfile.userID),\n          });\n        };\n        const removeUser = () => {\n          thisUser.update({\n            likedPosts: firestoreFieldValue.arrayRemove(post.id),\n          });\n        };\n        await Promise.all([removePost(), removeUser()]);\n      }\n    } else {\n      history.push('/sign-up');\n    }\n  };\n  return (\n    <IoHeartOutline onClick={handleLike} className={liked ? Styles.likedIcon : Styles.likeIcon} />\n  );\n};\n\nexport default HomeCardLike;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { firestore } from '../../services/firebase';\n\nconst HomeCardCommentItem = ({ Styles, item }) => {\n  const [current, setCurrent] = useState();\n\n  useEffect(() => {\n    const getUser = async () => {\n      const userRef = firestore.collection('users').doc(item.user);\n      const thisUser = await userRef.get();\n      setCurrent(thisUser.data());\n    };\n    getUser();\n  }, [item]);\n  return (\n    <>\n      {current && (\n        <p className={Styles.comment}>\n          <Link to={`/profile/${current.userID}`}>\n            <span className={Styles.commentUser}>{current.displayName}</span>\n          </Link>\n          {item.comment.length >= 15 ? item.comment.substring(0, 50) + '...' : item.comment}\n        </p>\n      )}\n    </>\n  );\n};\n\nexport default HomeCardCommentItem;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { IoSendOutline } from 'react-icons/io5';\nimport HomeCardCommentItem from './HomeCardCommentItem';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { firestore, firestoreFieldValue } from '../../services/firebase';\n\nconst HomeCardComments = ({ Styles, userID, post }) => {\n  const [commentArr, setCommentArr] = useState([]);\n  const [commentInput, setCommentInput] = useState('');\n  const { userProfile } = useAuth();\n\n  useEffect(() => {\n    const { comments } = post.data();\n    const temp = comments.slice(Math.max(comments.length - 2, 0));\n    setCommentArr(temp);\n  }, [post]);\n\n  const handleComment = async (e) => {\n    e.preventDefault();\n    if (userProfile) {\n      if (commentInput.length > 0 && commentInput.length < 100) {\n        const time = Date.now();\n        const commentObject = { time: time, comment: commentInput, user: userProfile.userID };\n        const temp = commentArr.slice(Math.max(commentArr.length - 1, 0));\n        temp.push(commentObject);\n\n        const thisPost = firestore.collection('users').doc(userID).collection('posts').doc(post.id);\n        const thisUser = firestore.collection('users').doc(userID);\n        //@ add comment to post\n        const addPost = () => {\n          thisPost.update({\n            comments: firestoreFieldValue.arrayUnion(commentObject),\n          });\n        };\n        const notify = () => {\n          thisUser.update({\n            notifications: firestoreFieldValue.arrayUnion({\n              user: userProfile.userID,\n              type: 'comment',\n              comment: commentInput,\n              post: post.id,\n              time: time,\n            }),\n          });\n        };\n        await Promise.all([notify(), addPost()]);\n\n        setCommentArr(temp);\n        setCommentInput('');\n      }\n    }\n  };\n\n  const handleChange = (e) => {\n    setCommentInput(e.target.value);\n  };\n\n  return (\n    <>\n      <div className={Styles.comments}>\n        <Link className={Styles.imageLink} to={`/Post/${userID}/${post.id}`}>\n          <p className={Styles.viewAll}>\n            {commentArr.length === 0 ? 'No Comments' : 'View All Comments'}\n          </p>\n        </Link>\n        <div className={Styles.commentContainer}>\n          {commentArr.map((item) => {\n            return <HomeCardCommentItem key={item.time} item={item} Styles={Styles} />;\n          })}\n        </div>\n      </div>\n      <div className={Styles.commentBox}>\n        <form onSubmit={handleComment} className={Styles.commentForm}>\n          <input\n            className={Styles.inputBox}\n            value={commentInput}\n            onChange={handleChange}\n            type=\"text\"\n            placeholder=\"Add a comment...\"\n            maxLength=\"99\"\n          />\n        </form>\n        <IoSendOutline onClick={handleComment} className={Styles.send} />\n      </div>\n    </>\n  );\n};\n\nexport default HomeCardComments;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst HomeCardImage = ({ Styles, src, userID, postID }) => {\n  return (\n    <Link className={Styles.imageLink} to={`/post/${userID}/${postID}`}>\n      <div className={Styles.imageContainer}>\n        <ImageLoader src={src} cursor=\"pointer\" />\n      </div>\n    </Link>\n  );\n};\n\nexport default HomeCardImage;\n","import React from 'react';\nimport { IoCloseOutline } from 'react-icons/io5';\nimport { useHistory } from 'react-router';\nimport { firestore, firestoreFieldValue } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport Styles from '../../styles/home/home__card__overlay.module.css';\n\nconst HomeCardOverlay = ({ getModal, type, userID, post }) => {\n  const { userProfile } = useAuth();\n  let history = useHistory();\n  //+ unfollow\n  const handleUnfollow = async () => {\n    const thisUser = firestore.collection('users').doc(userID);\n    const userRef = firestore.collection('users').doc(userProfile.userID);\n\n    await thisUser.update({\n      followers: firestoreFieldValue.arrayRemove(userProfile.userID),\n    });\n    await userRef.update({\n      following: firestoreFieldValue.arrayRemove(userID),\n    });\n    getModal();\n  };\n\n  const copyToClipboard = (content) => {\n    const el = document.createElement('textarea');\n    el.value = content;\n    document.body.appendChild(el);\n    el.select();\n    document.execCommand('copy');\n    document.body.removeChild(el);\n  };\n\n  const handleShare = () => {\n    copyToClipboard(`${window.location.href}post/${userID}/${post.id}`);\n    getModal();\n  };\n\n  const openLink = (linkType) => {\n    history.push(`/${linkType}`);\n  };\n\n  let button;\n\n  if (type === 'share') {\n    button = (\n      <div className={Styles.share}>\n        <input\n          className={Styles.input}\n          value={`${window.location.href}post/${userID}/${post.id}`}\n          readOnly\n        />\n        <button onClick={handleShare} className={Styles.button}>\n          Copy Link\n        </button>\n      </div>\n    );\n  }\n\n  if (type === 'follow') {\n    if (!userProfile) {\n      button = (\n        <button\n          onClick={() => {\n            openLink('sign-up');\n          }}\n          className={Styles.button}\n        >\n          Login\n        </button>\n      );\n    }\n\n    if (userProfile) {\n      if (userProfile.userID === userID) {\n        button = (\n          <button\n            onClick={() => {\n              openLink('settings');\n            }}\n            className={Styles.button}\n          >\n            Edit Profile\n          </button>\n        );\n      }\n      if (userProfile.userID !== userID) {\n        button = (\n          <button onClick={handleUnfollow} className={Styles.button}>\n            Unfollow\n          </button>\n        );\n      }\n    }\n  }\n\n  return (\n    <div className={Styles.container}>\n      <div className={Styles.header}>\n        <IoCloseOutline onClick={getModal} className={Styles.close} />\n      </div>\n      <div className={Styles.main}>{button}</div>\n    </div>\n  );\n};\n\nexport default HomeCardOverlay;\n","import React, { useState, useEffect } from 'react';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport { Link } from 'react-router-dom';\nimport { IoShareOutline, IoChatbubbleOutline, IoShareSocialOutline } from 'react-icons/io5';\nimport { firestore } from '../../services/firebase';\nimport HomeCardLike from './HomeCardLike';\nimport HomeCardComments from './HomeCardComments';\nimport HomeCardImage from './HomeCardImage';\nimport HomeCardOverlay from './HomeCardOverlay';\nimport Styles from '../../styles/home/home__card.module.css';\n\nconst Card = ({ post }) => {\n  const [user, setUser] = useState();\n  const [likeState, setLikeState] = useState();\n\n  const { src, userID, likes } = post.data();\n  const [modal, setModal] = useState(false);\n  const [type, setType] = useState();\n\n  useEffect(() => {\n    const getUser = async () => {\n      const userRef = await firestore.collection('users').doc(userID).get();\n      setUser(userRef.data());\n      setLikeState(likes.length);\n    };\n    getUser();\n  }, [post]);\n\n  const getModal = (modalType) => {\n    modal ? setModal(false) : setModal(true);\n    setType(modalType);\n  };\n\n  return (\n    <>\n      {post && user ? (\n        <div className={Styles.card}>\n          <div className={Styles.container}>\n            {modal && (\n              <HomeCardOverlay getModal={getModal} userID={userID} type={type} post={post} />\n            )}\n            {/*//+ header */}\n            <div className={Styles.header}>\n              <Link to={`/profile/${userID}`}>\n                <div className={Styles.left}>\n                  <img src={user.profilePhoto} alt=\"\" className={Styles.avatar} />\n                  <div className={Styles.userInfo}>\n                    <p className={Styles.displayName}>{user.displayName}</p>\n                    <p className={Styles.username}>@{user.username}</p>\n                  </div>\n                </div>\n              </Link>\n              {/*//+ more icon */}\n              <div className={Styles.right}>\n                <MoreHorizIcon\n                  onClick={() => {\n                    getModal('follow');\n                  }}\n                  className={Styles.moreIcon}\n                />\n              </div>\n            </div>\n            {/*//+ image */}\n            <HomeCardImage Styles={Styles} postID={post.id} userID={userID} src={src} />\n            {/*//+ footer */}\n            <div className={Styles.footer}>\n              <div className={Styles.firstChild}>\n                <div className={Styles.left}>\n                  {/*//+ likes button */}\n                  <HomeCardLike setLikeState={setLikeState} post={post} userID={userID} />\n                  <Link className={Styles.chatLink} to={`/Post/${userID}/${post.id}`}>\n                    <IoChatbubbleOutline className={Styles.icon} />\n                  </Link>\n                  <Link className={Styles.chatLink} to={`/Post/${userID}/${post.id}`}>\n                    <IoShareOutline className={Styles.icon} />\n                  </Link>\n                </div>\n                <IoShareSocialOutline\n                  className={Styles.icon}\n                  onClick={() => {\n                    getModal('share');\n                  }}\n                />\n              </div>\n              <Link className={Styles.imageLink} to={`/Post/${userID}/${post.id}`}>\n                <p className={Styles.likes}>{likeState} likes</p>\n              </Link>\n              {/*//+ comment section */}\n              <HomeCardComments Styles={Styles} userID={userID} post={post} />\n            </div>\n          </div>\n          <img className={Styles.imageBlur + ' ' + 'blur'} src={src} alt=\"\" />\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nexport default Card;\n","import React, { useEffect, useState, useRef } from 'react';\nimport Card from './HomeCard';\nimport Styles from '../../styles/home/home__feed.module.css';\nimport { firestore } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst HomeFeed = ({ newPost }) => {\n  const { userProfile } = useAuth();\n  const [stored, setStored] = useState([]);\n  const [feed, setFeed] = useState([]);\n  const [lastUser, setLastUser] = useState();\n\n  const [noPosts, setNoPosts] = useState(false);\n  const noPostsRef = useRef(false);\n  const dummyRef = useRef();\n  const [isFetching, setIsFetching] = useIntersect(dummyRef, noPostsRef);\n\n  //# firestore\n  const firestoreFunction = async (type) => {\n    let following = [];\n    let userRef;\n\n    if (type === 'first') {\n      following.push(userProfile);\n      // get followed users in last post order\n      userRef = await firestore\n        .collection('users')\n        .where('followers', 'array-contains', userProfile.userID)\n        .orderBy('lastPostDate', 'desc')\n        .limit(5)\n        .get();\n    } else if (type === 'infinite') {\n      // if no user is signed in\n      if (!userProfile) {\n        setIsFetching(false);\n        return setNoPosts(true);\n      }\n      userRef = await firestore\n        .collection('users')\n        .where('followers', 'array-contains', userProfile.userID)\n        .orderBy('lastPostDate', 'desc')\n        .startAfter(lastUser)\n        .limit(5)\n        .get();\n    } else if (type === 'none') {\n      const me = await firestore.collection('users').doc('e9x1NbFsE8VqLAqAKfbpHkH0QS93').get();\n      following.push(me.data());\n      // get people i follow\n      userRef = await firestore\n        .collection('users')\n        .where('followers', 'array-contains', 'e9x1NbFsE8VqLAqAKfbpHkH0QS93')\n        .orderBy('lastPostDate', 'desc')\n        .limit(10)\n        .get();\n    }\n\n    userRef.forEach((user) => {\n      following.push(user.data());\n    });\n\n    if (type === 'infinite' && !userRef.docs[userRef.docs.length - 1]) {\n      setIsFetching(false);\n      setNoPosts(true);\n      noPostsRef.current = true;\n      return;\n    } // set last user fetched\n    setLastUser(userRef.docs[userRef.docs.length - 1]);\n\n    const promises = following.map(async (user) => {\n      const postRef = await firestore\n        .collection('users')\n        .doc(user.userID)\n        .collection('posts')\n        .orderBy('date', 'desc')\n        .limit(5)\n        .get();\n      return postRef;\n    });\n\n    //await all posts from users\n    const postsArr = await Promise.all(promises);\n\n    // push all the posts to a new array\n    let temp = [];\n    postsArr.forEach((arr) => {\n      arr.forEach((post) => {\n        temp.push(post);\n      });\n    });\n\n    // sort all the posts by date\n    const sort = temp.sort((a, b) => b.data().date - a.data().date);\n\n    return sort;\n  };\n\n  //! get none\n  const getNone = async () => {\n    const sort = await firestoreFunction('none');\n    //add to stored posts\n    setStored(sort);\n  };\n\n  //@ get followed users posts\n  const getFollowed = async () => {\n    const sort = await firestoreFunction('first');\n    //add to stored posts\n    setStored(sort);\n  };\n\n  //+ GET more from storage\n  const createFeed = () => {\n    if (!stored) return;\n    const sliced = stored.slice(feed.length, feed.length + 2);\n    const combine = [...feed, ...sliced];\n    setFeed(combine);\n  };\n\n  //+ when storage is updated set the feed\n  useEffect(() => {\n    createFeed();\n  }, [stored]);\n\n  //@ get more posts on scroll\n  const getMore = async () => {\n    // if no more users return\n    if (!lastUser) {\n      setIsFetching(false);\n      return;\n    }\n    const sort = await firestoreFunction('infinite');\n    if (!sort) return;\n    const combine = [...stored, ...sort];\n    setStored(combine);\n  };\n\n  // get followed users on load\n  useEffect(() => {\n    if (userProfile) {\n      getFollowed();\n    } else {\n      getNone();\n    }\n  }, [userProfile]);\n\n  //+ on upload\n  useEffect(async () => {\n    if (newPost === 0) return;\n    let temp = [];\n    const next = await firestore\n      .collection('users')\n      .doc(userProfile.userID)\n      .collection('posts')\n      .orderBy('date', 'desc')\n      .limit(1)\n      .get();\n    if (!next) return;\n    next.forEach((post) => {\n      temp.push(post);\n    });\n    const combine = [...temp, ...feed];\n    setFeed(combine);\n    window.scrollTo(0, 0);\n  }, [newPost]);\n\n  //# decide from local or firestore\n  useEffect(() => {\n    if (!isFetching) return;\n    if (feed.length === stored.length) {\n      getMore();\n    } else {\n      createFeed();\n    }\n  }, [isFetching]);\n\n  //# after feed updates set load to false\n  useEffect(() => {\n    setIsFetching(false);\n  }, [feed]);\n\n  return (\n    <div className={Styles.container}>\n      {feed.map((post) => {\n        return <Card key={post.id} post={post} />;\n      })}\n\n      <div ref={dummyRef} className={`${Styles.loaderContainer}`}>\n        {isFetching && <div className=\"loader\" />}\n        {noPosts && <div className={Styles.noPosts}>No More Posts</div>}\n      </div>\n    </div>\n  );\n};\n\nexport default HomeFeed;\n","import { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nexport default function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}\n","import React, { useState } from 'react';\nimport Sidebar from './HomeSidebar';\nimport HomeFeed from './HomeFeed';\nimport Styles from '../../styles/home/home.module.css';\nimport ScrollToTop from '../../functions/ScrollToTop';\n\nconst Home = () => {\n  const [newPost, setNewPost] = useState(0);\n  return (\n    <div className={Styles.home}>\n      <ScrollToTop />\n      <div className={Styles.inner}>\n        <HomeFeed newPost={newPost} />\n        <Sidebar setNewPost={setNewPost} />\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState } from 'react';\nimport Styles from '../../styles/profile/profile__sidebar.module.css';\nimport ProfileFollowersModal from './ProfileFollowersModal';\nimport stopScroll from '../../functions/stopScroll';\n\nconst ProfileSidebar = ({ currentProfile, loaded, currentUser }) => {\n  const [openFollowers, setOpenFollowers] = useState(false);\n  const [currentTab, setCurrentTab] = useState();\n\n  const handleFollowers = (e) => {\n    e.preventDefault();\n    const choice = e.target.getAttribute('data-type');\n    setCurrentTab(choice);\n    openFollowers ? setOpenFollowers(false) : setOpenFollowers(true);\n    stopScroll(openFollowers);\n  };\n\n  let sidebar;\n\n  if (loaded === false) {\n    sidebar = (\n      <div className={Styles.sidebar}>\n        <div className={Styles.usernames}>\n          <div className={`${Styles.nameLoading} gradientLoad`} />\n          <div className={`${Styles.usernameLoading} gradientLoad`} />\n        </div>\n        <div className={`${Styles.counterLoading}`}>\n          <div className={`${Styles.counterLoading} gradientLoad`} />\n          <div className={`${Styles.counterLoading} gradientLoad`} />\n          <div className={`${Styles.counterLoading} gradientLoad`} />\n        </div>\n      </div>\n    );\n  }\n\n  if (loaded === true) {\n    sidebar = (\n      <div className={Styles.sidebar}>\n        <div className={Styles.usernames}>\n          <h2 className={Styles.displayName}>{currentProfile.displayName}</h2>\n          <h3 className={Styles.username}>@{currentProfile.username}</h3>\n        </div>\n        <div className={Styles.secondContainer}>\n          <div className={Styles.postsContainer}>\n            <h3>{currentProfile.postsCounter}</h3>\n            <p className={Styles.posts}>Posts</p>\n          </div>\n          {/*//+ followers / following */}\n          {openFollowers && (\n            <ProfileFollowersModal\n              currentProfile={currentProfile}\n              handleFollowers={handleFollowers}\n              setOpenFollowers={setOpenFollowers}\n              openFollowers={openFollowers}\n              currentTab={currentTab}\n              setCurrentTab={setCurrentTab}\n              currentUser={currentUser}\n            />\n          )}\n          <div className={Styles.userInfo}>\n            <div\n              onClick={handleFollowers}\n              data-type=\"following\"\n              className={Styles.followingContainer}\n            >\n              <h3 data-type=\"following\"> {currentProfile.following.length} </h3>\n              <p data-type=\"following\" className={Styles.following}>\n                Following\n              </p>\n            </div>\n            <div\n              data-type=\"followers\"\n              onClick={handleFollowers}\n              className={Styles.followersContainer}\n            >\n              <h3 data-type=\"followers\">{currentProfile.followers.length}</h3>\n              <p data-type=\"followers\" className={Styles.followers}>\n                Followers\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className={Styles.bio}>\n          <h3 className={Styles.bioHeader}>Bio</h3>\n          <p className={Styles.bioText}>{currentProfile.bio}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return <>{sidebar}</>;\n};\n\nexport default ProfileSidebar;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { IoHeartOutline, IoChatbubbleOutline } from 'react-icons/io5';\nimport Styles from '../../styles/profile/profile__card.module.css';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst ProfileCard = ({ src, match, postId, likes, comments }) => {\n  return (\n    <div className={Styles.card}>\n      <div className={Styles.container}>\n        <Link className={Styles.link} to={`/post/${match.params.uid}/${postId}`}>\n          <div className={Styles.overlay}>\n            <div className={Styles.icon}>\n              <IoHeartOutline /> <p>{likes.length}</p>\n            </div>\n            <div className={Styles.icon}>\n              <IoChatbubbleOutline />\n              <p>{comments.length}</p>\n            </div>\n          </div>\n          <ImageLoader src={src} borderRadius=\"9px\" />\n        </Link>\n      </div>\n      <img className={Styles.blur} src={src} alt=\"\" />\n    </div>\n  );\n};\n\nexport default ProfileCard;\n","import React, { useState, useEffect, useRef } from 'react';\nimport ProfileCard from './ProfileCard';\nimport Styles from '../../styles/profile/profile__feed.module.css';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst ProfileFeed = ({ firestore, match, newPost, noPosts }) => {\n  const [feed, setFeed] = useState([]);\n  const [lastPost, setLastPost] = useState();\n\n  const [endFeed, setEndFeed] = useState(false);\n  const endFeedRef = useRef(false);\n\n  const dummyRef = useRef();\n  const [isFetching, setIsFetching] = useIntersect(dummyRef, endFeedRef);\n\n  const getMore = async () => {\n    let temp = [];\n    if (!lastPost) return;\n    const snap = await firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .collection('posts')\n      .orderBy('date', 'desc')\n      .startAfter(lastPost)\n      .limit(8)\n      .get();\n    await snap.forEach((doc) => {\n      doc.complete = false;\n      temp.push(doc);\n    });\n    if (!snap.docs[snap.docs.length - 1]) {\n      setIsFetching(false);\n      setEndFeed(true);\n      endFeedRef.current = true;\n      return;\n    }\n    setLastPost(snap.docs[snap.docs.length - 1]);\n    return temp;\n  };\n\n  const getInitial = async () => {\n    let temp = [];\n    const snap = await firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .collection('posts')\n      .orderBy('date', 'desc')\n      .limit(8)\n      .get();\n    await snap.forEach((doc) => {\n      doc.complete = false;\n      temp.push(doc);\n    });\n    setLastPost(snap.docs[snap.docs.length - 1]);\n    return temp;\n  };\n\n  const updateFeed = async () => {\n    const temp = await getMore();\n    if (!temp) return;\n    const combine = [...feed, ...temp];\n    setFeed(combine);\n  };\n\n  //! get the feed\n  const getFeed = async () => {\n    const temp = await getInitial();\n    setFeed(temp);\n  };\n\n  // get the feed after a new post\n  useEffect(() => {\n    return getFeed();\n  }, [newPost]);\n\n  useEffect(() => {\n    getFeed();\n    setEndFeed(false);\n    endFeedRef.current = false;\n  }, [match]);\n\n  // every time loads complete check the count to see if all the posts match the feed length\n\n  //# after feed updates set load to false\n  useEffect(() => {\n    setIsFetching(false);\n  }, [feed]);\n\n  //# decide from local or firestore\n  useEffect(() => {\n    if (!isFetching || endFeed) return;\n    updateFeed();\n  }, [isFetching]);\n\n  return (\n    <>\n      {!noPosts ? (\n        <div className={Styles.feedContainer}>\n          <div className={Styles.feed}>\n            {feed.map((item) => {\n              return (\n                <ProfileCard\n                  key={item.id}\n                  src={item.data().src}\n                  match={match}\n                  postId={item.id}\n                  likes={item.data().likes}\n                  comments={item.data().comments}\n                />\n              );\n            })}\n          </div>\n          <div ref={dummyRef} className={`${Styles.loaderContainer}`}>\n            {isFetching && <div className=\"loader\" />}\n            {endFeed && feed.length > 6 ? (\n              <div className={Styles.endFeed}>No More Posts</div>\n            ) : null}\n          </div>\n        </div>\n      ) : (\n        <div className={Styles.outer}>\n          <div className={Styles.notFound}>\n            <div className={Styles.notFoundContainer}>\n              <button className={Styles.notFoundButton}>No Posts</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ProfileFeed;\n","import React from 'react';\nimport Styles from '../../styles/profile/profile__avatar__modal.module.css';\n\nconst ProfileAvatarModal = ({ src, getAvatarModal }) => {\n  return (\n    <div onClick={getAvatarModal} className={Styles.modal}>\n      <img className={Styles.avatar} src={src} alt=\"\" />\n    </div>\n  );\n};\n\nexport default ProfileAvatarModal;\n","import React, { useState, useEffect } from 'react';\nimport { IoSendOutline, IoAddOutline } from 'react-icons/io5';\nimport { useHistory } from 'react-router';\nimport { firestore } from '../../services/firebase';\nimport ProfileSidebar from './ProfileSidebar';\nimport ProfileFeed from './ProfileFeed';\nimport ProfileUpload from './ProfileUpload';\nimport ProfileAvatarModal from './ProfileAvatarModal';\nimport Styles from '../../styles/profile/profile.module.css';\nimport { useAuth } from '../../contexts/AuthContext';\nimport ProfileButton from './ProfileButton';\nimport ScrollToTop from '../../functions/ScrollToTop';\nimport stopScroll from '../../functions/stopScroll';\n\nconst Profile = (props) => {\n  const [currentProfile, setCurrentProfile] = useState();\n  const [avatarModal, setAvatarModal] = useState(false);\n  const [renderModal, setRenderModal] = useState(false);\n  const [newPost, setNewPost] = useState(0);\n  const [noPosts, setNoPosts] = useState(false);\n  const { match } = props;\n  const { currentUser, userProfile } = useAuth();\n  const [loaded, setLoaded] = useState(false);\n  const [loading, setLoading] = useState([\n    { image: 'avatar', loading: true },\n    { image: 'banner', loading: true },\n  ]);\n  let history = useHistory();\n  //+ if the every item in loading is set to false set loaded to true\n  useEffect(() => {\n    if (currentProfile) {\n      if (loading.every((item) => item.loading === false)) {\n        setLoaded(true);\n      }\n    }\n  }, [loading]);\n\n  //+ set the target image to be done loading onload\n  const handleLoad = (e) => {\n    const { alt } = e.target;\n    const imgIndex = loading.findIndex((img) => img.image === alt);\n    setLoading((old) => [...old], {\n      [loading[imgIndex]]: (loading[imgIndex].loading = false),\n    });\n  };\n\n  //+ get the current profiles data\n  const getUserObject = () => {\n    firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .get()\n      .then((userData) => {\n        if (userData.exists) {\n          setCurrentProfile(userData.data());\n        }\n      });\n  };\n\n  //+ when theres a new post update the user profile\n  useEffect(() => {\n    setNoPosts(false);\n    return getUserObject();\n  }, [newPost]);\n\n  useEffect(() => {\n    getUserObject();\n    setNoPosts(false);\n  }, [match]);\n\n  //+ avatar modal\n  const getAvatarModal = (e) => {\n    e.preventDefault();\n    avatarModal ? setAvatarModal(false) : setAvatarModal(true);\n    stopScroll(avatarModal);\n  };\n\n  //+ new post modal\n  const getModal = (e) => {\n    e.preventDefault();\n    renderModal ? setRenderModal(false) : setRenderModal(true);\n    stopScroll(renderModal);\n  };\n\n  //+ new message link\n  const newMessage = () => {\n    if (!userProfile) return history.push('/sign-up');\n    history.push(`/messages/${currentProfile.userID}`);\n  };\n\n  //+ decides if action button should be post or message\n  let actionButton = (\n    <button onClick={newMessage} className={Styles.actionBtn}>\n      <IoSendOutline className=\"action-icon\" />\n    </button>\n  );\n  if (currentUser?.uid === match.params.uid) {\n    actionButton = (\n      <button onClick={getModal} className={Styles.actionBtn}>\n        <IoAddOutline className=\"action-icon\" />\n      </button>\n    );\n  }\n\n  return (\n    <>\n      <div className={Styles.profile}>\n        <ScrollToTop />\n        {/*//+ banner */}\n        <div className={Styles.header}>\n          <div\n            className={`${Styles.heroLoading} gradientLoad`}\n            style={loaded ? { display: 'none' } : null}\n          />\n          <img\n            className={Styles.hero}\n            src={currentProfile?.banner}\n            alt=\"banner\"\n            onLoad={handleLoad}\n            style={!loaded ? { display: 'none' } : null}\n          />\n        </div>\n        <div className={Styles.outer}>\n          {/*//+ top bar*/}\n          <div className={Styles.topSection}>\n            <div className={Styles.imgContainer}>\n              <div\n                style={loaded ? { display: 'none' } : null}\n                className={`${Styles.avatarLoading} gradientLoad`}\n              />\n              <img\n                onClick={getAvatarModal}\n                className={Styles.avatar}\n                src={currentProfile?.profilePhoto}\n                alt=\"avatar\"\n                onLoad={handleLoad}\n                style={!loaded ? { display: 'none' } : null}\n              />\n              <img\n                className={Styles.avatarBlur}\n                src={currentProfile?.profilePhoto}\n                alt=\"\"\n                style={!loaded ? { display: 'none' } : null}\n              />\n            </div>\n            {avatarModal && (\n              <ProfileAvatarModal\n                getAvatarModal={getAvatarModal}\n                src={currentProfile?.profilePhoto}\n              />\n            )}\n            <div className={Styles.topRight}>\n              <div className={Styles.topIconRow}>\n                {/*//+ following button */}\n                <ProfileButton\n                  firestore={firestore}\n                  Styles={Styles}\n                  currentUser={currentUser}\n                  match={match.params.uid}\n                  currentProfile={currentProfile}\n                  getUserObject={getUserObject}\n                />\n                {actionButton}\n              </div>\n              {renderModal && <ProfileUpload setNewPost={setNewPost} getModal={getModal} />}\n            </div>\n          </div>\n        </div>\n        <div className={Styles.inner}>\n          {/*//+ sidebar */}\n          <ProfileSidebar\n            loaded={loaded}\n            firestore={firestore}\n            match={match}\n            currentProfile={currentProfile}\n            currentUser={currentUser}\n            getUserObject={getUserObject}\n          />\n          {/*//@ posts */}\n          <ProfileFeed\n            newPost={newPost}\n            setLoading={setLoading}\n            loading={loading}\n            loaded={loaded}\n            firestore={firestore}\n            match={match}\n            currentProfile={currentProfile}\n            noPosts={noPosts}\n            setNoPosts={setNoPosts}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Profile;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Styles from '../../styles/post/post__comment-section.module.css';\nimport { firestore } from '../../services/firebase';\nimport convertTime from '../../functions/convertTime';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst PostComment = ({ comment, user, time }) => {\n  const [current, setCurrent] = useState(null);\n  const [addTime, setAddTime] = useState();\n\n  const getTime = () => {\n    const currentTime = Date.now();\n    const converted = convertTime(time, currentTime);\n    setAddTime(converted);\n  };\n\n  useEffect(() => {\n    const getUser = async () => {\n      const userRef = firestore.collection('users').doc(user);\n      const thisUser = await userRef.get();\n      setCurrent(thisUser.data());\n    };\n    getUser();\n    getTime();\n  }, []);\n\n  return (\n    <div className={Styles.commentContainer}>\n      <div className={Styles.start}>\n        <Link to={`/profile/${user}`}>\n          <ImageLoader src={current?.profilePhoto} width=\"27px\" height=\"27px\" borderRadius=\"100%\" />\n        </Link>\n        <p className={Styles.comment}>\n          <span className={Styles.user}>\n            <Link to={`/profile/${user}`}>{current?.displayName} </Link>\n          </span>\n          {comment}\n        </p>\n      </div>\n      <p className={Styles.time}>{addTime}</p>\n    </div>\n  );\n};\n\nexport default PostComment;\n","import React, { useState, useEffect, useRef } from 'react';\nimport PostComment from './PostComment';\nimport Styles from '../../styles/post/post__comment-section.module.css';\nimport Loading from '../../styles/post/post__loading.module.css';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst PostCommentSection = ({ loaded, currentPost }) => {\n  const [comments, setComments] = useState([]);\n\n  const ref = useRef();\n  const [isFetching, setIsFetching] = useIntersect(ref);\n\n  const getComments = () => {\n    if (!currentPost) return;\n    const reverse = currentPost.comments.slice(0).reverse();\n    const sliced = reverse.slice(0, 10);\n    setComments(sliced);\n  };\n\n  const getMore = () => {\n    if (!currentPost) return;\n    const reverse = currentPost.comments.slice(0).reverse();\n    const sliced = reverse.slice(comments.length, comments.length + 10);\n    const combine = [...comments, ...sliced];\n    setComments(combine);\n  };\n\n  useEffect(() => {\n    if (!isFetching) return;\n    getMore();\n  }, [isFetching]);\n\n  useEffect(() => {\n    getComments();\n  }, [currentPost]);\n\n  useEffect(() => {\n    setIsFetching(false);\n  }, [comments]);\n\n  return (\n    <div className={Styles.commentsContainer}>\n      <div className={Styles.comments}>\n        {/* <p className=\"view-all\">View All Comments</p> */}\n        {!loaded ? (\n          <>\n            <div className={Styles.commentContainer}>\n              <div className={Loading.commentProfile} />\n              <div className={Loading.comment} />\n            </div>\n            <div className={Styles.commentContainer}>\n              <div className={Loading.commentProfile} />\n              <div className={Loading.comment} />\n            </div>\n            <div className={Styles.commentContainer}>\n              <div className={Loading.commentProfile} />\n              <div className={Loading.comment} />\n            </div>\n          </>\n        ) : (\n          <>\n            {comments.map((item) => {\n              return (\n                <PostComment\n                  key={item.time}\n                  time={item.time}\n                  comment={item.comment}\n                  user={item.user}\n                />\n              );\n            })}\n          </>\n        )}\n        <div ref={ref}></div>\n      </div>\n    </div>\n  );\n};\n\nexport default PostCommentSection;\n","import React, { useState, useEffect, useRef } from 'react';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport { IoShareSocialOutline, IoTrashOutline } from 'react-icons/io5';\nimport Styles from '../../styles/post/post__menu.module.css';\nimport { useHistory } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst PostMenu = ({ ownPost, match, currentPost, firestore, storage }) => {\n  const [menuStatus, setMenuStatus] = useState(false);\n  const { getUserProfile } = useAuth();\n  let history = useHistory();\n  let menuRef = useRef();\n\n  const handleMenu = (e) => {\n    e.preventDefault();\n    menuStatus ? setMenuStatus(false) : setMenuStatus(true);\n  };\n\n  const handleDelete = async (e) => {\n    e.preventDefault();\n    await firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .collection('posts')\n      .doc(match.params.postid)\n      .delete();\n    let pictureRef = storage.refFromURL(currentPost.src);\n    await pictureRef.delete();\n    const userDoc = await firestore.collection('users').doc(match.params.uid).get();\n    const userData = userDoc.data();\n    await firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .set(\n        {\n          postsCounter: userData.postsCounter - 1,\n        },\n        { merge: true }\n      );\n    await getUserProfile();\n    history.push(`/profile/${match.params.uid}`);\n  };\n\n  const handleShare = () => {\n    copyToClipboard(window.location.href);\n    setMenuStatus(false);\n  };\n\n  const copyToClipboard = (content) => {\n    const el = document.createElement('textarea');\n    el.value = content;\n    document.body.appendChild(el);\n    el.select();\n    document.execCommand('copy');\n    document.body.removeChild(el);\n  };\n\n  useEffect(() => {\n    let handler = (e) => {\n      if (menuRef.current && !menuRef.current.contains(e.target)) {\n        setMenuStatus(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handler);\n    return () => {\n      document.removeEventListener('mousedown', handler);\n    };\n  }, []);\n\n  let menu;\n\n  menu = (\n    <div ref={menuRef} className={ownPost ? Styles.containerOwn : Styles.container}>\n      <div className={Styles.inner}>\n        <div onClick={handleShare} className={Styles.option}>\n          <IoShareSocialOutline className={Styles.icon} />\n          <div>\n            <p>Copy Link</p>\n          </div>\n        </div>\n        {ownPost ? (\n          <div className={Styles.option} onClick={handleDelete}>\n            <IoTrashOutline className={Styles.icon} />\n            <p>Delete</p>\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n\n  return (\n    <div>\n      {menuStatus ? menu : null}\n      <MoreHorizIcon onClick={handleMenu} className={Styles.postIcon} />\n    </div>\n  );\n};\n\nexport default PostMenu;\n","import React, { useEffect, useState } from 'react';\nimport { IoHeartOutline } from 'react-icons/io5';\nimport Styles from '../../styles/post/post__sidebar.module.css';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst PostLikeButton = ({ match, history, firestore, firestoreFieldValue, getCurrentPost }) => {\n  const [liked, setLiked] = useState(false);\n  const { userProfile, getUserProfile } = useAuth();\n\n  const updateLikes = async () => {\n    if (userProfile && userProfile.likedPosts) {\n      if (userProfile.likedPosts.includes(match.params.postid)) {\n        setLiked(true);\n      } else {\n        setLiked(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    updateLikes();\n  }, [userProfile]);\n\n  //! handle like\n  const handleLike = async (e) => {\n    e.preventDefault();\n    if (userProfile) {\n      const thisPost = firestore\n        .collection('users')\n        .doc(match.params.uid)\n        .collection('posts')\n        .doc(match.params.postid);\n      const thisUser = firestore.collection('users').doc(userProfile.userID);\n      const postUser = firestore.collection('users').doc(match.params.uid);\n\n      //@ add this post to likes\n      if (!liked) {\n        setLiked(true);\n        const addPost = () => {\n          thisPost.update({\n            likes: firestoreFieldValue.arrayUnion(userProfile.userID),\n          });\n        };\n        const addUser = () => {\n          thisUser.update({\n            likedPosts: firestoreFieldValue.arrayUnion(match.params.postid),\n          });\n        };\n        const notify = () => {\n          postUser.update({\n            notifications: firestoreFieldValue.arrayUnion({\n              user: userProfile.userID,\n              type: 'liked',\n              post: match.params.postid,\n              time: Date.now(),\n            }),\n          });\n        };\n        await Promise.all([notify(), addPost(), addUser()]);\n        getUserProfile();\n        getCurrentPost();\n      } else {\n        //@ remove post from likes\n        const removePost = () => {\n          setLiked(false);\n          thisPost.update({\n            likes: firestoreFieldValue.arrayRemove(userProfile.userID),\n          });\n        };\n        const removeUser = () => {\n          thisUser.update({\n            likedPosts: firestoreFieldValue.arrayRemove(match.params.postid),\n          });\n        };\n        await Promise.all([removePost(), removeUser()]);\n        getUserProfile();\n        getCurrentPost();\n      }\n    } else {\n      history.push('/sign-up');\n    }\n  };\n  return (\n    <IoHeartOutline onClick={handleLike} className={liked ? Styles.likedIcon : Styles.likeIcon} />\n  );\n};\n\nexport default PostLikeButton;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst PostCommentBox = ({\n  Styles,\n  IoSendOutline,\n  firestore,\n  match,\n  firestoreFieldValue,\n  getCurrentPost,\n}) => {\n  const [input, setInput] = useState('');\n  let history = useHistory();\n\n  const { userProfile, getUserProfile } = useAuth();\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    const { value } = e.target;\n    setInput(value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const time = Date.now();\n    if (userProfile) {\n      if (input.length > 0 && input.length < 100) {\n        const thisPost = firestore\n          .collection('users')\n          .doc(match.params.uid)\n          .collection('posts')\n          .doc(match.params.postid);\n        const thisUser = firestore.collection('users').doc(match.params.uid);\n        //@ add comment to post\n        const addPost = () => {\n          thisPost.update({\n            comments: firestoreFieldValue.arrayUnion({\n              user: userProfile.userID,\n              comment: input,\n              time: time,\n            }),\n          });\n        };\n        const notify = () => {\n          thisUser.update({\n            notifications: firestoreFieldValue.arrayUnion({\n              user: userProfile.userID,\n              type: 'comment',\n              comment: input,\n              post: match.params.postid,\n              time: time,\n            }),\n          });\n        };\n        await Promise.all([notify(), addPost()]);\n        getUserProfile();\n        getCurrentPost();\n        setInput('');\n      }\n    } else {\n      history.push('/sign-up');\n    }\n  };\n\n  return (\n    <div className={Styles.commentBox}>\n      <form className={Styles.commentForm} onSubmit={handleSubmit}>\n        <input\n          onChange={handleChange}\n          className={Styles.input}\n          type=\"text\"\n          value={input}\n          maxLength=\"99\"\n          minLength=\"1\"\n          placeholder=\"Add a comment...\"\n        />\n      </form>\n      <IoSendOutline type=\"submit\" onClick={handleSubmit} className={Styles.send} />\n    </div>\n  );\n};\n\nexport default PostCommentBox;\n","import React, { useState, useEffect } from 'react';\nimport {\n  IoShareOutline,\n  IoHeartOutline,\n  IoChatbubbleOutline,\n  IoSendOutline,\n} from 'react-icons/io5';\nimport { Link, useHistory } from 'react-router-dom';\nimport PostCommentSection from './PostCommentSection';\nimport PostMenu from './PostMenu';\nimport Styles from '../../styles/post/post__sidebar.module.css';\nimport Loading from '../../styles/post/post__loading.module.css';\nimport { firestore, storage, firestoreFieldValue } from '../../services/firebase';\nimport PostLikeButton from './PostLikeButton';\nimport PostCommentBox from './PostCommentBox';\nimport convertTime from '../../functions/convertTime';\n\nconst PostSidebar = ({\n  match,\n  loaded,\n  handleLoad,\n  postUser,\n  currentPost,\n  ownPost,\n  getCurrentPost,\n}) => {\n  let history = useHistory();\n  const [addTime, setAddTime] = useState('');\n\n  useEffect(() => {\n    if (currentPost) {\n      const getCur = convertTime(currentPost.date, Date.now());\n      setAddTime(getCur);\n    }\n  }, [currentPost]);\n\n  return (\n    <div className={Styles.sidebar}>\n      <div className={Styles.top}>\n        <Link to={`/profile/${match.params.uid}`}>\n          <div className={Styles.profileContainer}>\n            <div className={Styles.imageContainer}>\n              <div\n                className={Loading.profileImg + ' ' + 'gradientLoad'}\n                style={loaded ? { display: 'none' } : null}\n              />\n              <img\n                style={!loaded ? { display: 'none' } : null}\n                onLoad={handleLoad}\n                src={postUser?.profilePhoto}\n                alt=\"avatar\"\n                className={Styles.profileImg}\n              />\n              <img\n                className={Styles.profileImgBlur}\n                style={!loaded ? { display: 'none' } : null}\n                src={postUser?.profilePhoto}\n                alt=\"\"\n              />\n            </div>\n            <div className={Styles.nameContainer} style={loaded ? { display: 'none' } : null}>\n              <div className={Loading.displayName + ' ' + 'gradientLoad'} />\n              <div className={Loading.username + ' ' + 'gradientLoad'} />\n            </div>\n            <div className={Styles.nameContainer} style={!loaded ? { display: 'none' } : null}>\n              <h2 className={Styles.displayName}>{postUser?.displayName}</h2>\n              <p className={Styles.username}>@{postUser?.username}</p>\n            </div>\n          </div>\n        </Link>\n        <div className={Styles.captionContainer}>\n          <p className={Styles.caption}>{currentPost?.caption}</p>\n        </div>\n      </div>\n      {/*//+ comments */}\n      <PostCommentSection currentPost={currentPost} loaded={loaded} />\n      <div className={Styles.footer}>\n        <div className={Styles.firstChild}>\n          <div className={Styles.left}>\n            {/*//+ liked button */}\n            <PostLikeButton\n              Styles={Styles}\n              match={match}\n              history={history}\n              IoHeartOutline={IoHeartOutline}\n              firestore={firestore}\n              firestoreFieldValue={firestoreFieldValue}\n              getCurrentPost={getCurrentPost}\n            />\n            <IoChatbubbleOutline className={Styles.postIcon} />\n            <IoShareOutline className={Styles.postIcon} />\n          </div>\n          {/*//+ delete menu */}\n          <PostMenu\n            storage={storage}\n            firestore={firestore}\n            match={match}\n            ownPost={ownPost}\n            currentPost={currentPost}\n          />\n        </div>\n        <div className={Styles.infoContainer}>\n          <p className={Styles.likes}>{currentPost?.likes.length} likes</p>\n          <p className={Styles.time}>{addTime}</p>\n        </div>\n        {/*//+ comment box */}\n        <PostCommentBox\n          firestore={firestore}\n          match={match}\n          firestoreFieldValue={firestoreFieldValue}\n          IoSendOutline={IoSendOutline}\n          Styles={Styles}\n          getCurrentPost={getCurrentPost}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default PostSidebar;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { firestore } from '../../services/firebase';\nimport Styles from '../../styles/post/post.module.css';\nimport Loading from '../../styles/post/post__loading.module.css';\nimport PostSidebar from './PostSidebar';\nimport { useAuth } from '../../contexts/AuthContext';\nimport ScrollToTop from '../../functions/ScrollToTop';\n\nconst Post = ({ match }) => {\n  const [currentPost, setCurrentPost] = useState();\n  const [postUser, setPostUser] = useState();\n  const [ownPost, setOwnPost] = useState(false);\n  const [loading, setLoading] = useState([\n    { image: 'avatar', loading: true },\n    { image: 'post', loading: true },\n  ]);\n  const [loaded, setLoaded] = useState(false);\n  const { currentUser, userProfile } = useAuth();\n\n  //+ determine if this is the user's post\n  useEffect(() => {\n    if (currentUser && match.params.uid === currentUser.uid) {\n      setOwnPost(true);\n    }\n  }, [postUser]);\n\n  //+ get the current post\n  const getCurrentPost = async () => {\n    const thisPost = await firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .collection('posts')\n      .doc(match.params.postid)\n      .get();\n    if (thisPost.exists) {\n      setCurrentPost(thisPost.data());\n    } else {\n      setLoaded('error');\n    }\n  };\n\n  //+ get the profile of the current post\n  const getPostUser = async () => {\n    const getUser = await firestore.collection('users').doc(match.params.uid).get();\n    if (getUser.exists) {\n      setPostUser(getUser.data());\n    } else {\n      setLoaded('error');\n    }\n  };\n\n  //+ get the current post and user on page load\n  useEffect(() => {\n    getCurrentPost();\n    getPostUser();\n  }, [match]);\n\n  //+ check if postUser and currentUser are defined then set loading false\n  useEffect(() => {\n    if (postUser && currentPost) {\n      if (loading.every((item) => item.loading === false)) {\n        setLoaded(true);\n      }\n    }\n  }, [loading]);\n\n  //+ update the loading state\n  const handleLoad = (e) => {\n    const { alt } = e.target;\n    const imgIndex = loading.findIndex((img) => img.image === alt);\n    setLoading((prev) => [...prev], {\n      [loading[imgIndex]]: (loading[imgIndex].loading = false),\n    });\n  };\n\n  let postState;\n\n  //+ if finished loading\n  postState = (\n    <div className={Styles.post}>\n      <ScrollToTop />\n      <div className={Styles.container}>\n        <div\n          className={Loading.image + ' ' + 'gradientLoad'}\n          style={loaded ? { display: 'none' } : null}\n        />\n        <img\n          style={!loaded ? { display: 'none' } : null}\n          onLoad={handleLoad}\n          src={currentPost?.src}\n          alt=\"post\"\n          className={Styles.image}\n        />\n        <PostSidebar\n          match={match}\n          loaded={loaded}\n          handleLoad={handleLoad}\n          postUser={postUser}\n          ownPost={ownPost}\n          currentPost={currentPost}\n          currentUser={currentUser}\n          userProfile={userProfile}\n          getCurrentPost={getCurrentPost}\n        />\n      </div>\n    </div>\n  );\n\n  //+ if there was an error\n  if (loaded === 'error') {\n    postState = (\n      <div className={Styles.post}>\n        <div className={Styles.notFoundContainer}>\n          <h3>Post Not Found</h3>\n          <Link to=\"/\">\n            <button className={Styles.returnButton}>Return Home</button>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return <>{postState}</>;\n};\n\nexport default Post;\n","import React, { useEffect, useState, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport Styles from '../../styles/sign-up/sign-up.module.css';\nimport { signIn, firestore } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport logo from '../../assets/img/logo/logo-2.png';\nimport debounce from '../../functions/debounce';\n\nconst SignUp = () => {\n  const { login, currentUser, firebaseRegister } = useAuth();\n  const [userInput, setUserInput] = useState('');\n  const [userValue, setUserValue] = useState('');\n  const [nameTaken, setNameTaken] = useState(false);\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    const { value } = e.target;\n    const reg = /[^a-zA-Z\\d]/gi;\n    const newVal = value.replace(reg, '');\n    const lower = newVal.toLowerCase();\n    setUserInput(lower);\n  };\n  const debounceChange = useCallback(\n    debounce((nextValue) => handleChange(nextValue), 500),\n    []\n  );\n  const handleValue = (e) => {\n    setUserValue(e.target.value);\n    debounceChange(e);\n  };\n\n  useEffect(() => {\n    let foundName;\n    const check = async () => {\n      if (userInput.length > 2) {\n        await firestore\n          .collection('users')\n          .where('username', '==', userInput)\n          .get()\n          .then((searchResults) => {\n            return searchResults.forEach((doc) => {\n              foundName = doc.data();\n            });\n          });\n        if (foundName === undefined) {\n          setNameTaken(false);\n        } else {\n          setNameTaken(true);\n        }\n      }\n    };\n    check();\n  }, [userInput]);\n\n  useEffect(() => {\n    return firebaseRegister(userInput);\n  }, [currentUser]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    signIn();\n  };\n\n  const doNothing = (e) => {\n    e.preventDefault();\n  };\n\n  let nameHelper = <p className={Styles.nameHelper}>Name must be 3-15 characters.</p>;\n\n  if (userInput.length !== 0) {\n    if (userInput.length <= 2) {\n      nameHelper = <p className={Styles.nameHelper}>Too Short.</p>;\n    } else if (nameTaken === false) {\n      nameHelper = (\n        <p style={{ color: '#00C138' }} className={Styles.nameHelper}>\n          Name is available.\n        </p>\n      );\n    } else {\n      nameHelper = (\n        <p style={{ color: '#ff0000' }} className={Styles.nameHelper}>\n          Name has already been taken.\n        </p>\n      );\n    }\n  }\n\n  return (\n    <>\n      {!currentUser ? (\n        <div className={Styles.signUp}>\n          <div className={Styles.container}>\n            <div className={Styles.header}>\n              <img className={Styles.logoImg} src={logo} alt=\"\" />\n              <div className={Styles.textContainer}>\n                <h2 className={Styles.headerText}>Sign Up</h2>\n              </div>\n            </div>\n            <div className={Styles.formContainer}>\n              <form pattern=\"[0-9a-zA-Z_.-]*\" className={Styles.form}>\n                <div className={Styles.input}>\n                  <div className={Styles.username}>\n                    <p>@</p>\n                  </div>\n                  <input\n                    required\n                    onChange={handleValue}\n                    className={Styles.inputBox}\n                    type=\"text\"\n                    placeholder=\"username\"\n                    maxLength=\"15\"\n                    minLength=\"3\"\n                    value={userValue}\n                  />\n                </div>\n                <div className={Styles.helperDiv}>{nameHelper}</div>\n                <button\n                  type=\"submit\"\n                  onClick={!nameTaken && userInput.length > 2 ? handleSubmit : doNothing}\n                  className={Styles.signUpButton}\n                  style={\n                    !nameTaken && userInput.length > 2\n                      ? {\n                          backgroundColor: 'black',\n                          cursor: 'pointer',\n                        }\n                      : { backgroundColor: 'gray', cursor: 'not-allowed' }\n                  }\n                >\n                  Sign Up With Google\n                </button>\n              </form>\n              <p className={Styles.or}>Already signed up?</p>\n              <button onClick={login} className={Styles.loginButton}>\n                Login\n              </button>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className={Styles.signUp}>\n          <div className={Styles.notFoundContainer}>\n            <h3>Already Logged In</h3>\n            <Link to=\"/\">\n              <button className={Styles.returnButton}>Return Home</button>\n            </Link>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default SignUp;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { IoImage, IoPencil } from 'react-icons/io5';\nimport Styles from '../../styles/settings/settings.module.css';\nimport { useAuth } from '../../contexts/AuthContext';\n\nimport { firestore, storageRef } from '../../services/firebase';\nimport resizeImage from '../../functions/resizeImage';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst Settings = () => {\n  const { getUserProfile, currentUser, userProfile } = useAuth();\n  const [userInput, setUserInput] = useState('');\n  const [userBio, setUserBio] = useState('');\n  const [uploading, setUploading] = useState(false);\n\n  useEffect(() => {\n    if (!userProfile) return;\n    setUserInput(userProfile.displayName);\n    setUserBio(userProfile.bio);\n  }, [userProfile]);\n\n  //+ updates on account sign up\n\n  useEffect(() => {\n    getUserProfile();\n  }, [currentUser]);\n\n  //+ upload profile photo\n  const handleAvatar = async (file) => {\n    setUploading(true);\n    const fileRef = storageRef.child(`${currentUser.uid}/profilePhoto`);\n    await fileRef.put(file);\n    const fileUrl = await fileRef.getDownloadURL();\n    const userRef = firestore.collection('users').doc(currentUser.uid);\n    await userRef.set(\n      {\n        ['profilePhoto']: fileUrl,\n      },\n      { merge: true }\n    );\n    setUploading(false);\n    getUserProfile();\n  };\n\n  //+ upload banner\n  const handleBanner = async (file) => {\n    setUploading(true);\n    const fileRef = storageRef.child(`${currentUser.uid}/banner`);\n    await fileRef.put(file);\n    const fileUrl = await fileRef.getDownloadURL();\n    const userRef = firestore.collection('users').doc(currentUser.uid);\n    await userRef.set(\n      {\n        ['banner']: fileUrl,\n      },\n      { merge: true }\n    );\n    setUploading(false);\n    getUserProfile();\n  };\n\n  //! handle photo uploads\n  //@ add file to state\n  const handlePhotoChange = (e) => {\n    e.preventDefault();\n    const file = e.target.files[0];\n    if (file && file.size < 5000000) {\n      if (e.target.name === 'profilePhoto') {\n        resizeImage(e, 'none', handleAvatar, 1000);\n      } else if (e.target.name === 'banner') {\n        resizeImage(e, 'none', handleBanner, 2000);\n      }\n    }\n  };\n\n  //! handle text input changes\n  //@ handle display name change\n  const handleChange = (e) => {\n    e.preventDefault();\n    const { value } = e.target;\n    const reg = /[^a-zA-Z' ']/gi; //replace all but these characters\n    const newVal = value.replace(reg, '');\n    setUserInput(newVal);\n  };\n\n  //@ handle bio change\n  const handleBioChange = (e) => {\n    e.preventDefault();\n    const { value } = e.target;\n    setUserBio(value);\n  };\n\n  //+ handle save text\n  const handleTextUpload = async (e) => {\n    e.preventDefault();\n    if (userBio !== userProfile.bio) {\n      setUploading(true);\n      await firestore.collection('users').doc(currentUser.uid).set(\n        {\n          bio: userBio,\n        },\n        { merge: true }\n      );\n      setUploading(false);\n    }\n    if (userInput !== userProfile.displayName && userInput !== '') {\n      const lower = userInput.toLowerCase();\n      setUploading(true);\n      await firestore.collection('users').doc(currentUser.uid).set(\n        {\n          displayName: userInput,\n          searchName: lower,\n        },\n        { merge: true }\n      );\n      setUploading(false);\n    }\n  };\n\n  return (\n    <div className={Styles.settings}>\n      <div className={Styles.container}>\n        <h3>Settings</h3>\n        <div className={Styles.inner}>\n          <div>\n            <label className={Styles.bannerOverlayContainer}>\n              <input\n                name=\"banner\"\n                type=\"file\"\n                accept=\"image/jpeg, image/png, image/jpg\"\n                className={Styles.fileInput}\n                onChange={handlePhotoChange}\n              />\n              <div className={Styles.bannerContainer}>\n                <ImageLoader src={userProfile && userProfile.banner} zIndex={'0'} />\n              </div>\n              <div className={Styles.bannerOverlay}>\n                <IoPencil className={Styles.bannerIcon} />\n              </div>\n            </label>\n            <form>\n              <div className={Styles.containerBar}>\n                <label className={Styles.profileOverlayContainer}>\n                  <input\n                    onChange={handlePhotoChange}\n                    type=\"file\"\n                    accept=\"image/jpeg, image/png, image/jpg\"\n                    className={Styles.fileInput}\n                    name=\"profilePhoto\"\n                  />\n                  <ImageLoader\n                    src={userProfile && userProfile.profilePhoto}\n                    position=\"relative\"\n                    borderRadius=\"100%\"\n                    width=\"112px\"\n                    height=\"112px\"\n                    shadow=\"0px 0.5em 1.5em 1px rgba(0, 0, 0, 0.1)\"\n                  />\n                  <div className={Styles.profileOverlay}>\n                    <IoImage className={Styles.profileIcon} />\n                  </div>\n                </label>\n              </div>\n            </form>\n          </div>\n          <div className={Styles.textInputs}>\n            <form className={Styles.textForm}>\n              <div className={Styles.inputContainer}>\n                <p>Display Name:</p>\n                <div className={Styles.input}>\n                  <input\n                    autoComplete=\"off\"\n                    name=\"displayName\"\n                    className={Styles.inputBoxDisplay}\n                    type=\"text\"\n                    placeholder={userProfile && userProfile.displayName}\n                    maxLength=\"25\"\n                    minLength=\"3\"\n                    onChange={handleChange}\n                    value={userInput}\n                  />\n                </div>\n              </div>\n              <div className={Styles.inputContainer}>\n                <p>Bio:</p>\n                <textarea\n                  className={Styles.bioInput}\n                  name=\"bio\"\n                  maxLength=\"150\"\n                  placeholder={userProfile && userProfile.bio}\n                  value={userBio}\n                  onChange={handleBioChange}\n                />\n              </div>\n            </form>\n          </div>\n        </div>\n\n        <div className={Styles.profileBtnContainer}>\n          {uploading ? (\n            <div className=\"loader\"></div>\n          ) : (\n            <button onClick={handleTextUpload} type=\"submit\" className={Styles.textBtn}>\n              Save\n            </button>\n          )}\n          <Link className={Styles.profileLink} to={`/profile/${userProfile && userProfile.userID}`}>\n            <button className={Styles.profileBtn}>View Profile</button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Settings;\n","import React, { useState, useEffect } from 'react';\nimport { firestore } from '../../services/firebase';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst MessagesCreateMenuItem = ({\n  Styles,\n  contactID,\n  setMessages,\n  messages,\n  handleCreate,\n  getCurrentMessage,\n}) => {\n  const [current, setCurrent] = useState(null);\n  const getUser = async () => {\n    const userRef = firestore.collection('users').doc(contactID);\n    const thisUser = await userRef.get();\n    setCurrent(thisUser.data());\n  };\n  useEffect(() => {\n    getUser();\n  }, []);\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    const check = messages.some((item) => item.user === contactID);\n    if (!check) {\n      setMessages([{ user: contactID, time: Date.now(), messages: [] }, ...messages]);\n\n      handleCreate(e);\n    } else {\n      const index = messages.findIndex((item) => item.user === contactID);\n      getCurrentMessage(index);\n      handleCreate(e);\n    }\n  };\n\n  return (\n    <div onClick={handleClick} className={Styles.listItem}>\n      <div className={Styles.start}>\n        <div className={Styles.avatarContainer}>\n          <ImageLoader src={current?.profilePhoto} width=\"65px\" height=\"65px\" borderRadius=\"100%\" />\n        </div>\n        <div className={Styles.names}>\n          <p className={Styles.displayName}>{current?.displayName}</p>\n          <p className={Styles.username}>@{current?.username}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessagesCreateMenuItem;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { IoCloseOutline } from 'react-icons/io5';\nimport Styles from '../../styles/messages/messages__create-menu.module.css';\nimport MessagesCreateMenuItem from './MessagesCreateMenuItem';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst MessagesCreateMenu = ({\n  handleCreate,\n  userProfile,\n  setMessages,\n  messages,\n  setCurrentMessage,\n  setCurrentIndex,\n  getCurrentMessage,\n}) => {\n  const [list, setList] = useState([]);\n  const ref = useRef();\n  const [isFetching, setIsFetching] = useIntersect(ref);\n\n  const createInitial = () => {\n    if (!userProfile) return;\n    const { following } = userProfile;\n    const reverse = following.slice(0).reverse();\n    const sliced = reverse.slice(0, 10);\n    setList(sliced);\n  };\n\n  //+ GET more from storage\n  const createMore = () => {\n    if (!userProfile) return;\n    const { following } = userProfile;\n    if (following.length === list.length) return;\n\n    const reverse = following.slice(0).reverse();\n    const sliced = reverse.slice(list.length, list.length + 10);\n\n    const combine = [...list, ...sliced];\n    setList(combine);\n  };\n\n  useEffect(() => {\n    if (!userProfile) return;\n    createInitial();\n  }, [userProfile]);\n\n  useEffect(() => {\n    if (!isFetching) return;\n    createMore();\n  }, [isFetching]);\n\n  useEffect(() => {\n    setIsFetching(false);\n  }, [list]);\n\n  return (\n    <div className={Styles.modal}>\n      <div className={Styles.container}>\n        <div className={Styles.header}>\n          <h3>New Message</h3>\n          <IoCloseOutline onClick={handleCreate} className={Styles.close} />\n        </div>\n\n        {/*//+ list of following is here */}\n        <div className={Styles.listContainer}>\n          {list.map((item) => {\n            return (\n              <MessagesCreateMenuItem\n                messages={messages}\n                setMessages={setMessages}\n                Styles={Styles}\n                contactID={item}\n                setCurrentMessage={setCurrentMessage}\n                handleCreate={handleCreate}\n                setCurrentIndex={setCurrentIndex}\n                getCurrentMessage={getCurrentMessage}\n                key={item}\n              />\n            );\n          })}\n          <div ref={ref} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessagesCreateMenu;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Styles from '../../styles/messages/message__item.module.css';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst MessageItem = ({ user, message, userProfile, currentProfile, thread, index }) => {\n  const [sent, setSent] = useState(false);\n  const [group, setGroup] = useState('false');\n\n  const getStatus = () => {\n    if (user === userProfile?.userID) {\n      setSent(true);\n    }\n  };\n\n  useEffect(() => {\n    getStatus();\n  }, [currentProfile]);\n\n  useEffect(() => {\n    if (user === thread[index + 1]?.user) {\n      setGroup('true');\n    } else if (user !== thread[index + 1]?.user) {\n      setGroup('avatar');\n    }\n  }, [thread]);\n\n  let item;\n\n  if (sent && group === 'true') {\n    item = (\n      <div className={Styles.itemSent + ' ' + Styles.group}>\n        <div className={Styles.bubbleSent}>\n          <p>{message}</p>\n        </div>\n        <div className={Styles.sideContainer} />\n      </div>\n    );\n  }\n\n  if (sent && group === 'avatar') {\n    item = (\n      <div className={Styles.itemSent + ' ' + Styles.topGroup}>\n        <div className={Styles.bubbleSent}>\n          <p>{message}</p>\n        </div>\n        <div className={Styles.sideContainer}>\n          <Link to={`/profile/${userProfile.userID}`}>\n            <ImageLoader\n              height=\"38px\"\n              width=\"38px\"\n              borderRadius=\"100%\"\n              src={userProfile.profilePhoto}\n            />\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  if (!sent && group === 'true') {\n    item = (\n      <div className={Styles.item + ' ' + Styles.group}>\n        <div className={Styles.bubble}>\n          <p>{message}</p>\n        </div>\n        <div className={Styles.sideContainer} />\n      </div>\n    );\n  }\n\n  if (!sent && group === 'avatar') {\n    item = (\n      <div className={Styles.item + ' ' + Styles.topGroup}>\n        <div className={Styles.bubble}>\n          <p>{message}</p>\n        </div>\n        <div className={Styles.sideContainer}>\n          <Link to={`/profile/${currentProfile?.userID}`}>\n            <ImageLoader\n              height=\"38px\"\n              width=\"38px\"\n              borderRadius=\"100%\"\n              src={currentProfile?.profilePhoto}\n            />\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return <>{item}</>;\n};\n\nexport default MessageItem;\n","import React, { useRef, useState, useEffect } from 'react';\nimport { firestore } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport MessageItem from './MessageItem';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst MessageArea = ({ currentMessage, currentProfile, setCurrentProfile, Styles, dummyRef }) => {\n  const topRef = useRef();\n  const [thread, setThread] = useState([]);\n  const { userProfile } = useAuth();\n  const [isFetching, setIsFetching] = useIntersect(topRef);\n\n  //+ GET more from storage\n  const createFeed = () => {\n    if (!currentMessage) return;\n\n    const reverse = currentMessage.messages.slice(0).reverse();\n    const sliced = reverse.slice(thread.length, thread.length + 20);\n    const combine = [...thread, ...sliced];\n    setThread(combine);\n  };\n\n  useEffect(() => {\n    if (!isFetching) return;\n    createFeed();\n  }, [isFetching]);\n\n  //# after feed updates set load to false\n  useEffect(() => {\n    setIsFetching(false);\n  }, [thread]);\n\n  useEffect(() => {\n    if (currentMessage?.messages?.length > 0) {\n      const reverse = currentMessage?.messages.slice(0).reverse();\n      const sliced = reverse.slice(0, 20);\n      setThread(sliced);\n    } else {\n      setThread([]);\n    }\n  }, [currentMessage]);\n\n  const getUserObject = () => {\n    firestore\n      .collection('users')\n      .doc(currentMessage?.user)\n      .get()\n      .then((userData) => {\n        if (userData.exists) {\n          setCurrentProfile(userData.data());\n        }\n      });\n  };\n\n  useEffect(() => {\n    getUserObject();\n  }, [currentMessage]);\n\n  return (\n    <div id=\"msg\" className={Styles.messageArea}>\n      <div ref={dummyRef} className={Styles.dummy} />\n      {thread?.map((item, index) => {\n        return (\n          <MessageItem\n            key={item.time}\n            time={item.time}\n            currentProfile={currentProfile}\n            user={item.user}\n            thread={thread}\n            index={index}\n            message={item.message}\n            userProfile={userProfile}\n          />\n        );\n      })}\n      <div ref={topRef} className={Styles.dummy} />\n    </div>\n  );\n};\n\nexport default MessageArea;\n","import React, { useState } from 'react';\nimport { IoSendOutline } from 'react-icons/io5';\nimport { firestore, firestoreFieldValue } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst MessageInputBox = ({ currentMessage, currentProfile, Styles, setCurrentIndex }) => {\n  const [inputBox, setInputBox] = useState('');\n  const { userProfile } = useAuth();\n  //+ send\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const time = Date.now();\n    if (currentProfile) {\n      if (inputBox.length > 0 && inputBox.length < 501) {\n        const contactThread = firestore\n          .collection('users')\n          .doc(currentMessage?.user)\n          .collection('messages')\n          .doc(userProfile?.userID);\n\n        const userThread = firestore\n          .collection('users')\n          .doc(userProfile?.userID)\n          .collection('messages')\n          .doc(currentMessage?.user);\n\n        await userThread.set(\n          {\n            time: time,\n            user: currentProfile.userID,\n          },\n          { merge: true }\n        );\n\n        await contactThread.set(\n          {\n            time: time,\n            user: userProfile?.userID,\n          },\n          { merge: true }\n        );\n        //@ add message to thread\n        const addUserThread = () => {\n          userThread.update({\n            messages: firestoreFieldValue.arrayUnion({\n              user: userProfile?.userID,\n              message: inputBox,\n              time: time,\n            }),\n          });\n        };\n\n        const addContactThread = () => {\n          contactThread.update({\n            messages: firestoreFieldValue.arrayUnion({\n              user: userProfile?.userID,\n              message: inputBox,\n              time: time,\n            }),\n          });\n        };\n\n        await Promise.all([addUserThread(), addContactThread()]);\n        setInputBox('');\n        setCurrentIndex(0);\n      }\n    }\n  };\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    const { value } = e.target;\n    setInputBox(value);\n  };\n\n  return (\n    <div className={Styles.messageBox}>\n      {/* arranged in reverse because of flex direction */}\n      <form onSubmit={handleSubmit} className={Styles.messageForm}>\n        <input\n          className={Styles.input}\n          type=\"text\"\n          maxLength=\"500\"\n          minLength=\"1\"\n          placeholder=\"New Message...\"\n          onChange={handleChange}\n          value={inputBox}\n        />\n      </form>\n      <IoSendOutline type=\"submit\" onClick={handleSubmit} className={Styles.send} />\n    </div>\n  );\n};\n\nexport default MessageInputBox;\n","import React, { useEffect, useState } from 'react';\nimport Styles from '../../styles/messages/messagesContact.module.css';\nimport { firestore } from '../../services/firebase';\nimport convertTime from '../../functions/convertTime';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst MessagesContact = ({\n  user,\n  time,\n  last,\n  getCurrentMessage,\n  index,\n  currentIndex,\n  handleSidebar,\n}) => {\n  const [currentUser, setCurrentUser] = useState();\n  const [addTime, setAddTime] = useState('');\n\n  const getTime = () => {\n    const currentTime = Date.now();\n    const converted = convertTime(time, currentTime);\n    setAddTime(converted);\n  };\n\n  const getUserObject = () => {\n    firestore\n      .collection('users')\n      .doc(user)\n      .get()\n      .then((userData) => {\n        if (userData.exists) {\n          setCurrentUser(userData.data());\n        }\n      });\n  };\n\n  useEffect(() => {\n    getUserObject();\n    getTime();\n  }, []);\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    getCurrentMessage(index);\n    handleSidebar();\n  };\n\n  return (\n    <div\n      onClick={handleClick}\n      className={index === currentIndex ? Styles.active : Styles.container}\n    >\n      <div className={Styles.avatarContainer}>\n        <ImageLoader\n          src={currentUser?.profilePhoto}\n          width=\"65px\"\n          height=\"65px\"\n          borderRadius=\"100%\"\n        />\n      </div>\n\n      <div className={Styles.contactInfo}>\n        <p className={Styles.name}>{currentUser?.displayName}</p>\n        <div className={Styles.infoContainer}>\n          <p className={Styles.message}>\n            {last?.message.length >= 15 ? last?.message.substring(0, 15) + '...' : last?.message}\n          </p>\n          <p className={Styles.time}>{addTime}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessagesContact;\n","import React, { useState } from 'react';\nimport { IoCreateOutline, IoChevronBackOutline } from 'react-icons/io5';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport ImageLoader from '../reusable/ImageLoader';\nimport MessagesContact from './MessagesContact';\n\nconst MessagesSidebar = ({\n  Styles,\n  messages,\n  getCurrentMessage,\n  currentIndex,\n  scrollToBottom,\n  handleCreate,\n}) => {\n  const [sidebar, setSidebar] = useState(true);\n\n  const { userProfile } = useAuth();\n\n  //! MOBILE Sidebar\n  const handleSidebar = () => {\n    sidebar ? setSidebar(false) : setSidebar(true);\n    scrollToBottom();\n  };\n\n  return (\n    <div className={sidebar ? Styles.sidebar : `${Styles.sidebar} ${Styles.hide}`}>\n      <div className={Styles.header}>\n        <div\n          className={\n            sidebar ? Styles.userAvatarContainer : `${Styles.userAvatarContainer} ${Styles.remove}`\n          }\n        >\n          <Link to={`/profile/${userProfile?.userID}`}>\n            <ImageLoader\n              src={userProfile?.profilePhoto}\n              width=\"65px\"\n              height=\"65px\"\n              borderRadius=\"100%\"\n              position=\"absolute\"\n            />\n            <img className={Styles.userAvatarBlur} src={userProfile?.profilePhoto} alt=\"avatar\" />\n          </Link>\n        </div>\n        {sidebar ? null : (\n          <div className={Styles.backArrowContainer}>\n            <IoChevronBackOutline onClick={handleSidebar} className={Styles.backArrow} />\n          </div>\n        )}\n        <p className={Styles.headerTitle}>Messages</p>\n        <div onClick={handleCreate} className={Styles.createIconContainer}>\n          <IoCreateOutline className={Styles.createIcon} />\n        </div>\n      </div>\n      <div\n        className={\n          sidebar ? Styles.contactsContainer : `${Styles.contactsContainer} ${Styles.hide}`\n        }\n      >\n        {/* map over messages */}\n        {messages.map((item, index) => {\n          return (\n            <MessagesContact\n              key={item.time}\n              time={item.time}\n              index={index}\n              user={item.user}\n              last={item.messages?.length > 0 ? item.messages[item.messages?.length - 1] : null}\n              getCurrentMessage={getCurrentMessage}\n              currentIndex={currentIndex}\n              handleSidebar={handleSidebar}\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default MessagesSidebar;\n","import React, { useEffect, useState, useRef, useCallback } from 'react';\n\nimport MessagesCreateMenu from './MessagesCreateMenu';\nimport Styles from '../../styles/messages/messages.module.css';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { firestore } from '../../services/firebase';\nimport MessageArea from './MessageArea';\nimport MessageInputBox from './MessageInputBox';\nimport MessagesSidebar from './MessagesSidebar';\n\nconst Messages = ({ match }) => {\n  const [messages, setMessages] = useState([]);\n  const [currentMessage, setCurrentMessage] = useState();\n  const [currentProfile, setCurrentProfile] = useState();\n  const [currentIndex, setCurrentIndex] = useState();\n  const [createModal, setCreateModal] = useState(false);\n  const { userProfile } = useAuth();\n  const dummyRef = useRef(null);\n  const subRef = useRef();\n\n  const scrollToBottom = (type) => {\n    type === 'smooth'\n      ? dummyRef.current?.scrollIntoView({ behavior: 'smooth' })\n      : dummyRef.current?.scrollIntoView();\n  };\n\n  const listener = useCallback(() => {\n    return firestore\n      .collection('users')\n      .doc(userProfile?.userID)\n      .collection('messages')\n      .orderBy('time', 'desc')\n      .onSnapshot((querySnapshot) => {\n        let temp = [];\n        querySnapshot.forEach((doc) => {\n          temp.push(doc.data());\n        });\n        setMessages(temp);\n        scrollToBottom('smooth');\n      });\n  }, [userProfile]);\n\n  useEffect(() => {\n    let unsubscribe = listener();\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  const getCurrentMessage = (num) => {\n    setCurrentIndex(num);\n    setCurrentMessage(messages[num]);\n    scrollToBottom();\n  };\n\n  // creating messages from profile\n  useEffect(() => {\n    if (match && messages && messages.length > 0) {\n      const check = messages.some((item) => item.user === match.params.uid);\n      if (!check) {\n        setMessages([{ user: match.params.uid, time: Date.now(), messages: [] }, ...messages]);\n      } else {\n        const index = messages.findIndex((item) => item.user === match.params.uid);\n        getCurrentMessage(index);\n      }\n    }\n  }, [messages, match]);\n\n  // on message update decide where\n  useEffect(() => {\n    if (!match) {\n      if (!currentMessage && messages && userProfile) {\n        setCurrentMessage(messages[0]);\n        setCurrentIndex(0);\n        getCurrentMessage(0);\n      } else if (currentMessage) {\n        setCurrentMessage(messages[currentIndex]);\n      }\n      if (messages[0]?.messages?.length === 0) {\n        getCurrentMessage(0);\n      }\n    }\n  }, [messages]);\n\n  useEffect(() => {\n    subRef.current = userProfile?.userID;\n  }, [userProfile]);\n\n  const handleCreate = (e) => {\n    e.preventDefault();\n    createModal ? setCreateModal(false) : setCreateModal(true);\n  };\n\n  return (\n    <div className={Styles.messages}>\n      {/*//+ create message menu */}\n      {createModal && (\n        <MessagesCreateMenu\n          messages={messages}\n          setMessages={setMessages}\n          setCurrentMessage={setCurrentMessage}\n          userProfile={userProfile}\n          handleCreate={handleCreate}\n          setCurrentIndex={setCurrentIndex}\n          getCurrentMessage={getCurrentMessage}\n        />\n      )}\n      <div className={Styles.navBg} />\n      {/*//+ sidebar */}\n      <MessagesSidebar\n        Styles={Styles}\n        messages={messages}\n        currentIndex={currentIndex}\n        getCurrentMessage={getCurrentMessage}\n        scrollToBottom={scrollToBottom}\n        handleCreate={handleCreate}\n      />\n      {/*//+ input */}\n      <div className={Styles.main}>\n        <MessageInputBox\n          currentMessage={currentMessage}\n          currentProfile={currentProfile}\n          setCurrentIndex={setCurrentIndex}\n          Styles={Styles}\n        />\n        {/*//+ messages section */}\n        <MessageArea\n          currentProfile={currentProfile}\n          setCurrentProfile={setCurrentProfile}\n          currentMessage={currentMessage}\n          Styles={Styles}\n          dummyRef={dummyRef}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Messages;\n","import '../styles/app.css';\nimport React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport Nav from './Nav/Nav';\nimport Home from './Home/Home';\nimport Profile from './Profile/Profile';\nimport Post from './Post/Post';\nimport SignUp from './SignUp/SignUp';\nimport Settings from './Settings/Settings';\nimport Messages from './Messages/Messages';\nimport { AuthProvider } from '../contexts/AuthContext';\n\nfunction App() {\n  return (\n    <HashRouter>\n      <AuthProvider>\n        <div className=\"App\">\n          {/*//+ Nav */}\n          <Nav />\n          {/*//+ Home */}\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          {/*//+ Messages */}\n          <Route exact path=\"/messages/:uid\" component={Messages} />\n          <Route exact path=\"/messages\">\n            <Messages />\n          </Route>\n          {/*//+ Sign up */}\n          <Route exact path=\"/sign-up\">\n            <SignUp />\n          </Route>\n          {/*//+ Profile */}\n          <Route exact path=\"/profile/:uid\" component={Profile} />\n          {/*//+ post */}\n          <Route exact path=\"/post/:uid/:postid\" component={Post} />\n          {/*//+ settings */}\n          <Route exact path=\"/settings\">\n            <Settings />\n          </Route>\n        </div>\n      </AuthProvider>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}