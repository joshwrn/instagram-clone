{"version":3,"sources":["styles/notifications/notifications__item.module.css","styles/home/home__card.module.css","styles/post/post__sidebar.module.css","styles/settings/settings.module.css","styles/profile/profile__sidebar.module.css","styles/sign-up/sign-up.module.css","styles/nav/nav.module.css","styles/home/home__sidebar.module.css","styles/messages/message__item.module.css","styles/profile/profile.module.css","styles/profile/profile__upload.module.css","styles/profile/profile__followers-modal.module.css","styles/post/post__loading.module.css","styles/nav/nav__user-menu.module.css","styles/post/post__comment-section.module.css","styles/home/home__card__overlay.module.css","styles/profile/profile__feed.module.css","styles/messages/messagesContact.module.css","styles/nav/nav__search__item.module.css","styles/profile/profile__card.module.css","styles/post/post__menu.module.css","styles/post/post.module.css","styles/messages/messages__create-menu.module.css","styles/messages/messages.module.css","styles/notifications/notifications.module.css","styles/nav/nav__search.module.css","styles/home/home__login.module.css","styles/home/home__feed.module.css","styles/home/home.module.css","styles/profile/profile__avatar__modal.module.css","assets/img/logo/logo-2.png","functions/theme.js","services/firebase.js","components/Nav/NavUserMenu.jsx","functions/convertTime.js","components/Notifications/NotificationsItem.jsx","contexts/AuthContext.js","components/Notifications/Notifications.jsx","components/Nav/NavSearchItem.jsx","components/Nav/NavSearch.jsx","functions/debounce.js","functions/stopScroll.js","functions/resizeImage.js","components/Profile/ProfileUpload.jsx","components/Nav/Nav.jsx","components/Home/LoginButton.jsx","components/Profile/ProfileButton.jsx","components/reusable/ImageLoader.jsx","components/Profile/ProfileFollowerListItem.jsx","hooks/useIntersect.js","components/Profile/ProfileFollowersModal.jsx","components/Home/HomeSidebar.jsx","components/Home/HomeCardLike.jsx","components/Home/HomeCardCommentItem.jsx","components/Home/HomeCardComments.jsx","components/Home/HomeCardImage.jsx","components/Home/HomeCardOverlay.jsx","components/Home/HomeCard.jsx","components/Home/HomeFeed.jsx","functions/ScrollToTop.js","components/Home/Home.jsx","components/Profile/ProfileSidebar.jsx","components/Profile/ProfileCard.jsx","components/Profile/ProfileFeed.jsx","components/Profile/ProfileAvatarModal.jsx","components/Profile/Profile.jsx","components/Post/PostComment.jsx","components/Post/PostCommentSection.jsx","components/Post/PostMenu.jsx","components/Post/PostLikeButton.jsx","components/Post/PostCommentBox.jsx","components/Post/PostSidebar.jsx","components/Post/Post.jsx","components/SignUp/SignUp.jsx","components/Settings/Settings.jsx","components/Messages/MessagesCreateMenuItem.jsx","components/Messages/MessagesCreateMenu.jsx","components/Messages/MessageItem.jsx","components/Messages/MessageArea.jsx","components/Messages/MessageInputBox.jsx","components/Messages/MessagesContact.jsx","components/Messages/MessagesSidebar.jsx","components/Messages/Messages.jsx","components/App.jsx","index.jsx"],"names":["module","exports","root","document","documentElement","dark","style","setProperty","light","signIn","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","provider","auth","GoogleAuthProvider","signInWithPopup","firestoreFieldValue","firestore","FieldValue","serverTimestamp","storageRef","storage","ref","NavUserMenu","setOpenMenu","currentUser","logout","theme","setTheme","changeTheme","e","preventDefault","collection","doc","uid","set","merge","onClick","className","Styles","container","inner","option","to","icon","convertTime","start","end","total","converted","Math","floor","NotificationsItem","item","userProfile","useState","profile","setProfile","preview","setPreview","type","setType","addTime","setAddTime","getProfile","a","user","get","profileRef","data","getPost","userID","post","postRef","url","src","useEffect","currentTime","Date","now","time","link","inlineLink","avatarContainer","avatar","profilePhoto","alt","displayName","comment","length","substring","followed","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","setCurrentUser","setUserProfile","attemptLogin","setAttemptLogin","loading","setLoading","history","useHistory","onAuthStateChanged","getUserProfile","profileData","then","userData","exists","signOut","firebaseRegister","usernameInput","where","searchResults","forEach","foundName","undefined","lower","toLowerCase","searchName","photoURL","banner","bio","username","joinDate","metadata","creationTime","lastPostDate","likedPosts","postsCounter","followers","following","messagesCounter","notifications","catch","error","console","addMessage","messages","message","addFollower","update","arrayUnion","notify","Promise","all","push","value","login","Provider","Notifications","notiFragment","handleNoti","setCurrentNotis","notiArray","loader","map","none","NavSearchItem","setOpenSearch","setSearchInput","NavSearch","searchInner","searchInput","searchRef","setSearchResults","handler","current","contains","target","addEventListener","removeEventListener","temp","limit","results","search","noResults","debounce","func","delay","inDebounce","clearTimeout","setTimeout","apply","arguments","stopScroll","state","body","classList","add","remove","resizeImage","setImageFile","setPostFile","width","file","files","size","reader","FileReader","readAsDataURL","onload","event","imgEl","createElement","result","img","canvas","MAX_WIDTH","scaleSize","height","ctx","getContext","drawImage","srcEncoded","toDataURL","toBlob","blob","ProfileUpload","getModal","setNewPost","postFile","caption","setCaption","uploading","setUploading","imageFile","handleSubmit","timestamp","date","likes","comments","createPost","fileRef","child","id","put","getDownloadURL","fileUrl","prev","modal","header","close","topContainer","display","uploadContainer","buttonContainer","onChange","accept","fileInput","upload","captionContainer","captionInput","name","maxLength","placeholder","postButton","saveBtn","Nav","openMenu","openNoti","setOpenNoti","openSearch","currentNotis","setNotiArray","searchValue","setSearchValue","renderModal","setRenderModal","userRef","menuRef","useRef","notiRef","unseen","debounceChange","useCallback","nextValue","nav","logo","logoImg","autoComplete","icons","exact","home","chat","notiContainer","heart","notiBadge","profileLink","person","LoginButton","loginButtons","signUp","ProfileButton","match","currentProfile","getUserObject","handleFollowers","setFollowing","check","includes","handleFollow","thisUser","handleUnfollow","arrayRemove","button","profileBtn","ImageLoader","position","transition","cursor","borderRadius","shadow","zIndex","loadingDiv","background","backgroundSize","animation","boxShadow","hideDiv","image","objectFit","objectPosition","opacity","hideImg","onLoad","ProfileFollowerListItem","currentTab","setCurrent","getUser","listItem","names","useIntersect","isFetching","setIsFetching","observer","IntersectionObserver","isIntersecting","rootMargin","threshold","observe","disconnect","ProfileFollowers","openFollowers","setCurrentTab","list","setList","handleSwitch","choice","getAttribute","slice","reverse","sliced","combine","createMore","tabs","activeHeader","inactiveHeader","listContainer","dummy","Sidebar","setOpenFollowers","sidebar","ProfileFollowersModal","profileContainer","imageContainer","profileImgBlur","nameContainer","stats","statContainer","stat","number","postsLink","HomeCardLike","setLikeState","liked","setLiked","updateLikes","handleLike","thisPost","postUser","addPost","addUser","removePost","removeUser","likedIcon","likeIcon","HomeCardCommentItem","commentUser","HomeCardComments","commentArr","setCommentArr","commentInput","setCommentInput","max","handleComment","commentObject","imageLink","viewAll","commentContainer","commentBox","onSubmit","commentForm","inputBox","send","HomeCardImage","postID","HomeCardOverlay","openLink","linkType","share","input","window","location","host","content","el","appendChild","select","execCommand","removeChild","copyToClipboard","main","Card","setUser","likeState","setModal","modalType","card","left","userInfo","right","moreIcon","footer","firstChild","chatLink","imageBlur","HomeFeed","newPost","stored","setStored","feed","setFeed","lastUser","setLastUser","noPosts","setNoPosts","noPostsRef","dummyRef","firestoreFunction","orderBy","startAfter","me","docs","promises","postsArr","arr","sort","b","getNone","getFollowed","createFeed","getMore","next","scrollTo","loaderContainer","ScrollToTop","pathname","useLocation","Home","ProfileSidebar","loaded","usernames","nameLoading","usernameLoading","counterLoading","secondContainer","postsContainer","posts","followingContainer","followersContainer","bioHeader","bioText","ProfileCard","postId","params","overlay","blur","ProfileFeed","lastPost","setLastPost","endFeed","setEndFeed","endFeedRef","snap","complete","getInitial","updateFeed","getFeed","outer","notFound","notFoundContainer","notFoundButton","feedContainer","ProfileAvatarModal","getAvatarModal","Profile","props","setCurrentProfile","avatarModal","setAvatarModal","setLoaded","every","handleLoad","imgIndex","findIndex","old","actionButton","actionBtn","heroLoading","hero","topSection","imgContainer","avatarLoading","avatarBlur","topRight","topIconRow","PostComment","getTime","PostCommentSection","currentPost","setComments","getComments","commentsContainer","Loading","commentProfile","PostMenu","menu","ownPost","menuStatus","setMenuStatus","handleDelete","postid","delete","pictureRef","refFromURL","userDoc","href","postIcon","PostLikeButton","getCurrentPost","PostCommentBox","IoSendOutline","setInput","minLength","PostSidebar","getCur","top","profileImg","IoHeartOutline","infoContainer","Post","setCurrentPost","setPostUser","setOwnPost","getPostUser","postState","returnButton","SignUp","userInput","setUserInput","userValue","setUserValue","nameTaken","setNameTaken","replace","handleChange","nameHelper","color","textContainer","headerText","formContainer","pattern","form","required","helperDiv","signUpButton","backgroundColor","or","loginButton","Settings","userBio","setUserBio","handleAvatar","handleBanner","handlePhotoChange","handleTextUpload","settings","bannerOverlayContainer","bannerContainer","bannerOverlay","bannerIcon","containerBar","profileOverlayContainer","profileOverlay","profileIcon","textInputs","textForm","inputContainer","inputBoxDisplay","newVal","bioInput","profileBtnContainer","textBtn","MessagesCreateMenuItem","contactID","setMessages","handleCreate","getCurrentMessage","some","index","MessagesCreateMenu","setCurrentMessage","setCurrentIndex","createInitial","MessageItem","thread","sent","setSent","group","setGroup","itemSent","bubbleSent","topGroup","bubble","MessageArea","currentMessage","topRef","setThread","messageArea","MessageInputBox","setInputBox","contactThread","userThread","addUserThread","addContactThread","messageBox","messageForm","MessagesContact","last","currentIndex","handleSidebar","active","contactInfo","MessagesSidebar","scrollToBottom","lastContact","setLastContact","setSidebar","contactRef","hide","userAvatarContainer","userAvatarBlur","backArrowContainer","backArrow","headerTitle","createIconContainer","createIcon","contactsContainer","Messages","createModal","setCreateModal","num","scrollIntoView","behavior","unsubscribe","onSnapshot","navBg","App","BrowserRouter","require","basename","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8aef9a8d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"notifications__item_container__1yM2P\",\"link\":\"notifications__item_link__3hOpB\",\"start\":\"notifications__item_start__2ocM7\",\"inlineLink\":\"notifications__item_inlineLink__1--60\",\"avatar\":\"notifications__item_avatar__219i9\",\"displayName\":\"notifications__item_displayName__26U78\",\"type\":\"notifications__item_type__3Zr01\",\"comment\":\"notifications__item_comment__179RZ\",\"time\":\"notifications__item_time__1DF0D\",\"end\":\"notifications__item_end__1FRJa\",\"preview\":\"notifications__item_preview__2Gl5Z\",\"followed\":\"notifications__item_followed__11sP7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"home__card_card__2sHQP\",\"container\":\"home__card_container__3FNNr\",\"header\":\"home__card_header__3ovQp\",\"left\":\"home__card_left__1PALM\",\"right\":\"home__card_right__1i2gX\",\"moreIcon\":\"home__card_moreIcon__2vM0f\",\"avatar\":\"home__card_avatar__3MGtB\",\"userInfo\":\"home__card_userInfo__2cLzI\",\"displayName\":\"home__card_displayName__7HfBN\",\"username\":\"home__card_username__34P_n\",\"loading\":\"home__card_loading__2QkXo\",\"imageLink\":\"home__card_imageLink__2RV1k\",\"imageContainer\":\"home__card_imageContainer__1RtBx\",\"imageBlur\":\"home__card_imageBlur__3Fsus\",\"fade\":\"home__card_fade__pgDB5\",\"footer\":\"home__card_footer__bNT0h\",\"firstChild\":\"home__card_firstChild__91m9Q\",\"icon\":\"home__card_icon__3nf38\",\"likeIcon\":\"home__card_likeIcon__KyPef\",\"likedIcon\":\"home__card_likedIcon__vmcUU\",\"likes\":\"home__card_likes__1jaSS\",\"commentContainer\":\"home__card_commentContainer__3NPTZ\",\"comments\":\"home__card_comments__3yI7V\",\"viewAll\":\"home__card_viewAll__fGZIx\",\"comment\":\"home__card_comment__3PIpk\",\"commentUser\":\"home__card_commentUser__Ik6t9\",\"commentBox\":\"home__card_commentBox__1QqXP\",\"commentForm\":\"home__card_commentForm__1SaOC\",\"inputBox\":\"home__card_inputBox__2asqY\",\"send\":\"home__card_send__2sMlQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"post__sidebar_sidebar__1YPF_\",\"top\":\"post__sidebar_top__21Mkr\",\"captionContainer\":\"post__sidebar_captionContainer__2c0JN\",\"caption\":\"post__sidebar_caption__W_02G\",\"profileContainer\":\"post__sidebar_profileContainer__ibpB4\",\"imageContainer\":\"post__sidebar_imageContainer__2ZuwF\",\"profileImg\":\"post__sidebar_profileImg__2vkBk\",\"profileImgBlur\":\"post__sidebar_profileImgBlur__XX4s9\",\"nameContainer\":\"post__sidebar_nameContainer__3M3xj\",\"username\":\"post__sidebar_username__3VqLl\",\"footer\":\"post__sidebar_footer__229P6\",\"firstChild\":\"post__sidebar_firstChild__1h18G\",\"left\":\"post__sidebar_left__1uD9N\",\"postIcon\":\"post__sidebar_postIcon__1W7WJ\",\"icon\":\"post__sidebar_icon__3qkzm\",\"likeIcon\":\"post__sidebar_likeIcon__CnAyT\",\"infoContainer\":\"post__sidebar_infoContainer__1Jo2W\",\"likedIcon\":\"post__sidebar_likedIcon__2erUk\",\"likes\":\"post__sidebar_likes__1DALb\",\"time\":\"post__sidebar_time__v5OtV\",\"commentBox\":\"post__sidebar_commentBox__3jXZb\",\"commentForm\":\"post__sidebar_commentForm__1fGTQ\",\"input\":\"post__sidebar_input__2B6eA\",\"send\":\"post__sidebar_send__Tr8bk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"settings_settings__9u3LA\",\"container\":\"settings_container__18EBM\",\"inner\":\"settings_inner__2goxT\",\"bannerOverlayContainer\":\"settings_bannerOverlayContainer__1a5-V\",\"bannerContainer\":\"settings_bannerContainer__20k-A\",\"bannerImage\":\"settings_bannerImage__15Txo\",\"bannerOverlay\":\"settings_bannerOverlay__qYlci\",\"bannerIcon\":\"settings_bannerIcon__1rCI-\",\"fileInput\":\"settings_fileInput__3FRbV\",\"containerBar\":\"settings_containerBar__3Fnh_\",\"profileOverlayContainer\":\"settings_profileOverlayContainer__sv8mm\",\"profileOverlay\":\"settings_profileOverlay__u2bwa\",\"profileIcon\":\"settings_profileIcon__3Vztt\",\"textInputs\":\"settings_textInputs__1uTn7\",\"textForm\":\"settings_textForm__YkGB2\",\"inputContainer\":\"settings_inputContainer__22DOQ\",\"input\":\"settings_input__UedIy\",\"inputBoxDisplay\":\"settings_inputBoxDisplay__1OlvB\",\"bioInput\":\"settings_bioInput__1IfAn\",\"textBtn\":\"settings_textBtn__2JGIG\",\"profileBtnContainer\":\"settings_profileBtnContainer__1_waZ\",\"profileLink\":\"settings_profileLink__AGTBJ\",\"profileBtn\":\"settings_profileBtn__1XiRR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"profile__sidebar_sidebar__11uI9\",\"usernames\":\"profile__sidebar_usernames__2-Ej_\",\"displayName\":\"profile__sidebar_displayName__32glH\",\"username\":\"profile__sidebar_username__1lHqL\",\"postsContainer\":\"profile__sidebar_postsContainer__dRmP9\",\"posts\":\"profile__sidebar_posts__1m6Os\",\"userInfo\":\"profile__sidebar_userInfo__3NNvr\",\"followersContainer\":\"profile__sidebar_followersContainer__34jdX\",\"followingContainer\":\"profile__sidebar_followingContainer__3WIfo\",\"followers\":\"profile__sidebar_followers__3D63L\",\"following\":\"profile__sidebar_following__dXkzD\",\"bio\":\"profile__sidebar_bio__6RyiG\",\"bioHeader\":\"profile__sidebar_bioHeader__37niP\",\"bioText\":\"profile__sidebar_bioText__1kXZt\",\"nameLoading\":\"profile__sidebar_nameLoading__3M-ki\",\"usernameLoading\":\"profile__sidebar_usernameLoading__1hAcZ\",\"countersLoading\":\"profile__sidebar_countersLoading__3mFop\",\"counterLoading\":\"profile__sidebar_counterLoading__1Ei56\",\"inner\":\"profile__sidebar_inner__2y690\",\"secondContainer\":\"profile__sidebar_secondContainer__2xred\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signUp\":\"sign-up_signUp__3JQa-\",\"container\":\"sign-up_container__2CyWt\",\"header\":\"sign-up_header__1Zol_\",\"logoImg\":\"sign-up_logoImg__2ff0k\",\"headerText\":\"sign-up_headerText__bsPde\",\"formContainer\":\"sign-up_formContainer__29uuM\",\"form\":\"sign-up_form__2GaCi\",\"input\":\"sign-up_input__DYRKx\",\"username\":\"sign-up_username__r2qOp\",\"inputBox\":\"sign-up_inputBox__3TbGG\",\"helperDiv\":\"sign-up_helperDiv__11z-p\",\"nameHelper\":\"sign-up_nameHelper__1nPlw\",\"signUpButton\":\"sign-up_signUpButton__A-8pd\",\"or\":\"sign-up_or__2zICN\",\"loginButton\":\"sign-up_loginButton__27dxH\",\"notFoundContainer\":\"sign-up_notFoundContainer__L38_P\",\"returnButton\":\"sign-up_returnButton__16Xch\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"nav_nav__2IZUq\",\"inner\":\"nav_inner__1nPzn\",\"logoImg\":\"nav_logoImg__24lEx\",\"logo\":\"nav_logo__CMH12\",\"searchInput\":\"nav_searchInput__15DXk\",\"icons\":\"nav_icons__1fxg9\",\"icon\":\"nav_icon__1b4zK\",\"person\":\"nav_person__11phe\",\"add\":\"nav_add__3-fUK\",\"home\":\"nav_home__3uWMI\",\"heart\":\"nav_heart__3F2Wn\",\"chat\":\"nav_chat__1pLBE\",\"notiBadge\":\"nav_notiBadge__27rz0\",\"profileLink\":\"nav_profileLink__2SjbY\",\"notiContainer\":\"nav_notiContainer__JP-pH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"home__sidebar_sidebar__2VErq\",\"container\":\"home__sidebar_container__DlNFV\",\"profileContainer\":\"home__sidebar_profileContainer__1Hj6U\",\"imageContainer\":\"home__sidebar_imageContainer__3Dz61\",\"profileImg\":\"home__sidebar_profileImg__FK7ho\",\"profileImgBlur\":\"home__sidebar_profileImgBlur__1t9ik\",\"fade\":\"home__sidebar_fade__2XToe\",\"nameContainer\":\"home__sidebar_nameContainer__3AgZm\",\"username\":\"home__sidebar_username__oT5hs\",\"stats\":\"home__sidebar_stats__1Qcls\",\"postsLink\":\"home__sidebar_postsLink__2eTUA\",\"statContainer\":\"home__sidebar_statContainer__3QtT5\",\"stat\":\"home__sidebar_stat__8FJQH\",\"number\":\"home__sidebar_number__2PJPU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"message__item_item__1jw6X\",\"itemSent\":\"message__item_itemSent__1IAFq\",\"topGroup\":\"message__item_topGroup__386cL\",\"group\":\"message__item_group__1EZ-5\",\"bubble\":\"message__item_bubble__3_pNB\",\"bubbleSent\":\"message__item_bubbleSent__59KVa\",\"avatar\":\"message__item_avatar__3YRR0\",\"avatarContainer\":\"message__item_avatarContainer__1j7ho\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"profile_profile__2doWq\",\"header\":\"profile_header__1Yb_V\",\"hero\":\"profile_hero__2QdAq\",\"outer\":\"profile_outer__1p7TJ\",\"inner\":\"profile_inner__2CtB1\",\"topSection\":\"profile_topSection__1wQVw\",\"imgContainer\":\"profile_imgContainer__1WOy9\",\"avatar\":\"profile_avatar__3Q1Q_\",\"avatarBlur\":\"profile_avatarBlur__13Y7Q\",\"topRight\":\"profile_topRight__3x1sY\",\"topIconRow\":\"profile_topIconRow__1scaU\",\"profileBtn\":\"profile_profileBtn__3bsBB\",\"actionBtn\":\"profile_actionBtn__3Arth\",\"heroLoading\":\"profile_heroLoading__Yzhmf\",\"avatarLoading\":\"profile_avatarLoading__1ljvT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"profile__upload_modal__2twt5\",\"anim\":\"profile__upload_anim__1Fwgk\",\"container\":\"profile__upload_container__1df1f\",\"header\":\"profile__upload_header__1jaGB\",\"close\":\"profile__upload_close__27-of\",\"topContainer\":\"profile__upload_topContainer__1J5J0\",\"uploadContainer\":\"profile__upload_uploadContainer__2nae4\",\"upload\":\"profile__upload_upload__1PAGV\",\"buttonContainer\":\"profile__upload_buttonContainer__1BnPN\",\"fileInput\":\"profile__upload_fileInput__3j4Tt\",\"preview\":\"profile__upload_preview__32czN\",\"captionContainer\":\"profile__upload_captionContainer__2jDje\",\"captionInput\":\"profile__upload_captionInput__28M9u\",\"postButton\":\"profile__upload_postButton__3QQHD\",\"saveBtn\":\"profile__upload_saveBtn__m24jl\",\"loader\":\"profile__upload_loader__HMsSE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"profile__followers-modal_modal__3tB3X\",\"anim\":\"profile__followers-modal_anim__7L6jl\",\"container\":\"profile__followers-modal_container__3Ilil\",\"header\":\"profile__followers-modal_header___ZpoR\",\"activeHeader\":\"profile__followers-modal_activeHeader__D2ll_\",\"inactiveHeader\":\"profile__followers-modal_inactiveHeader__3FSOY\",\"tabs\":\"profile__followers-modal_tabs__2Os3r\",\"close\":\"profile__followers-modal_close__3INQ1\",\"listContainer\":\"profile__followers-modal_listContainer__3sGKP\",\"listItem\":\"profile__followers-modal_listItem__3C5g1\",\"start\":\"profile__followers-modal_start__Htzo2\",\"avatarContainer\":\"profile__followers-modal_avatarContainer__1qNpa\",\"names\":\"profile__followers-modal_names__2HesW\",\"displayName\":\"profile__followers-modal_displayName__1moWv\",\"username\":\"profile__followers-modal_username__3a7X3\",\"link\":\"profile__followers-modal_link__OguEg\",\"profileBtn\":\"profile__followers-modal_profileBtn__X2YLQ\",\"dummy\":\"profile__followers-modal_dummy__2d3Ba\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"post__loading_image__2GqsN\",\"profileImg\":\"post__loading_profileImg__3bWxo\",\"displayName\":\"post__loading_displayName__lC7S4\",\"username\":\"post__loading_username__2Qn2z\",\"commentProfile\":\"post__loading_commentProfile__29s--\",\"comment\":\"post__loading_comment__2IcMu\",\"gradientMove\":\"post__loading_gradientMove__1S51o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"nav__user-menu_container__Fqcgp\",\"inner\":\"nav__user-menu_inner__2kALp\",\"option\":\"nav__user-menu_option__3-4qX\",\"icon\":\"nav__user-menu_icon__3xZXt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewAll\":\"post__comment-section_viewAll__2sS96\",\"comments\":\"post__comment-section_comments__1kE_m\",\"commentContainer\":\"post__comment-section_commentContainer__2Pa15\",\"start\":\"post__comment-section_start__3HJtG\",\"comment\":\"post__comment-section_comment__3yWT0\",\"user\":\"post__comment-section_user__1KlxN\",\"time\":\"post__comment-section_time__rFzjS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"home__card__overlay_container__1j5BI\",\"fade\":\"home__card__overlay_fade__1rCNh\",\"header\":\"home__card__overlay_header__3YKgv\",\"close\":\"home__card__overlay_close__7bNL4\",\"main\":\"home__card__overlay_main__2TswB\",\"share\":\"home__card__overlay_share__3gvBr\",\"input\":\"home__card__overlay_input__2scVn\",\"button\":\"home__card__overlay_button__2zKPy\",\"scale\":\"home__card__overlay_scale__2xr_s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"feedContainer\":\"profile__feed_feedContainer__jw4N6\",\"feed\":\"profile__feed_feed__l-_-A\",\"outer\":\"profile__feed_outer__8KF2v\",\"notFound\":\"profile__feed_notFound__2QW_f\",\"notFoundButton\":\"profile__feed_notFoundButton__3EUiW\",\"loaderContainer\":\"profile__feed_loaderContainer__1_UKL\",\"endFeed\":\"profile__feed_endFeed__3rMZw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"messagesContact_active__1S8BW\",\"container\":\"messagesContact_container__SpyKz\",\"avatarContainer\":\"messagesContact_avatarContainer__37Pi8\",\"name\":\"messagesContact_name__2HHlB\",\"infoContainer\":\"messagesContact_infoContainer__XcOI9\",\"message\":\"messagesContact_message__1rt-A\",\"time\":\"messagesContact_time__3r9Eq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"nav__search__item_container__1rbtQ\",\"link\":\"nav__search__item_link__Lw8K0\",\"start\":\"nav__search__item_start__1udLh\",\"avatar\":\"nav__search__item_avatar__XDZQW\",\"displayName\":\"nav__search__item_displayName__2aH4p\",\"type\":\"nav__search__item_type__2UESu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"profile__card_card__7TO71\",\"container\":\"profile__card_container__29ku9\",\"link\":\"profile__card_link__1YrJR\",\"blur\":\"profile__card_blur__3aW37\",\"fade\":\"profile__card_fade__4kdFJ\",\"overlay\":\"profile__card_overlay__2wOy9\",\"icon\":\"profile__card_icon__15nv5\",\"loading\":\"profile__card_loading__1HL9C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"post__menu_container__OSM0B\",\"inner\":\"post__menu_inner__gfhKj\",\"option\":\"post__menu_option__2wYKe\",\"icon\":\"post__menu_icon__25HJ1\",\"postIcon\":\"post__menu_postIcon__3jcva\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"post_post__3I_6Y\",\"notFoundContainer\":\"post_notFoundContainer__3MkKm\",\"returnButton\":\"post_returnButton__3Ndd_\",\"container\":\"post_container__3XRbe\",\"image\":\"post_image__3qomB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"messages__create-menu_modal__1w8N3\",\"anim\":\"messages__create-menu_anim__2L1bg\",\"container\":\"messages__create-menu_container__2gz1S\",\"header\":\"messages__create-menu_header__1ZwAq\",\"close\":\"messages__create-menu_close__EwgDx\",\"listContainer\":\"messages__create-menu_listContainer__3hZ35\",\"listItem\":\"messages__create-menu_listItem__3RlRm\",\"start\":\"messages__create-menu_start__1kCYO\",\"avatarContainer\":\"messages__create-menu_avatarContainer__1ONU6\",\"names\":\"messages__create-menu_names__279M1\",\"displayName\":\"messages__create-menu_displayName__u7u3V\",\"username\":\"messages__create-menu_username__2CyxC\",\"link\":\"messages__create-menu_link__3LbMr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"messages_messages__-1auM\",\"navBg\":\"messages_navBg__1VcBn\",\"sidebar\":\"messages_sidebar__2VM5P\",\"header\":\"messages_header__2uzVi\",\"userAvatarContainer\":\"messages_userAvatarContainer__5qf6h\",\"userAvatarBlur\":\"messages_userAvatarBlur__2zJW5\",\"backArrowContainer\":\"messages_backArrowContainer__1vB9S\",\"headerTitle\":\"messages_headerTitle__3-WO_\",\"createIconContainer\":\"messages_createIconContainer__XW38m\",\"createIcon\":\"messages_createIcon__Mu0Dc\",\"contactsContainer\":\"messages_contactsContainer__1MVn_\",\"main\":\"messages_main__1Rz6i\",\"messageArea\":\"messages_messageArea__LK28x\",\"messageBox\":\"messages_messageBox__twOZU\",\"messageForm\":\"messages_messageForm__3c1jY\",\"input\":\"messages_input__1GR5Q\",\"send\":\"messages_send__-681q\",\"hide\":\"messages_hide__3IS7P\",\"remove\":\"messages_remove__2ZUm_\",\"backArrow\":\"messages_backArrow__9s_d-\",\"dummy\":\"messages_dummy__gznXD\",\"AnimationName\":\"messages_AnimationName__3AIOs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"notifications_container__10GIh\",\"inner\":\"notifications_inner__22gY9\",\"loader\":\"notifications_loader__1Yk7U\",\"none\":\"notifications_none__2563n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"nav__search_container__3vsLD\",\"inner\":\"nav__search_inner__3Zkl4\",\"loader\":\"nav__search_loader__vOsvU\",\"noResults\":\"nav__search_noResults__3MwRg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginButtons\":\"home__login_loginButtons__IDFl8\",\"signUp\":\"home__login_signUp__2PU0T\",\"login\":\"home__login_login__5UjpF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"home__feed_container__2yUKA\",\"loaderContainer\":\"home__feed_loaderContainer__3_m91\",\"noPosts\":\"home__feed_noPosts__j8c7Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"home_home__2aVVP\",\"inner\":\"home_inner__2gif9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"profile__avatar__modal_modal__3nLy6\",\"anim\":\"profile__avatar__modal_anim__1S14a\",\"avatar\":\"profile__avatar__modal_avatar__3eoW1\"};","export default __webpack_public_path__ + \"static/media/logo-2.6eea3ec0.png\";","const root = document.documentElement;\n\nconst dark = () => {\n  root.style.setProperty('--primary-font-color', 'white');\n  root.style.setProperty('--nav-background-color', 'rgba(0, 0, 0, 0.733)');\n  root.style.setProperty('--primary-transparent-color', 'rgba(0, 0, 0, 0.93)');\n  root.style.setProperty('--user-menu-font-color', 'white');\n  root.style.setProperty('--primary-background-color', 'black');\n  root.style.setProperty('--primary-border', '1px solid rgb(41, 41, 41)');\n  root.style.setProperty('--secondary-border', '1px solid rgb(41, 41, 41)');\n  root.style.setProperty('--loading-gradient', 'linear-gradient(to right, #000000, #353535)');\n  root.style.setProperty('--messages-sidebar-background', 'rgba(0, 0, 0, 0.87)');\n  root.style.setProperty('--messages-bubble-background', '#303030');\n  root.style.setProperty('--menu-hover-color', 'rgba(255, 255, 255, 0.1)');\n  root.style.setProperty('--notification-type-color', 'rgb(221, 221, 221)');\n  root.style.setProperty('--home-card-overlay', 'rgba(0, 0, 0, 0.85)');\n};\n\nconst light = () => {\n  root.style.setProperty('--primary-font-color', 'black');\n  root.style.setProperty('--nav-background-color', 'rgba(255, 255, 255, 0.733)');\n  root.style.setProperty('--primary-transparent-color', 'rgba(255, 255, 255, 0.98)');\n  root.style.setProperty('--user-menu-font-color', 'black');\n  root.style.setProperty('--primary-background-color', 'white');\n  root.style.setProperty('--primary-border', '1px solid rgb(41, 41, 41, 0)');\n  root.style.setProperty('--secondary-border', '1px solid rgb(206, 206, 206)');\n  root.style.setProperty('--loading-gradient', 'linear-gradient(to right, #ffffff, #c2c2c2)');\n  root.style.setProperty('--messages-sidebar-background', 'rgba(255, 255, 255, 0.87)');\n  root.style.setProperty('--messages-bubble-background', '#d3d3d3');\n  root.style.setProperty('--menu-hover-color', 'rgba(0, 0, 0, 0.1)');\n  root.style.setProperty('--notification-type-color', 'rgb(75, 75, 75)');\n  root.style.setProperty('--home-card-overlay', 'rgba(255, 255, 255, 0.85)');\n};\n\nexport { light, dark };\n","import firebase from 'firebase';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nexport const initFire = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n});\n\nexport const signIn = () => {\n  const provider = new firebase.auth.GoogleAuthProvider();\n  firebase.auth().signInWithPopup(provider);\n};\n\nexport const firestoreFieldValue = firebase.firestore.FieldValue;\nexport const timestamp = firebase.firestore.FieldValue.serverTimestamp();\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\nexport const storageRef = firebase.storage().ref();\nexport const storage = firebase.storage();\n","import React from 'react';\nimport { NavLink, Link } from 'react-router-dom';\nimport { IoPersonCircleOutline, IoPersonAddOutline, IoLogOut } from 'react-icons/io5';\nimport { CgDarkMode } from 'react-icons/cg';\nimport Styles from '../../styles/nav/nav__user-menu.module.css';\nimport { light, dark } from '../../functions/theme';\nimport { firestore } from '../../services/firebase';\n\nconst NavUserMenu = ({ setOpenMenu, currentUser, logout, theme, setTheme }) => {\n  const handleClick = (e) => {\n    e.preventDefault();\n    setOpenMenu(false);\n  };\n\n  const changeTheme = (e) => {\n    e.preventDefault();\n    if (theme === 'light') {\n      dark();\n      setTheme('dark');\n      if (currentUser) {\n        const userRef = firestore.collection('users').doc(currentUser.uid);\n        userRef.set(\n          {\n            theme: 'dark',\n          },\n          { merge: true }\n        );\n      }\n    } else if (theme === 'dark') {\n      light();\n      setTheme('light');\n      if (currentUser) {\n        const userRef = firestore.collection('users').doc(currentUser.uid);\n        userRef.set(\n          {\n            theme: 'light',\n          },\n          { merge: true }\n        );\n      }\n    }\n  };\n\n  return (\n    <div onClick={handleClick} className={Styles.container}>\n      <div className={Styles.inner}>\n        {currentUser ? (\n          <>\n            <NavLink className={Styles.option} to={`/profile/${currentUser.uid}`}>\n              <IoPersonCircleOutline className={Styles.icon} />\n              <div>\n                <p>Profile</p>\n              </div>\n            </NavLink>\n            <div onClick={changeTheme} className={Styles.option}>\n              <CgDarkMode className={Styles.icon} />\n              <p>Change Theme</p>\n            </div>\n            <div onClick={logout} className={Styles.option}>\n              <IoLogOut className={Styles.icon} />\n              <p>Logout</p>\n            </div>\n          </>\n        ) : (\n          <>\n            <Link className={Styles.option} to=\"/sign-up\">\n              <IoPersonAddOutline className={Styles.icon} />\n              <div>\n                <p>Sign Up</p>\n              </div>\n            </Link>\n            <div onClick={changeTheme} className={Styles.option}>\n              <CgDarkMode className={Styles.icon} />\n              <p>Change Theme</p>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default NavUserMenu;\n","const convertTime = (start, end) => {\n  const total = (end - start) / 1000;\n  if (total < 30) {\n    return 'now';\n  }\n  if (total < 60) {\n    const converted = Math.floor(total);\n    return `${converted}s`;\n  }\n  if (total >= 60 && total < 3600) {\n    const converted = Math.floor(total / 60);\n    return `${converted}m`;\n  }\n  if (total >= 3600 && total < 86400) {\n    const converted = Math.floor(total / 3600);\n    return `${converted}h`;\n  }\n  if (total >= 86400 && total < 604800) {\n    const converted = Math.floor(total / 86400);\n    return `${converted}d`;\n  }\n  if (total >= 604800 && total < 2592000) {\n    const converted = Math.floor(total / 604800);\n    return `${converted}w`;\n  }\n  if (total >= 2592000 && total < 31536000) {\n    const converted = Math.floor(total / 2592000);\n    return `${converted}${converted === 1 ? 'mth' : 'mths'}`;\n  }\n  if (total >= 31536000) {\n    const converted = Math.floor(total / 31536000);\n    return `${converted}${converted === 1 ? 'yr' : 'yrs'}`;\n  }\n};\n\nexport default convertTime;\n","import React, { useEffect, useState } from 'react';\nimport { IoPersonAdd } from 'react-icons/io5';\nimport { Link } from 'react-router-dom';\nimport { firestore } from '../../services/firebase';\nimport convertTime from '../../functions/convertTime';\nimport Styles from '../../styles/notifications/notifications__item.module.css';\n\nconst NotificationsItem = ({ item, userProfile }) => {\n  const [profile, setProfile] = useState();\n  const [preview, setPreview] = useState();\n  const [type, setType] = useState();\n  const [addTime, setAddTime] = useState();\n\n  const getProfile = async () => {\n    const profileRef = await firestore.collection('users').doc(item.user).get();\n    setProfile(profileRef.data());\n  };\n\n  const getPost = async () => {\n    const postRef = await firestore\n      .collection('users')\n      .doc(userProfile.userID)\n      .collection('posts')\n      .doc(item.post)\n      .get();\n    const url = postRef.data()?.src;\n    setPreview(url);\n  };\n\n  useEffect(() => {\n    getProfile();\n    if (item.type === 'liked' || item.type === 'comment') {\n      getPost();\n    }\n  }, []);\n\n  useEffect(() => {\n    const currentTime = Date.now();\n    const converted = convertTime(item.time, currentTime);\n    setAddTime(converted);\n  }, []);\n\n  useEffect(() => {\n    if (profile && preview) {\n      if (item.type === 'liked') {\n        setType(\n          <Link className={Styles.link} to={`/post/${userProfile.userID}/${item.post}`}>\n            <div className={Styles.container}>\n              <div className={Styles.start}>\n                <Link className={Styles.inlineLink} to={`/profile/${item.user}`}>\n                  <div className={Styles.avatarContainer}>\n                    <img className={Styles.avatar} src={profile.profilePhoto} alt=\"\" />\n                  </div>\n                  <div className={Styles.displayName}>{profile.displayName}</div>\n                </Link>\n                <div className={Styles.type}>liked your post.</div>\n              </div>\n              <div className={Styles.end}>\n                <span className={Styles.time}>{`${addTime}`}</span>\n                <img className={Styles.preview} src={preview} alt=\"\" />\n              </div>\n            </div>\n          </Link>\n        );\n      }\n      if (item.type === 'comment') {\n        setType(\n          <Link className={Styles.link} to={`/post/${userProfile.userID}/${item.post}`}>\n            <div className={Styles.container}>\n              <div className={Styles.start}>\n                <Link className={Styles.inlineLink} to={`/profile/${item.user}`}>\n                  <div className={Styles.avatarContainer}>\n                    <img className={Styles.avatar} src={profile.profilePhoto} alt=\"\" />\n                  </div>\n                  <div className={Styles.displayName}>{profile.displayName}</div>\n                </Link>\n                <div className={Styles.type}>left a comment:</div>\n                <div className={Styles.comment}>\n                  {item.comment.length >= 15 ? item.comment.substring(0, 15) + '...' : item.comment}\n                </div>\n              </div>\n              <div className={Styles.end}>\n                <span className={Styles.time}>{`${addTime}`}</span>\n                <img className={Styles.preview} src={preview} alt=\"\" />\n              </div>\n            </div>\n          </Link>\n        );\n      }\n    } else if (profile && item.type === 'followed') {\n      setType(\n        <Link className={Styles.link} to={`/profile/${item.user}`}>\n          <div className={Styles.container}>\n            <div className={Styles.start}>\n              <div className={Styles.avatarContainer}>\n                <img className={Styles.avatar} src={profile.profilePhoto} alt=\"\" />\n              </div>\n              <div className={Styles.displayName}>{profile.displayName}</div>\n              <div className={Styles.type}>followed you.</div>\n            </div>\n            <div className={Styles.end}>\n              <span className={Styles.time}>{`${addTime}`}</span>\n              <IoPersonAdd className={Styles.followed} />\n            </div>\n          </div>\n        </Link>\n      );\n    }\n  }, [preview, profile]);\n\n  return <>{profile && type}</>;\n};\n\nexport default NotificationsItem;\n","import React, { useContext, useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { auth, signIn, firestore, firestoreFieldValue } from '../services/firebase';\n\n// Create context\nconst AuthContext = React.createContext();\n\n// Function allows you to use the context\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n\n// Function that uses provider in return\nexport function AuthProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState();\n  const [userProfile, setUserProfile] = useState();\n  const [attemptLogin, setAttemptLogin] = useState();\n  const [loading, setLoading] = useState(true);\n  let history = useHistory();\n\n  const login = () => {\n    signIn();\n    setAttemptLogin(true);\n  };\n\n  function logout() {\n    setUserProfile(null);\n    history.push('/');\n    return auth.signOut();\n  }\n\n  // only check user on component mount\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      setCurrentUser(user);\n      setLoading(false);\n    });\n    return unsubscribe;\n  }, []);\n\n  const getUserProfile = async () => {\n    const profileData = await firestore.collection('users').doc(currentUser.uid).get();\n    setUserProfile(profileData.data());\n  };\n\n  useEffect(() => {\n    if (currentUser) {\n      getUserProfile();\n    }\n    if (attemptLogin && currentUser) {\n      return firestore\n        .collection('users')\n        .doc(currentUser.uid)\n        .get()\n        .then((userData) => {\n          //# if user data does not exist\n          if (!userData.exists) {\n            auth.signOut();\n            setAttemptLogin(false);\n          }\n        });\n    }\n  }, [currentUser]);\n\n  //+ check whether name is taken and then create the user\n  const firebaseRegister = async (usernameInput) => {\n    if (currentUser !== null) {\n      const userData = await firestore.collection('users').doc(currentUser.uid).get();\n      //# if user data does not exist\n      if (!userData.exists) {\n        let foundName;\n        await firestore\n          .collection('users')\n          .where('username', '==', usernameInput)\n          .get()\n          .then((searchResults) => {\n            return searchResults.forEach((doc) => {\n              foundName = doc.data();\n            });\n          });\n\n        if (foundName === undefined) {\n          const lower = currentUser.displayName.toLowerCase();\n          const currentTime = Date.now();\n          //+ create the user account\n          await firestore\n            .collection('users')\n            .doc(currentUser.uid)\n            .set({\n              displayName: currentUser.displayName,\n              searchName: lower,\n              profilePhoto: currentUser.photoURL,\n              banner:\n                'https://firebasestorage.googleapis.com/v0/b/insta-a107a.appspot.com/o/default-banner.jpg?alt=media&token=d3c53902-0e3a-4761-8705-8991db9d7b68',\n              bio: `Hi my name is ${currentUser.displayName}`,\n              username: usernameInput,\n              userID: currentUser.uid,\n              joinDate: currentUser.metadata.creationTime,\n              lastPostDate: 0,\n              likedPosts: [],\n              postsCounter: 0,\n              followers: [],\n              following: ['e9x1NbFsE8VqLAqAKfbpHkH0QS93'],\n              messagesCounter: 0,\n              notifications: [],\n              theme: 'light',\n            })\n            .catch(function (error) {\n              console.error('Error writing new message to database', error);\n            });\n          //+ add default message\n          const addMessage = () => {\n            firestore\n              .collection('users')\n              .doc(currentUser.uid)\n              .collection('messages')\n              .doc('e9x1NbFsE8VqLAqAKfbpHkH0QS93')\n              .set({\n                messages: [\n                  {\n                    message: `Hi ${currentUser.displayName}, Thanks for signing up and testing my project. Please look around and test all the features you can. You can reply to this message if you'd like, but I might not see it. So, to get in touch please email me at joshnwarren@gmail.com.`,\n                    time: currentTime,\n                    user: 'e9x1NbFsE8VqLAqAKfbpHkH0QS93',\n                  },\n                ],\n                time: currentTime,\n                user: 'e9x1NbFsE8VqLAqAKfbpHkH0QS93',\n              });\n          };\n          //+ update my followers\n          const addFollower = () => {\n            const userRef = firestore.collection('users').doc('e9x1NbFsE8VqLAqAKfbpHkH0QS93');\n            userRef.update({\n              followers: firestoreFieldValue.arrayUnion(currentUser.uid),\n            });\n          };\n\n          //+ notify me\n          const notify = () => {\n            const userRef = firestore.collection('users').doc('e9x1NbFsE8VqLAqAKfbpHkH0QS93');\n            userRef.update({\n              notifications: firestoreFieldValue.arrayUnion({\n                user: currentUser.uid,\n                type: 'followed',\n                time: currentTime,\n              }),\n            });\n          };\n\n          await Promise.all([addMessage(), addFollower(), notify()]);\n          history.push('/settings');\n        } else {\n          auth.signOut();\n        }\n      } else {\n        history.push('/');\n      }\n    }\n  };\n\n  const value = {\n    currentUser,\n    userProfile,\n    getUserProfile,\n    login,\n    logout,\n    firebaseRegister,\n  };\n\n  // Takes all value props\n  return <AuthContext.Provider value={value}>{!loading && children}</AuthContext.Provider>;\n}\n","import React, { useState, useEffect } from 'react';\nimport NotificationsItem from './NotificationsItem';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useHistory } from 'react-router';\nimport Styles from '../../styles/notifications/notifications.module.css';\n\nconst Notifications = ({ handleNoti, setCurrentNotis, notiArray }) => {\n  const { userProfile, getUserProfile } = useAuth();\n  const [loading, setLoading] = useState(true);\n  let history = useHistory();\n\n  useEffect(() => {\n    if (userProfile) {\n      getUserProfile();\n    } else {\n      history.push('/sign-up');\n      handleNoti();\n    }\n  }, []);\n\n  useEffect(() => {\n    if (userProfile) {\n      setLoading(false);\n    }\n  }, [userProfile]);\n\n  useEffect(() => {\n    if (loading) return;\n    setCurrentNotis(0);\n  }, [loading]);\n\n  let notiFragment;\n\n  if (loading) {\n    notiFragment = <div className={`${Styles.loader} loader`} />;\n  }\n\n  if (!loading) {\n    notiFragment =\n      notiArray && notiArray.length > 0 ? (\n        notiArray.map((item) => (\n          <NotificationsItem key={item.time} userProfile={userProfile} item={item} />\n        ))\n      ) : (\n        <p className={Styles.none}>No Notifications</p>\n      );\n  }\n\n  return (\n    <div onClick={handleNoti} className={Styles.container}>\n      <div className={Styles.inner}>{notiFragment}</div>\n    </div>\n  );\n};\n\nexport default Notifications;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Styles from '../../styles/nav/nav__search__item.module.css';\n\nconst NavSearchItem = ({ item, setOpenSearch, setSearchInput }) => {\n  let history = useHistory();\n\n  const handleClick = () => {\n    history.push(`/profile/${item.userID}`);\n    setOpenSearch(false);\n    setSearchInput('');\n  };\n  return (\n    <div onClick={handleClick} className={Styles.container}>\n      <div className={Styles.container}>\n        <div className={Styles.start}>\n          <div className={Styles.avatarContainer}>\n            <img className={Styles.avatar} src={item.profilePhoto} alt=\"\" />\n          </div>\n          <div className={Styles.displayName}>{item.displayName}</div>\n          <div className={Styles.type}>@{item.username}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NavSearchItem;\n","import React, { useState, useEffect } from 'react';\nimport NavSearchItem from './NavSearchItem';\nimport { firestore } from '../../services/firebase';\nimport Styles from '../../styles/nav/nav__search.module.css';\n\nconst NavSearch = ({ searchInput, setOpenSearch, setSearchInput, searchRef }) => {\n  const [searchResults, setSearchResults] = useState([]);\n\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    let handler = (e) => {\n      if (searchRef.current && !searchRef.current.contains(e.target)) {\n        setOpenSearch(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handler);\n    return () => {\n      document.removeEventListener('mousedown', handler);\n    };\n  }, []);\n\n  useEffect(() => {\n    const search = async () => {\n      if (searchInput !== '') {\n        setLoading(true);\n        let temp = [];\n        await firestore\n          .collection('users')\n          .where('searchName', '>=', searchInput.toLowerCase())\n          .where('searchName', '<=', searchInput.toLowerCase() + '\\uf8ff')\n          .limit(5)\n          .get()\n          .then((results) => {\n            return results.forEach((doc) => {\n              temp.push(doc.data());\n            });\n          });\n        setSearchResults(temp);\n        setLoading(false);\n      }\n    };\n    search();\n  }, [searchInput]);\n\n  let searchInner;\n\n  if (loading) {\n    searchInner = <div className={`loader ${Styles.loader}`} />;\n  }\n\n  if (!loading) {\n    searchInner = (\n      <>\n        {searchResults.length === 0 && <p className={Styles.noResults}>No Results</p>}\n        {searchResults.map((item) => (\n          <NavSearchItem\n            setSearchInput={setSearchInput}\n            setOpenSearch={setOpenSearch}\n            item={item}\n          />\n        ))}\n      </>\n    );\n  }\n\n  return (\n    <div ref={searchRef} className={Styles.container}>\n      <div className={Styles.inner}>{searchInner}</div>\n    </div>\n  );\n};\n\nexport default NavSearch;\n","const debounce = (func, delay) => {\n  let inDebounce;\n  return function () {\n    clearTimeout(inDebounce);\n    inDebounce = setTimeout(() => {\n      func.apply(this, arguments);\n    }, delay);\n  };\n};\n\nexport default debounce;\n","//+ new post modal\nconst stopScroll = (state) => {\n  if (state === false) {\n    document.body.classList.add('stop-scrolling');\n  } else {\n    document.body.classList.remove('stop-scrolling');\n  }\n};\n\nexport default stopScroll;\n","const resizeImage = (e, setImageFile, setPostFile, width) => {\n  const file = e.target.files[0];\n  if (file && file.size < 5000000) {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = (event) => {\n      const imgEl = document.createElement('img');\n      imgEl.src = event.target.result;\n\n      imgEl.onload = (img) => {\n        const canvas = document.createElement('canvas');\n        const MAX_WIDTH = width;\n        const scaleSize = MAX_WIDTH / img.target.width;\n        canvas.width = MAX_WIDTH;\n        canvas.height = img.target.height * scaleSize;\n\n        const ctx = canvas.getContext('2d');\n        ctx.drawImage(img.target, 0, 0, canvas.width, canvas.height);\n\n        const srcEncoded = ctx.canvas.toDataURL(img.target, 'image/jpeg');\n        if (setImageFile !== 'none') {\n          setImageFile(srcEncoded);\n        }\n        ctx.canvas.toBlob(\n          (blob) => {\n            setPostFile(blob);\n          },\n          'image/jpeg',\n          0.7\n        );\n      };\n    };\n  }\n};\n\nexport default resizeImage;\n","import React, { useState } from 'react';\nimport { IoCloseOutline, IoCloudUploadOutline } from 'react-icons/io5';\nimport { firestore, storageRef } from '../../services/firebase';\nimport resizeImage from '../../functions/resizeImage';\nimport { useAuth } from '../../contexts/AuthContext';\nimport Styles from '../../styles/profile/profile__upload.module.css';\n\nconst ProfileUpload = ({ getModal, setNewPost }) => {\n  const [postFile, setPostFile] = useState(null);\n  const [caption, setCaption] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const [imageFile, setImageFile] = useState();\n  const { userProfile, getUserProfile } = useAuth();\n\n  //+ after choosing a file store it in state\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file && file.size < 5000000) {\n      resizeImage(e, setImageFile, setPostFile, 1000);\n    } else {\n      setPostFile(null);\n    }\n  };\n\n  //+ set the caption\n  const handleTextChange = (e) => {\n    e.preventDefault();\n    setCaption(e.target.value);\n  };\n\n  //+ submit the post\n  const handleSubmit = async (e) => {\n    const timestamp = Date.now();\n    e.preventDefault();\n    setUploading(true);\n    //+ create post info\n    const createPost = await firestore\n      .collection('users')\n      .doc(userProfile.userID)\n      .collection('posts')\n      .add({\n        date: timestamp,\n        likes: [],\n        comments: [],\n        caption: caption,\n        userID: userProfile.userID,\n      });\n    //+ upload image to storage\n    const fileRef = storageRef.child(`${userProfile.userID}/${createPost.id}`);\n    await fileRef.put(postFile);\n    const fileUrl = await fileRef.getDownloadURL();\n    //+ set src to image url\n    await createPost.set(\n      {\n        src: fileUrl,\n      },\n      { merge: true }\n    );\n    //+ update post count\n    await firestore\n      .collection('users')\n      .doc(userProfile.userID)\n      .set(\n        {\n          postsCounter: userProfile.postsCounter + 1,\n          lastPostDate: timestamp,\n        },\n        { merge: true }\n      );\n    //+ close modal and update state with new post\n    getModal(e);\n    setUploading(false);\n    getUserProfile();\n    if (!setNewPost) return;\n    setNewPost((prev) => prev + 1);\n  };\n\n  const doNothing = (e) => {\n    e.preventDefault();\n  };\n\n  return (\n    <div className={Styles.modal}>\n      <div className={Styles.container}>\n        <div className={Styles.header}>\n          <h3>Create New Post</h3>\n          <IoCloseOutline onClick={getModal} className={Styles.close} />\n        </div>\n        <div className={Styles.topContainer}>\n          <img\n            style={!imageFile ? { display: 'none' } : null}\n            className={Styles.preview}\n            src={imageFile}\n            alt=\"\"\n          />\n\n          <div style={imageFile && { display: 'none' }} className={Styles.uploadContainer}>\n            <label className={Styles.buttonContainer}>\n              <input\n                onChange={handleFileChange}\n                type=\"file\"\n                accept=\"image/jpeg, image/png, image/jpg\"\n                className={Styles.fileInput}\n              />\n              <IoCloudUploadOutline className={Styles.upload} />\n              <p>{postFile === null ? 'File size limit 5 mb.' : 'ready to post'}</p>\n            </label>\n          </div>\n          <div>\n            <div className={Styles.captionContainer}>\n              <textarea\n                className={Styles.captionInput}\n                name=\"caption\"\n                maxLength=\"150\"\n                placeholder=\"Enter Caption...\"\n                onChange={handleTextChange}\n              />\n            </div>\n          </div>\n        </div>\n        {uploading ? (\n          <div className={`${Styles.loader} loader`} />\n        ) : (\n          <button\n            onClick={postFile !== null ? handleSubmit : doNothing}\n            type=\"submit\"\n            className={postFile === null ? Styles.postButton : Styles.saveBtn}\n          >\n            Post\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileUpload;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { NavLink, Link, useHistory } from 'react-router-dom';\nimport {\n  IoHomeOutline,\n  IoChatbubbleOutline,\n  IoHeartOutline,\n  IoPersonOutline,\n  IoAddCircleOutline,\n} from 'react-icons/io5';\nimport logo from '../../assets/img/logo/logo-2.png';\nimport NavUserMenu from './NavUserMenu';\nimport Styles from '../../styles/nav/nav.module.css';\nimport Notifications from '../Notifications/Notifications';\nimport NavSearch from './NavSearch';\nimport { light, dark } from '../../functions/theme';\nimport debounce from '../../functions/debounce';\nimport stopScroll from '../../functions/stopScroll';\nimport ProfileUpload from '../Profile/ProfileUpload';\nimport { firestore } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst Nav = () => {\n  const { currentUser, logout, userProfile } = useAuth();\n  const [theme, setTheme] = useState('light');\n  const [openMenu, setOpenMenu] = useState(false);\n  const [openNoti, setOpenNoti] = useState(false);\n  const [openSearch, setOpenSearch] = useState(false);\n  const [currentNotis, setCurrentNotis] = useState(0);\n  const [notiArray, setNotiArray] = useState([]);\n  const [searchInput, setSearchInput] = useState('');\n  const [searchValue, setSearchValue] = useState('');\n  const [renderModal, setRenderModal] = useState(false);\n  let history = useHistory();\n\n  const getModal = (e) => {\n    e.preventDefault();\n    renderModal ? setRenderModal(false) : setRenderModal(true);\n    stopScroll(renderModal);\n  };\n\n  const handleUserIcon = (e) => {\n    e.preventDefault();\n    openMenu ? setOpenMenu(false) : setOpenMenu(true);\n  };\n\n  const handleNoti = async () => {\n    if (!userProfile) return history.push('/sign-up');\n    if (openNoti) {\n      setOpenNoti(false);\n    } else {\n      setNotiArray(userProfile.notifications);\n      setCurrentNotis(0);\n      setOpenNoti(true);\n      const userRef = firestore.collection('users').doc(userProfile.userID);\n      await userRef.set(\n        {\n          notifications: [],\n        },\n        { merge: true }\n      );\n    }\n  };\n\n  let menuRef = useRef();\n  let notiRef = useRef();\n\n  useEffect(() => {\n    let handler = (e) => {\n      if (menuRef.current && !menuRef.current.contains(e.target)) {\n        setOpenMenu(false);\n      }\n\n      if (notiRef.current && !notiRef.current.contains(e.target)) {\n        setOpenNoti(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handler);\n    return () => {\n      document.removeEventListener('mousedown', handler);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (userProfile && userProfile.notifications) {\n      const unseen = userProfile.notifications.length;\n      setCurrentNotis(unseen);\n    }\n    if (userProfile && userProfile.theme) {\n      if (userProfile.theme === 'dark') {\n        dark();\n        setTheme('dark');\n      } else if (userProfile.theme === 'light') {\n        light();\n        setTheme('light');\n      }\n    }\n  }, [userProfile]);\n\n  const debounceChange = useCallback(\n    debounce((nextValue) => setSearchInput(nextValue), 500),\n    []\n  );\n\n  const handleSearch = (e) => {\n    setSearchValue(e.target.value);\n    debounceChange(e.target.value);\n  };\n\n  const searchRef = useRef();\n\n  const handleSearchModal = (e) => {\n    e.preventDefault();\n    !openSearch && setOpenSearch(true);\n  };\n\n  return (\n    <>\n      {renderModal ? (\n        <ProfileUpload getModal={getModal} />\n      ) : (\n        <div className={Styles.nav}>\n          <div className={Styles.inner}>\n            <Link to=\"/\">\n              <div className={Styles.logo}>\n                <img className={Styles.logoImg} src={logo} alt=\"\" />\n                <h2>Instagram</h2>\n              </div>\n            </Link>\n            {/*//+ search box */}\n            <div className={Styles.search}>\n              <form autoComplete=\"off\">\n                <input\n                  ref={searchRef}\n                  onChange={handleSearch}\n                  value={searchValue}\n                  className={Styles.searchInput}\n                  onClick={handleSearchModal}\n                  type=\"text\"\n                  placeholder=\"Search\"\n                />\n              </form>\n              {openSearch && searchInput !== '' ? (\n                <NavSearch\n                  setSearchInput={setSearchInput}\n                  searchInput={searchInput}\n                  setOpenSearch={setOpenSearch}\n                  searchRef={searchRef}\n                />\n              ) : null}\n            </div>\n            <div className={Styles.icons}>\n              <NavLink exact to=\"/\">\n                <IoHomeOutline className={Styles.icon + ' ' + Styles.home} />\n              </NavLink>\n              <NavLink exact to={userProfile ? '/messages' : '/sign-up'}>\n                <IoChatbubbleOutline className={Styles.icon + ' ' + Styles.chat} />\n              </NavLink>\n              <Link className={Styles.add} to={!userProfile && '/sign-up'}>\n                <IoAddCircleOutline\n                  onClick={userProfile && getModal}\n                  className={Styles.icon + ' ' + Styles.add}\n                />\n              </Link>\n              {/*//+ notifications */}\n              <div onClick={handleNoti} className={Styles.notiContainer} ref={notiRef}>\n                <IoHeartOutline className={Styles.icon + ' ' + Styles.heart} />\n                {currentNotis > 0 ? <div className={Styles.notiBadge}>{currentNotis}</div> : null}\n                {openNoti && (\n                  <Notifications\n                    notiArray={notiArray}\n                    setCurrentNotis={setCurrentNotis}\n                    handleNoti={handleNoti}\n                  />\n                )}\n              </div>\n              {/*//+ profile menu */}\n              <div className=\"user-menu-container\" ref={menuRef}>\n                <NavLink\n                  className={Styles.profileLink}\n                  onClick={(e) => e.preventDefault()}\n                  exact\n                  to={`/profile/${currentUser?.uid}`}\n                >\n                  <IoPersonOutline\n                    onClick={handleUserIcon}\n                    className={Styles.icon + ' ' + Styles.person}\n                  />\n                </NavLink>\n                {openMenu && (\n                  <NavUserMenu\n                    theme={theme}\n                    setTheme={setTheme}\n                    setOpenMenu={setOpenMenu}\n                    logout={logout}\n                    currentUser={currentUser}\n                  />\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Nav;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport Styles from '../../styles/home/home__login.module.css';\n\nconst LoginButton = () => {\n  const { login, currentUser } = useAuth();\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    login();\n  };\n\n  return (\n    <div>\n      {!currentUser && (\n        <div className={Styles.loginButtons}>\n          <Link id=\"home__sidebar__sign-up\" to=\"/sign-up\">\n            <button className={Styles.signUp}>Sign Up</button>\n          </Link>\n          <button className={Styles.login} onClick={handleLogin}>\n            Login\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default LoginButton;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { firestore, firestoreFieldValue } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst ProfileButton = ({\n  Styles,\n  currentUser,\n  match,\n  currentProfile,\n  getUserObject,\n  handleFollowers,\n}) => {\n  const [following, setFollowing] = useState(false);\n  const { userProfile } = useAuth();\n  let history = useHistory();\n\n  useEffect(() => {\n    const check = currentProfile?.followers.includes(userProfile?.userID);\n    if (check) {\n      setFollowing(true);\n    } else {\n      setFollowing(false);\n    }\n  }, [currentProfile]);\n\n  //+ follow\n  const handleFollow = async (e) => {\n    e.preventDefault();\n    if (!userProfile) return history.push('/sign-up');\n    const thisUser = firestore.collection('users').doc(match);\n    const userRef = firestore.collection('users').doc(userProfile.userID);\n\n    await thisUser.update({\n      followers: firestoreFieldValue.arrayUnion(userProfile.userID),\n    });\n    await userRef.update({\n      following: firestoreFieldValue.arrayUnion(currentProfile.userID),\n    });\n    await thisUser.update({\n      notifications: firestoreFieldValue.arrayUnion({\n        user: userProfile.userID,\n        type: 'followed',\n        time: Date.now(),\n      }),\n    });\n    getUserObject();\n  };\n\n  //+ unfollow\n  const handleUnfollow = async (e) => {\n    e.preventDefault();\n\n    const thisUser = firestore.collection('users').doc(match);\n    const userRef = firestore.collection('users').doc(userProfile.userID);\n\n    await thisUser.update({\n      followers: firestoreFieldValue.arrayRemove(userProfile.userID),\n    });\n    await userRef.update({\n      following: firestoreFieldValue.arrayRemove(currentProfile.userID),\n    });\n    getUserObject();\n  };\n\n  const handleLink = (e) => {\n    e.preventDefault();\n    if (handleFollowers) {\n      handleFollowers(e);\n    }\n    history.push('/settings');\n  };\n\n  //+ decides if profile button should be follow or edit\n  let button = (\n    <button onClick={handleFollow} className={Styles.profileBtn}>\n      Follow\n    </button>\n  );\n\n  if (following) {\n    button = (\n      <button onClick={handleUnfollow} className={Styles.profileBtn}>\n        Unfollow\n      </button>\n    );\n  }\n  // if contains user. set following\n  if (currentUser?.uid === match) {\n    button = (\n      <button onClick={handleLink} className={Styles.profileBtn}>\n        Edit Profile\n      </button>\n    );\n  }\n\n  return <>{button}</>;\n};\n\nexport default ProfileButton;\n","import React, { useState } from 'react';\n\nconst ImageLoader = ({\n  src,\n  position = 'relative',\n  width = '100%',\n  height = '100%',\n  transition = 0.7,\n  cursor = 'pointer',\n  borderRadius = '0',\n  shadow = 'none',\n  zIndex = '1',\n}) => {\n  const [loading, setLoading] = useState(true);\n\n  const handleLoad = () => {\n    setLoading(false);\n  };\n\n  const loadingDiv = {\n    width,\n    height,\n    position,\n    zIndex,\n    background: 'var(--loading-gradient)',\n    backgroundSize: '200%',\n    animation: '2s linear infinite gradientMove',\n    display: 'block',\n    borderRadius,\n    boxShadow: shadow,\n  };\n\n  const hideDiv = {\n    width,\n    height,\n    position,\n    zIndex,\n    background: 'var(--loading-gradient)',\n    backgroundSize: '200%',\n    animation: 'none',\n    display: 'block',\n    borderRadius,\n    boxShadow: shadow,\n  };\n\n  const image = {\n    position,\n    width,\n    height,\n    objectFit: 'cover',\n    objectPosition: 'center',\n    cursor,\n    opacity: '1',\n    transition: `opacity ${transition}s`,\n    borderRadius,\n    boxShadow: shadow,\n  };\n\n  const hideImg = {\n    position,\n    width,\n    height,\n    opacity: '0',\n    borderRadius,\n  };\n\n  return (\n    <>\n      <div style={!loading ? hideDiv : loadingDiv}>\n        <img style={!loading ? image : hideImg} onLoad={handleLoad} src={src} alt=\"\" />\n      </div>\n    </>\n  );\n};\n\nexport default ImageLoader;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { firestore } from '../../services/firebase';\nimport ProfileButton from './ProfileButton';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst ProfileFollowerListItem = ({ item, Styles, handleFollowers, currentTab, currentUser }) => {\n  const [current, setCurrent] = useState(null);\n\n  let history = useHistory();\n  const getUser = async () => {\n    const userRef = firestore.collection('users').doc(item);\n    const thisUser = await userRef.get();\n    setCurrent(thisUser.data());\n  };\n  useEffect(() => {\n    getUser();\n  }, [currentTab]);\n\n  const handleLink = (e) => {\n    e.preventDefault();\n    handleFollowers(e);\n    history.push(`/profile/${current?.userID}`);\n  };\n\n  return (\n    <div className={Styles.listItem}>\n      <div onClick={handleLink} className={Styles.start}>\n        <div className={Styles.avatarContainer}>\n          <ImageLoader src={current?.profilePhoto} borderRadius=\"100%\" />\n        </div>\n        <div className={Styles.names}>\n          <p className={Styles.displayName}>{current?.displayName}</p>\n          <p className={Styles.username}>@{current?.username}</p>\n        </div>\n      </div>\n\n      <ProfileButton\n        currentProfile={current}\n        match={current?.userID}\n        currentUser={currentUser}\n        getUserObject={getUser}\n        Styles={Styles}\n        handleFollowers={handleFollowers}\n      />\n    </div>\n  );\n};\n\nexport default ProfileFollowerListItem;\n","import { useState, useEffect } from 'react';\n\nconst useIntersect = (ref, end) => {\n  const [isFetching, setIsFetching] = useState(false);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting && !isFetching) {\n          if (!end) return setIsFetching(true);\n          if (end.current === false) {\n            setIsFetching(true);\n          }\n        }\n      },\n      {\n        root: null,\n        rootMargin: '0px',\n        threshold: 0.1,\n      }\n    );\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n    return () => {\n      observer.disconnect();\n    };\n  }, [ref]);\n\n  return [isFetching, setIsFetching];\n};\n\nexport default useIntersect;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { IoCloseOutline } from 'react-icons/io5';\nimport Styles from '../../styles/profile/profile__followers-modal.module.css';\nimport ProfileFollowerListItem from './ProfileFollowerListItem';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst ProfileFollowers = ({\n  openFollowers,\n  handleFollowers,\n  currentProfile,\n  currentTab,\n  setCurrentTab,\n  currentUser,\n}) => {\n  const [list, setList] = useState([]);\n\n  const ref = useRef();\n  const [isFetching, setIsFetching] = useIntersect(ref);\n\n  const handleSwitch = (e) => {\n    e.preventDefault();\n    const choice = e.target.getAttribute('data-type');\n    setCurrentTab(choice);\n  };\n\n  useEffect(() => {\n    if (!currentProfile) return;\n    const { followers, following } = currentProfile;\n    let current;\n    currentTab === 'following' ? (current = following) : (current = followers);\n\n    const reverse = current.slice(0).reverse();\n    const slice = reverse.slice(0, 20);\n    setList([...slice]);\n  }, [currentTab]);\n\n  //+ GET more from storage\n  const createMore = () => {\n    if (!currentProfile) return;\n    const { followers, following } = currentProfile;\n    let current;\n    currentTab === 'following' ? (current = following) : (current = followers);\n\n    const reverse = current.slice(0).reverse();\n    const sliced = reverse.slice(list.length, list.length + 20);\n\n    const combine = [...list, ...sliced];\n    setList(combine);\n  };\n\n  useEffect(() => {\n    if (!isFetching) return;\n    createMore();\n  }, [isFetching]);\n\n  useEffect(() => {\n    setIsFetching(false);\n  }, [list]);\n\n  let map;\n\n  if (currentTab === 'following') {\n    map = list.map((item) => {\n      return (\n        <ProfileFollowerListItem\n          currentTab={currentTab}\n          handleFollowers={handleFollowers}\n          item={item}\n          Styles={Styles}\n          currentUser={currentUser}\n          key={item}\n        />\n      );\n    });\n  }\n\n  if (currentTab === 'followers') {\n    map = list.map((item) => {\n      return (\n        <ProfileFollowerListItem\n          currentTab={currentTab}\n          handleFollowers={handleFollowers}\n          item={item}\n          Styles={Styles}\n          currentUser={currentUser}\n          key={item}\n        />\n      );\n    });\n  }\n\n  return (\n    <>\n      {openFollowers && (\n        <div className={Styles.modal}>\n          <div className={Styles.container}>\n            <div className={Styles.header}>\n              <div className={Styles.tabs}>\n                <div\n                  onClick={handleSwitch}\n                  data-type=\"following\"\n                  className={\n                    currentTab === 'following' ? Styles.activeHeader : Styles.inactiveHeader\n                  }\n                >\n                  <h3 data-type=\"following\">Following</h3>\n                </div>\n                <div\n                  onClick={handleSwitch}\n                  data-type=\"followers\"\n                  className={\n                    currentTab === 'followers' ? Styles.activeHeader : Styles.inactiveHeader\n                  }\n                >\n                  <h3 data-type=\"followers\">Followers</h3>\n                </div>\n              </div>\n              <IoCloseOutline onClick={handleFollowers} className={Styles.close} />\n            </div>\n            {/*//+ list of followers is here */}\n            <div className={Styles.listContainer}>\n              {map}\n              <div className={Styles.dummy} ref={ref}></div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ProfileFollowers;\n","import React, { useState } from 'react';\nimport { IoAddCircleOutline } from 'react-icons/io5';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport LoginButton from './LoginButton';\nimport ProfileFollowersModal from '../Profile/ProfileFollowersModal';\nimport ProfileUpload from '../Profile/ProfileUpload';\nimport stopScroll from '../../functions/stopScroll';\nimport ImageLoader from '../reusable/ImageLoader';\nimport Styles from '../../styles/home/home__sidebar.module.css';\n\nconst Sidebar = ({ setNewPost }) => {\n  const { userProfile } = useAuth();\n  const [openFollowers, setOpenFollowers] = useState(false);\n  const [currentTab, setCurrentTab] = useState();\n  const [renderModal, setRenderModal] = useState(false);\n\n  const handleFollowers = (e) => {\n    e.preventDefault();\n    const choice = e.target.getAttribute('data-type');\n    setCurrentTab(choice);\n    openFollowers ? setOpenFollowers(false) : setOpenFollowers(true);\n    stopScroll(openFollowers);\n  };\n\n  //+ new post modal\n  const getModal = (e) => {\n    e.preventDefault();\n    renderModal ? setRenderModal(false) : setRenderModal(true);\n    stopScroll(renderModal);\n  };\n\n  return (\n    <div className={Styles.sidebar}>\n      <ProfileFollowersModal\n        currentProfile={userProfile}\n        handleFollowers={handleFollowers}\n        setOpenFollowers={setOpenFollowers}\n        openFollowers={openFollowers}\n        currentTab={currentTab}\n        setCurrentTab={setCurrentTab}\n        currentUser={userProfile}\n      />\n      {renderModal && <ProfileUpload setNewPost={setNewPost} getModal={getModal} />}\n      <div className={Styles.container}>\n        {userProfile && (\n          <Link to={`/profile/${userProfile.userID}`}>\n            <div className={Styles.profileContainer}>\n              <div className={Styles.imageContainer}>\n                <ImageLoader\n                  src={userProfile.profilePhoto}\n                  position=\"absolute\"\n                  width=\"80px\"\n                  height=\"80px\"\n                  cursor=\"pointer\"\n                  borderRadius=\"100%\"\n                />\n                <img className={Styles.profileImgBlur} src={userProfile.profilePhoto} alt=\"\" />\n              </div>\n              <div className={Styles.nameContainer}>\n                <h2 className={Styles.displayName}>{userProfile.displayName}</h2>\n                <p className={Styles.username}>@{userProfile.username}</p>\n              </div>\n            </div>\n          </Link>\n        )}\n        {userProfile && (\n          <div className={Styles.stats}>\n            <div onClick={handleFollowers} data-type=\"following\" className={Styles.statContainer}>\n              <div data-type=\"following\" className={Styles.stat}>\n                <p data-type=\"following\" className={Styles.number}>\n                  {userProfile.following.length}\n                </p>\n              </div>\n              <p data-type=\"following\">Following</p>\n            </div>\n            <div onClick={handleFollowers} data-type=\"followers\" className={Styles.statContainer}>\n              <div data-type=\"followers\" className={Styles.stat}>\n                <p data-type=\"followers\" className={Styles.number}>\n                  {userProfile.followers.length}\n                </p>\n              </div>\n              <p data-type=\"followers\">Followers</p>\n            </div>\n            <Link className={Styles.postsLink} to={`/profile/${userProfile.userID}`}>\n              <div className={Styles.statContainer}>\n                <div className={Styles.stat}>\n                  <p className={Styles.number}>{userProfile.postsCounter}</p>\n                </div>\n                <p>Posts</p>\n              </div>\n            </Link>\n            <div onClick={getModal} className={Styles.statContainer}>\n              <div className={Styles.stat}>\n                <IoAddCircleOutline />\n              </div>\n              <p>New Post</p>\n            </div>\n          </div>\n        )}\n        <LoginButton />\n      </div>\n    </div>\n  );\n};\n\nexport default Sidebar;\n","import React, { useEffect, useState } from 'react';\nimport { IoHeartOutline } from 'react-icons/io5';\nimport { useHistory } from 'react-router';\nimport Styles from '../../styles/home/home__card.module.css';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { firestore, firestoreFieldValue } from '../../services/firebase';\n\nconst HomeCardLike = ({ post, userID, setLikeState }) => {\n  const [liked, setLiked] = useState(false);\n  const { userProfile } = useAuth();\n  let history = useHistory();\n\n  const updateLikes = async () => {\n    if (userProfile && userProfile.likedPosts) {\n      if (userProfile.likedPosts.includes(post.id)) {\n        setLiked(true);\n      } else {\n        setLiked(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    updateLikes();\n  }, [userProfile]);\n\n  //! handle like\n  const handleLike = async (e) => {\n    e.preventDefault();\n    if (userProfile && userID) {\n      const thisPost = firestore.collection('users').doc(userID).collection('posts').doc(post.id);\n      const thisUser = firestore.collection('users').doc(userProfile.userID);\n      const postUser = firestore.collection('users').doc(userID);\n\n      //@ add this post to likes\n      if (!liked) {\n        setLiked(true);\n        setLikeState((prev) => prev + 1);\n        const addPost = () => {\n          thisPost.update({\n            likes: firestoreFieldValue.arrayUnion(userProfile.userID),\n          });\n        };\n        const addUser = () => {\n          thisUser.update({\n            likedPosts: firestoreFieldValue.arrayUnion(post.id),\n          });\n        };\n        const notify = () => {\n          postUser.update({\n            notifications: firestoreFieldValue.arrayUnion({\n              user: userProfile.userID,\n              type: 'liked',\n              post: post.id,\n              time: Date.now(),\n            }),\n          });\n        };\n        await Promise.all([notify(), addPost(), addUser()]);\n      } else {\n        //@ remove post from likes\n        const removePost = () => {\n          setLiked(false);\n          setLikeState((prev) => prev - 1);\n          thisPost.update({\n            likes: firestoreFieldValue.arrayRemove(userProfile.userID),\n          });\n        };\n        const removeUser = () => {\n          thisUser.update({\n            likedPosts: firestoreFieldValue.arrayRemove(post.id),\n          });\n        };\n        await Promise.all([removePost(), removeUser()]);\n      }\n    } else {\n      history.push('/sign-up');\n    }\n  };\n  return (\n    <IoHeartOutline onClick={handleLike} className={liked ? Styles.likedIcon : Styles.likeIcon} />\n  );\n};\n\nexport default HomeCardLike;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { firestore } from '../../services/firebase';\n\nconst HomeCardCommentItem = ({ Styles, item }) => {\n  const [current, setCurrent] = useState();\n\n  useEffect(() => {\n    const getUser = async () => {\n      const userRef = firestore.collection('users').doc(item.user);\n      const thisUser = await userRef.get();\n      setCurrent(thisUser.data());\n    };\n    getUser();\n  }, [item]);\n  return (\n    <>\n      {current && (\n        <p className={Styles.comment}>\n          <Link to={`/profile/${current.userID}`}>\n            <span className={Styles.commentUser}>{current.displayName}</span>\n          </Link>\n          {item.comment.length >= 15 ? item.comment.substring(0, 50) + '...' : item.comment}\n        </p>\n      )}\n    </>\n  );\n};\n\nexport default HomeCardCommentItem;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { IoSendOutline } from 'react-icons/io5';\nimport HomeCardCommentItem from './HomeCardCommentItem';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { firestore, firestoreFieldValue } from '../../services/firebase';\n\nconst HomeCardComments = ({ Styles, userID, post }) => {\n  const [commentArr, setCommentArr] = useState([]);\n  const [commentInput, setCommentInput] = useState('');\n  const { userProfile } = useAuth();\n\n  useEffect(() => {\n    const { comments } = post.data();\n    const temp = comments.slice(Math.max(comments.length - 2, 0));\n    setCommentArr(temp);\n  }, [post]);\n\n  const handleComment = async (e) => {\n    e.preventDefault();\n    if (userProfile) {\n      if (commentInput.length > 0 && commentInput.length < 100) {\n        const time = Date.now();\n        const commentObject = { time: time, comment: commentInput, user: userProfile.userID };\n        const temp = commentArr.slice(Math.max(commentArr.length - 1, 0));\n        temp.push(commentObject);\n\n        const thisPost = firestore.collection('users').doc(userID).collection('posts').doc(post.id);\n        const thisUser = firestore.collection('users').doc(userID);\n        //@ add comment to post\n        const addPost = () => {\n          thisPost.update({\n            comments: firestoreFieldValue.arrayUnion(commentObject),\n          });\n        };\n        const notify = () => {\n          thisUser.update({\n            notifications: firestoreFieldValue.arrayUnion({\n              user: userProfile.userID,\n              type: 'comment',\n              comment: commentInput,\n              post: post.id,\n              time: time,\n            }),\n          });\n        };\n        await Promise.all([notify(), addPost()]);\n\n        setCommentArr(temp);\n        setCommentInput('');\n      }\n    }\n  };\n\n  const handleChange = (e) => {\n    setCommentInput(e.target.value);\n  };\n\n  return (\n    <>\n      <div className={Styles.comments}>\n        <Link className={Styles.imageLink} to={`/Post/${userID}/${post.id}`}>\n          <p className={Styles.viewAll}>\n            {commentArr.length === 0 ? 'No Comments' : 'View All Comments'}\n          </p>\n        </Link>\n        <div className={Styles.commentContainer}>\n          {commentArr.map((item) => {\n            return <HomeCardCommentItem key={item.time} item={item} Styles={Styles} />;\n          })}\n        </div>\n      </div>\n      <div className={Styles.commentBox}>\n        <form onSubmit={handleComment} className={Styles.commentForm}>\n          <input\n            className={Styles.inputBox}\n            value={commentInput}\n            onChange={handleChange}\n            type=\"text\"\n            placeholder=\"Add a comment...\"\n            maxLength=\"99\"\n          />\n        </form>\n        <IoSendOutline onClick={handleComment} className={Styles.send} />\n      </div>\n    </>\n  );\n};\n\nexport default HomeCardComments;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst HomeCardImage = ({ Styles, src, userID, postID }) => {\n  return (\n    <Link className={Styles.imageLink} to={`/Post/${userID}/${postID}`}>\n      <div className={Styles.imageContainer}>\n        <ImageLoader src={src} cursor=\"pointer\" />\n      </div>\n    </Link>\n  );\n};\n\nexport default HomeCardImage;\n","import React from 'react';\nimport { IoCloseOutline } from 'react-icons/io5';\nimport { useHistory } from 'react-router';\nimport { firestore, firestoreFieldValue } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport Styles from '../../styles/home/home__card__overlay.module.css';\n\nconst HomeCardOverlay = ({ getModal, type, userID, post }) => {\n  const { userProfile } = useAuth();\n  let history = useHistory();\n  //+ unfollow\n  const handleUnfollow = async () => {\n    const thisUser = firestore.collection('users').doc(userID);\n    const userRef = firestore.collection('users').doc(userProfile.userID);\n\n    await thisUser.update({\n      followers: firestoreFieldValue.arrayRemove(userProfile.userID),\n    });\n    await userRef.update({\n      following: firestoreFieldValue.arrayRemove(userID),\n    });\n    getModal();\n  };\n\n  const copyToClipboard = (content) => {\n    const el = document.createElement('textarea');\n    el.value = content;\n    document.body.appendChild(el);\n    el.select();\n    document.execCommand('copy');\n    document.body.removeChild(el);\n  };\n\n  const handleShare = () => {\n    copyToClipboard(`${window.location.host}/post/${userID}/${post.id}`);\n    getModal();\n  };\n\n  const openLink = (linkType) => {\n    history.push(`/${linkType}`);\n  };\n\n  let button;\n\n  if (type === 'share') {\n    button = (\n      <div className={Styles.share}>\n        <input\n          className={Styles.input}\n          value={`${window.location.host}/post/${userID}/${post.id}`}\n        />\n        <button onClick={handleShare} className={Styles.button}>\n          Copy Link\n        </button>\n      </div>\n    );\n  }\n\n  if (type === 'follow') {\n    if (!userProfile) {\n      button = (\n        <button\n          onClick={() => {\n            openLink('sign-up');\n          }}\n          className={Styles.button}\n        >\n          Login\n        </button>\n      );\n    }\n\n    if (userProfile) {\n      if (userProfile.userID === userID) {\n        button = (\n          <button\n            onClick={() => {\n              openLink('settings');\n            }}\n            className={Styles.button}\n          >\n            Edit Profile\n          </button>\n        );\n      }\n      if (userProfile.userID !== userID) {\n        button = (\n          <button onClick={handleUnfollow} className={Styles.button}>\n            Unfollow\n          </button>\n        );\n      }\n    }\n  }\n\n  return (\n    <div className={Styles.container}>\n      <div className={Styles.header}>\n        <IoCloseOutline onClick={getModal} className={Styles.close} />\n      </div>\n      <div className={Styles.main}>{button}</div>\n    </div>\n  );\n};\n\nexport default HomeCardOverlay;\n","import React, { useState, useEffect } from 'react';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport { Link } from 'react-router-dom';\nimport { IoShareOutline, IoChatbubbleOutline, IoShareSocialOutline } from 'react-icons/io5';\nimport { firestore } from '../../services/firebase';\nimport HomeCardLike from './HomeCardLike';\nimport HomeCardComments from './HomeCardComments';\nimport HomeCardImage from './HomeCardImage';\nimport HomeCardOverlay from './HomeCardOverlay';\nimport Styles from '../../styles/home/home__card.module.css';\n\nconst Card = ({ post }) => {\n  const [user, setUser] = useState();\n  const [likeState, setLikeState] = useState();\n\n  const { src, userID, likes } = post.data();\n  const [modal, setModal] = useState(false);\n  const [type, setType] = useState();\n\n  useEffect(() => {\n    const getUser = async () => {\n      const userRef = await firestore.collection('users').doc(userID).get();\n      setUser(userRef.data());\n      setLikeState(likes.length);\n    };\n    getUser();\n  }, [post]);\n\n  const getModal = (modalType) => {\n    modal ? setModal(false) : setModal(true);\n    setType(modalType);\n  };\n\n  return (\n    <>\n      {post && user ? (\n        <div className={Styles.card}>\n          <div className={Styles.container}>\n            {modal && (\n              <HomeCardOverlay getModal={getModal} userID={userID} type={type} post={post} />\n            )}\n            {/*//+ header */}\n            <div className={Styles.header}>\n              <Link to={`/profile/${userID}`}>\n                <div className={Styles.left}>\n                  <img src={user.profilePhoto} alt=\"\" className={Styles.avatar} />\n                  <div className={Styles.userInfo}>\n                    <p className={Styles.displayName}>{user.displayName}</p>\n                    <p className={Styles.username}>@{user.username}</p>\n                  </div>\n                </div>\n              </Link>\n              {/*//+ more icon */}\n              <div className={Styles.right}>\n                <MoreHorizIcon\n                  onClick={() => {\n                    getModal('follow');\n                  }}\n                  className={Styles.moreIcon}\n                />\n              </div>\n            </div>\n            {/*//+ image */}\n            <HomeCardImage Styles={Styles} postID={post.id} userID={userID} src={src} />\n            {/*//+ footer */}\n            <div className={Styles.footer}>\n              <div className={Styles.firstChild}>\n                <div className={Styles.left}>\n                  {/*//+ likes button */}\n                  <HomeCardLike setLikeState={setLikeState} post={post} userID={userID} />\n                  <Link className={Styles.chatLink} to={`/Post/${userID}/${post.id}`}>\n                    <IoChatbubbleOutline className={Styles.icon} />\n                  </Link>\n                  <Link className={Styles.chatLink} to={`/Post/${userID}/${post.id}`}>\n                    <IoShareOutline className={Styles.icon} />\n                  </Link>\n                </div>\n                <IoShareSocialOutline\n                  className={Styles.icon}\n                  onClick={() => {\n                    getModal('share');\n                  }}\n                />\n              </div>\n              <Link className={Styles.imageLink} to={`/Post/${userID}/${post.id}`}>\n                <p className={Styles.likes}>{likeState} likes</p>\n              </Link>\n              {/*//+ comment section */}\n              <HomeCardComments Styles={Styles} userID={userID} post={post} />\n            </div>\n          </div>\n          <img className={Styles.imageBlur + ' ' + 'blur'} src={src} alt=\"\" />\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nexport default Card;\n","import React, { useEffect, useState, useRef } from 'react';\nimport Card from './HomeCard';\nimport Styles from '../../styles/home/home__feed.module.css';\nimport { firestore } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst HomeFeed = ({ newPost }) => {\n  const { userProfile } = useAuth();\n  const [stored, setStored] = useState([]);\n  const [feed, setFeed] = useState([]);\n  const [lastUser, setLastUser] = useState();\n\n  const [noPosts, setNoPosts] = useState(false);\n  const noPostsRef = useRef(false);\n  const dummyRef = useRef();\n  const [isFetching, setIsFetching] = useIntersect(dummyRef, noPostsRef);\n\n  //# firestore\n  const firestoreFunction = async (type) => {\n    let following = [];\n    let userRef;\n\n    if (type === 'first') {\n      following.push(userProfile);\n      // get followed users in last post order\n      userRef = await firestore\n        .collection('users')\n        .where('followers', 'array-contains', userProfile.userID)\n        .orderBy('lastPostDate', 'desc')\n        .limit(5)\n        .get();\n    } else if (type === 'infinite') {\n      // if no user is signed in\n      if (!userProfile) {\n        setIsFetching(false);\n        return setNoPosts(true);\n      }\n      userRef = await firestore\n        .collection('users')\n        .where('followers', 'array-contains', userProfile.userID)\n        .orderBy('lastPostDate', 'desc')\n        .startAfter(lastUser)\n        .limit(5)\n        .get();\n    } else if (type === 'none') {\n      const me = await firestore.collection('users').doc('e9x1NbFsE8VqLAqAKfbpHkH0QS93').get();\n      following.push(me.data());\n      // get people i follow\n      userRef = await firestore\n        .collection('users')\n        .where('followers', 'array-contains', 'e9x1NbFsE8VqLAqAKfbpHkH0QS93')\n        .orderBy('lastPostDate', 'desc')\n        .limit(10)\n        .get();\n    }\n\n    userRef.forEach((user) => {\n      following.push(user.data());\n    });\n\n    if (type === 'infinite' && !userRef.docs[userRef.docs.length - 1]) {\n      setIsFetching(false);\n      setNoPosts(true);\n      noPostsRef.current = true;\n      return;\n    } // set last user fetched\n    setLastUser(userRef.docs[userRef.docs.length - 1]);\n\n    const promises = following.map(async (user) => {\n      const postRef = await firestore\n        .collection('users')\n        .doc(user.userID)\n        .collection('posts')\n        .orderBy('date', 'desc')\n        .limit(5)\n        .get();\n      return postRef;\n    });\n\n    //await all posts from users\n    const postsArr = await Promise.all(promises);\n\n    // push all the posts to a new array\n    let temp = [];\n    postsArr.forEach((arr) => {\n      arr.forEach((post) => {\n        temp.push(post);\n      });\n    });\n\n    // sort all the posts by date\n    const sort = temp.sort((a, b) => b.data().date - a.data().date);\n\n    return sort;\n  };\n\n  //! get none\n  const getNone = async () => {\n    const sort = await firestoreFunction('none');\n    //add to stored posts\n    setStored(sort);\n  };\n\n  //@ get followed users posts\n  const getFollowed = async () => {\n    const sort = await firestoreFunction('first');\n    //add to stored posts\n    setStored(sort);\n  };\n\n  //+ GET more from storage\n  const createFeed = () => {\n    if (!stored) return;\n    const sliced = stored.slice(feed.length, feed.length + 2);\n    const combine = [...feed, ...sliced];\n    setFeed(combine);\n  };\n\n  //+ when storage is updated set the feed\n  useEffect(() => {\n    createFeed();\n  }, [stored]);\n\n  //@ get more posts on scroll\n  const getMore = async () => {\n    // if no more users return\n    if (!lastUser) {\n      setIsFetching(false);\n      return;\n    }\n    const sort = await firestoreFunction('infinite');\n    if (!sort) return;\n    const combine = [...stored, ...sort];\n    setStored(combine);\n  };\n\n  // get followed users on load\n  useEffect(() => {\n    if (userProfile) {\n      getFollowed();\n    } else {\n      getNone();\n    }\n  }, [userProfile]);\n\n  //+ on upload\n  useEffect(async () => {\n    if (newPost === 0) return;\n    let temp = [];\n    const next = await firestore\n      .collection('users')\n      .doc(userProfile.userID)\n      .collection('posts')\n      .orderBy('date', 'desc')\n      .limit(1)\n      .get();\n    if (!next) return;\n    next.forEach((post) => {\n      temp.push(post);\n    });\n    const combine = [...temp, ...feed];\n    setFeed(combine);\n    window.scrollTo(0, 0);\n  }, [newPost]);\n\n  //# decide from local or firestore\n  useEffect(() => {\n    if (!isFetching) return;\n    if (feed.length === stored.length) {\n      getMore();\n    } else {\n      createFeed();\n    }\n  }, [isFetching]);\n\n  //# after feed updates set load to false\n  useEffect(() => {\n    setIsFetching(false);\n  }, [feed]);\n\n  return (\n    <div className={Styles.container}>\n      {feed.map((post) => {\n        return <Card key={post.id} post={post} />;\n      })}\n\n      <div ref={dummyRef} className={`${Styles.loaderContainer}`}>\n        {isFetching && <div className=\"loader\" />}\n        {noPosts && <div className={Styles.noPosts}>No More Posts</div>}\n      </div>\n    </div>\n  );\n};\n\nexport default HomeFeed;\n","import { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nexport default function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}\n","import React, { useState } from 'react';\nimport Sidebar from './HomeSidebar';\nimport HomeFeed from './HomeFeed';\nimport Styles from '../../styles/home/home.module.css';\nimport ScrollToTop from '../../functions/ScrollToTop';\n\nconst Home = () => {\n  const [newPost, setNewPost] = useState(0);\n  return (\n    <div className={Styles.home}>\n      <ScrollToTop />\n      <div className={Styles.inner}>\n        <HomeFeed newPost={newPost} />\n        <Sidebar setNewPost={setNewPost} />\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState } from 'react';\nimport Styles from '../../styles/profile/profile__sidebar.module.css';\nimport ProfileFollowersModal from './ProfileFollowersModal';\nimport stopScroll from '../../functions/stopScroll';\n\nconst ProfileSidebar = ({ currentProfile, loaded, currentUser }) => {\n  const [openFollowers, setOpenFollowers] = useState(false);\n  const [currentTab, setCurrentTab] = useState();\n\n  const handleFollowers = (e) => {\n    e.preventDefault();\n    const choice = e.target.getAttribute('data-type');\n    setCurrentTab(choice);\n    openFollowers ? setOpenFollowers(false) : setOpenFollowers(true);\n    stopScroll(openFollowers);\n  };\n\n  let sidebar;\n\n  if (loaded === false) {\n    sidebar = (\n      <div className={Styles.sidebar}>\n        <div className={Styles.usernames}>\n          <div className={`${Styles.nameLoading} gradientLoad`} />\n          <div className={`${Styles.usernameLoading} gradientLoad`} />\n        </div>\n        <div className={`${Styles.counterLoading}`}>\n          <div className={`${Styles.counterLoading} gradientLoad`} />\n          <div className={`${Styles.counterLoading} gradientLoad`} />\n          <div className={`${Styles.counterLoading} gradientLoad`} />\n        </div>\n      </div>\n    );\n  }\n\n  if (loaded === true) {\n    sidebar = (\n      <div className={Styles.sidebar}>\n        <div className={Styles.usernames}>\n          <h2 className={Styles.displayName}>{currentProfile.displayName}</h2>\n          <h3 className={Styles.username}>@{currentProfile.username}</h3>\n        </div>\n        <div className={Styles.secondContainer}>\n          <div className={Styles.postsContainer}>\n            <h3>{currentProfile.postsCounter}</h3>\n            <p className={Styles.posts}>Posts</p>\n          </div>\n          {/*//+ followers / following */}\n          {openFollowers && (\n            <ProfileFollowersModal\n              currentProfile={currentProfile}\n              handleFollowers={handleFollowers}\n              setOpenFollowers={setOpenFollowers}\n              openFollowers={openFollowers}\n              currentTab={currentTab}\n              setCurrentTab={setCurrentTab}\n              currentUser={currentUser}\n            />\n          )}\n          <div className={Styles.userInfo}>\n            <div\n              onClick={handleFollowers}\n              data-type=\"following\"\n              className={Styles.followingContainer}\n            >\n              <h3 data-type=\"following\"> {currentProfile.following.length} </h3>\n              <p data-type=\"following\" className={Styles.following}>\n                Following\n              </p>\n            </div>\n            <div\n              data-type=\"followers\"\n              onClick={handleFollowers}\n              className={Styles.followersContainer}\n            >\n              <h3 data-type=\"followers\">{currentProfile.followers.length}</h3>\n              <p data-type=\"followers\" className={Styles.followers}>\n                Followers\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className={Styles.bio}>\n          <h3 className={Styles.bioHeader}>Bio</h3>\n          <p className={Styles.bioText}>{currentProfile.bio}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return <>{sidebar}</>;\n};\n\nexport default ProfileSidebar;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { IoHeartOutline, IoChatbubbleOutline } from 'react-icons/io5';\nimport Styles from '../../styles/profile/profile__card.module.css';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst ProfileCard = ({ src, match, postId, likes, comments }) => {\n  return (\n    <div className={Styles.card}>\n      <div className={Styles.container}>\n        <Link className={Styles.link} to={`/post/${match.params.uid}/${postId}`}>\n          <div className={Styles.overlay}>\n            <div className={Styles.icon}>\n              <IoHeartOutline /> <p>{likes.length}</p>\n            </div>\n            <div className={Styles.icon}>\n              <IoChatbubbleOutline />\n              <p>{comments.length}</p>\n            </div>\n          </div>\n          <ImageLoader src={src} borderRadius=\"9px\" />\n        </Link>\n      </div>\n      <img className={Styles.blur} src={src} alt=\"\" />\n    </div>\n  );\n};\n\nexport default ProfileCard;\n","import React, { useState, useEffect, useRef } from 'react';\nimport ProfileCard from './ProfileCard';\nimport Styles from '../../styles/profile/profile__feed.module.css';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst ProfileFeed = ({ firestore, match, newPost, noPosts }) => {\n  const [feed, setFeed] = useState([]);\n  const [lastPost, setLastPost] = useState();\n\n  const [endFeed, setEndFeed] = useState(false);\n  const endFeedRef = useRef(false);\n\n  const dummyRef = useRef();\n  const [isFetching, setIsFetching] = useIntersect(dummyRef, endFeedRef);\n\n  const getMore = async () => {\n    let temp = [];\n    if (!lastPost) return;\n    const snap = await firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .collection('posts')\n      .orderBy('date', 'desc')\n      .startAfter(lastPost)\n      .limit(8)\n      .get();\n    await snap.forEach((doc) => {\n      doc.complete = false;\n      temp.push(doc);\n    });\n    if (!snap.docs[snap.docs.length - 1]) {\n      setIsFetching(false);\n      setEndFeed(true);\n      endFeedRef.current = true;\n      return;\n    }\n    setLastPost(snap.docs[snap.docs.length - 1]);\n    return temp;\n  };\n\n  const getInitial = async () => {\n    let temp = [];\n    const snap = await firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .collection('posts')\n      .orderBy('date', 'desc')\n      .limit(8)\n      .get();\n    await snap.forEach((doc) => {\n      doc.complete = false;\n      temp.push(doc);\n    });\n    setLastPost(snap.docs[snap.docs.length - 1]);\n    return temp;\n  };\n\n  const updateFeed = async () => {\n    const temp = await getMore();\n    if (!temp) return;\n    const combine = [...feed, ...temp];\n    setFeed(combine);\n  };\n\n  //! get the feed\n  const getFeed = async () => {\n    const temp = await getInitial();\n    setFeed(temp);\n  };\n\n  // get the feed after a new post\n  useEffect(() => {\n    return getFeed();\n  }, [newPost]);\n\n  useEffect(() => {\n    getFeed();\n    setEndFeed(false);\n    endFeedRef.current = false;\n  }, [match]);\n\n  // every time loads complete check the count to see if all the posts match the feed length\n\n  //# after feed updates set load to false\n  useEffect(() => {\n    setIsFetching(false);\n  }, [feed]);\n\n  //# decide from local or firestore\n  useEffect(() => {\n    if (!isFetching || endFeed) return;\n    updateFeed();\n  }, [isFetching]);\n\n  return (\n    <>\n      {!noPosts ? (\n        <div className={Styles.feedContainer}>\n          <div className={Styles.feed}>\n            {feed.map((item) => {\n              return (\n                <ProfileCard\n                  key={item.id}\n                  src={item.data().src}\n                  match={match}\n                  postId={item.id}\n                  likes={item.data().likes}\n                  comments={item.data().comments}\n                />\n              );\n            })}\n          </div>\n          <div ref={dummyRef} className={`${Styles.loaderContainer}`}>\n            {isFetching && <div className=\"loader\" />}\n            {endFeed && feed.length > 6 ? (\n              <div className={Styles.endFeed}>No More Posts</div>\n            ) : null}\n          </div>\n        </div>\n      ) : (\n        <div className={Styles.outer}>\n          <div className={Styles.notFound}>\n            <div className={Styles.notFoundContainer}>\n              <button className={Styles.notFoundButton}>No Posts</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ProfileFeed;\n","import React from 'react';\nimport Styles from '../../styles/profile/profile__avatar__modal.module.css';\n\nconst ProfileAvatarModal = ({ src, getAvatarModal }) => {\n  return (\n    <div onClick={getAvatarModal} className={Styles.modal}>\n      <img className={Styles.avatar} src={src} alt=\"\" />\n    </div>\n  );\n};\n\nexport default ProfileAvatarModal;\n","import React, { useState, useEffect } from 'react';\nimport { IoSendOutline, IoAddOutline } from 'react-icons/io5';\nimport { useHistory } from 'react-router';\nimport { firestore } from '../../services/firebase';\nimport ProfileSidebar from './ProfileSidebar';\nimport ProfileFeed from './ProfileFeed';\nimport ProfileUpload from './ProfileUpload';\nimport ProfileAvatarModal from './ProfileAvatarModal';\nimport Styles from '../../styles/profile/profile.module.css';\nimport { useAuth } from '../../contexts/AuthContext';\nimport ProfileButton from './ProfileButton';\nimport ScrollToTop from '../../functions/ScrollToTop';\nimport stopScroll from '../../functions/stopScroll';\n\nconst Profile = (props) => {\n  const [currentProfile, setCurrentProfile] = useState();\n  const [avatarModal, setAvatarModal] = useState(false);\n  const [renderModal, setRenderModal] = useState(false);\n  const [newPost, setNewPost] = useState(0);\n  const [noPosts, setNoPosts] = useState(false);\n  const { match } = props;\n  const { currentUser, userProfile } = useAuth();\n  const [loaded, setLoaded] = useState(false);\n  const [loading, setLoading] = useState([\n    { image: 'avatar', loading: true },\n    { image: 'banner', loading: true },\n  ]);\n  let history = useHistory();\n  //+ if the every item in loading is set to false set loaded to true\n  useEffect(() => {\n    if (currentProfile) {\n      if (loading.every((item) => item.loading === false)) {\n        setLoaded(true);\n      }\n    }\n  }, [loading]);\n\n  //+ set the target image to be done loading onload\n  const handleLoad = (e) => {\n    const { alt } = e.target;\n    const imgIndex = loading.findIndex((img) => img.image === alt);\n    setLoading((old) => [...old], {\n      [loading[imgIndex]]: (loading[imgIndex].loading = false),\n    });\n  };\n\n  //+ get the current profiles data\n  const getUserObject = () => {\n    firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .get()\n      .then((userData) => {\n        if (userData.exists) {\n          setCurrentProfile(userData.data());\n        }\n      });\n  };\n\n  //+ when theres a new post update the user profile\n  useEffect(() => {\n    setNoPosts(false);\n    return getUserObject();\n  }, [newPost]);\n\n  useEffect(() => {\n    getUserObject();\n    setNoPosts(false);\n  }, [match]);\n\n  //+ avatar modal\n  const getAvatarModal = (e) => {\n    e.preventDefault();\n    avatarModal ? setAvatarModal(false) : setAvatarModal(true);\n    stopScroll(avatarModal);\n  };\n\n  //+ new post modal\n  const getModal = (e) => {\n    e.preventDefault();\n    renderModal ? setRenderModal(false) : setRenderModal(true);\n    stopScroll(renderModal);\n  };\n\n  //+ new message link\n  const newMessage = () => {\n    if (!userProfile) return history.push('/sign-up');\n    history.push(`/messages/${currentProfile.userID}`);\n  };\n\n  //+ decides if action button should be post or message\n  let actionButton = (\n    <button onClick={newMessage} className={Styles.actionBtn}>\n      <IoSendOutline className=\"action-icon\" />\n    </button>\n  );\n  if (currentUser?.uid === match.params.uid) {\n    actionButton = (\n      <button onClick={getModal} className={Styles.actionBtn}>\n        <IoAddOutline className=\"action-icon\" />\n      </button>\n    );\n  }\n\n  return (\n    <>\n      <div className={Styles.profile}>\n        <ScrollToTop />\n        {/*//+ banner */}\n        <div className={Styles.header}>\n          <div\n            className={`${Styles.heroLoading} gradientLoad`}\n            style={loaded ? { display: 'none' } : null}\n          />\n          <img\n            className={Styles.hero}\n            src={currentProfile?.banner}\n            alt=\"banner\"\n            onLoad={handleLoad}\n            style={!loaded ? { display: 'none' } : null}\n          />\n        </div>\n        <div className={Styles.outer}>\n          {/*//+ top bar*/}\n          <div className={Styles.topSection}>\n            <div className={Styles.imgContainer}>\n              <div\n                style={loaded ? { display: 'none' } : null}\n                className={`${Styles.avatarLoading} gradientLoad`}\n              />\n              <img\n                onClick={getAvatarModal}\n                className={Styles.avatar}\n                src={currentProfile?.profilePhoto}\n                alt=\"avatar\"\n                onLoad={handleLoad}\n                style={!loaded ? { display: 'none' } : null}\n              />\n              <img\n                className={Styles.avatarBlur}\n                src={currentProfile?.profilePhoto}\n                alt=\"\"\n                style={!loaded ? { display: 'none' } : null}\n              />\n            </div>\n            {avatarModal && (\n              <ProfileAvatarModal\n                getAvatarModal={getAvatarModal}\n                src={currentProfile?.profilePhoto}\n              />\n            )}\n            <div className={Styles.topRight}>\n              <div className={Styles.topIconRow}>\n                {/*//+ following button */}\n                <ProfileButton\n                  firestore={firestore}\n                  Styles={Styles}\n                  currentUser={currentUser}\n                  match={match.params.uid}\n                  currentProfile={currentProfile}\n                  getUserObject={getUserObject}\n                />\n                {actionButton}\n              </div>\n              {renderModal && <ProfileUpload setNewPost={setNewPost} getModal={getModal} />}\n            </div>\n          </div>\n        </div>\n        <div className={Styles.inner}>\n          {/*//+ sidebar */}\n          <ProfileSidebar\n            loaded={loaded}\n            firestore={firestore}\n            match={match}\n            currentProfile={currentProfile}\n            currentUser={currentUser}\n            getUserObject={getUserObject}\n          />\n          {/*//@ posts */}\n          <ProfileFeed\n            newPost={newPost}\n            setLoading={setLoading}\n            loading={loading}\n            loaded={loaded}\n            firestore={firestore}\n            match={match}\n            currentProfile={currentProfile}\n            noPosts={noPosts}\n            setNoPosts={setNoPosts}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Profile;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Styles from '../../styles/post/post__comment-section.module.css';\nimport { firestore } from '../../services/firebase';\nimport convertTime from '../../functions/convertTime';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst PostComment = ({ comment, user, time }) => {\n  const [current, setCurrent] = useState(null);\n  const [addTime, setAddTime] = useState();\n\n  const getTime = () => {\n    const currentTime = Date.now();\n    const converted = convertTime(time, currentTime);\n    setAddTime(converted);\n  };\n\n  useEffect(() => {\n    const getUser = async () => {\n      const userRef = firestore.collection('users').doc(user);\n      const thisUser = await userRef.get();\n      setCurrent(thisUser.data());\n    };\n    getUser();\n    getTime();\n  }, []);\n\n  return (\n    <div className={Styles.commentContainer}>\n      <div className={Styles.start}>\n        <Link to={`/profile/${user}`}>\n          <ImageLoader src={current?.profilePhoto} width=\"27px\" height=\"27px\" borderRadius=\"100%\" />\n        </Link>\n        <p className={Styles.comment}>\n          <span className={Styles.user}>\n            <Link to={`/profile/${user}`}>{current?.displayName} </Link>\n          </span>\n          {comment}\n        </p>\n      </div>\n      <p className={Styles.time}>{addTime}</p>\n    </div>\n  );\n};\n\nexport default PostComment;\n","import React, { useState, useEffect, useRef } from 'react';\nimport PostComment from './PostComment';\nimport Styles from '../../styles/post/post__comment-section.module.css';\nimport Loading from '../../styles/post/post__loading.module.css';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst PostCommentSection = ({ loaded, currentPost }) => {\n  const [comments, setComments] = useState([]);\n\n  const ref = useRef();\n  const [isFetching, setIsFetching] = useIntersect(ref);\n\n  const getComments = () => {\n    if (!currentPost) return;\n    const reverse = currentPost.comments.slice(0).reverse();\n    const sliced = reverse.slice(0, 10);\n    setComments(sliced);\n  };\n\n  const getMore = () => {\n    if (!currentPost) return;\n    const reverse = currentPost.comments.slice(0).reverse();\n    const sliced = reverse.slice(comments.length, comments.length + 10);\n    const combine = [...comments, ...sliced];\n    setComments(combine);\n  };\n\n  useEffect(() => {\n    if (!isFetching) return;\n    getMore();\n  }, [isFetching]);\n\n  useEffect(() => {\n    getComments();\n  }, [currentPost]);\n\n  useEffect(() => {\n    setIsFetching(false);\n  }, [comments]);\n\n  return (\n    <div className={Styles.commentsContainer}>\n      <div className={Styles.comments}>\n        {/* <p className=\"view-all\">View All Comments</p> */}\n        {!loaded ? (\n          <>\n            <div className={Styles.commentContainer}>\n              <div className={Loading.commentProfile} />\n              <div className={Loading.comment} />\n            </div>\n            <div className={Styles.commentContainer}>\n              <div className={Loading.commentProfile} />\n              <div className={Loading.comment} />\n            </div>\n            <div className={Styles.commentContainer}>\n              <div className={Loading.commentProfile} />\n              <div className={Loading.comment} />\n            </div>\n          </>\n        ) : (\n          <>\n            {comments.map((item) => {\n              return (\n                <PostComment\n                  key={item.time}\n                  time={item.time}\n                  comment={item.comment}\n                  user={item.user}\n                />\n              );\n            })}\n          </>\n        )}\n        <div ref={ref}></div>\n      </div>\n    </div>\n  );\n};\n\nexport default PostCommentSection;\n","import React, { useState, useEffect, useRef } from 'react';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport { IoShareSocialOutline, IoTrashOutline } from 'react-icons/io5';\nimport Styles from '../../styles/post/post__menu.module.css';\nimport { useHistory } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst PostMenu = ({ ownPost, match, currentPost, firestore, storage }) => {\n  const [menuStatus, setMenuStatus] = useState(false);\n  const { getUserProfile } = useAuth();\n  let history = useHistory();\n  let menuRef = useRef();\n\n  const handleMenu = (e) => {\n    e.preventDefault();\n    menuStatus ? setMenuStatus(false) : setMenuStatus(true);\n  };\n\n  const handleDelete = async (e) => {\n    e.preventDefault();\n    await firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .collection('posts')\n      .doc(match.params.postid)\n      .delete();\n    let pictureRef = storage.refFromURL(currentPost.src);\n    await pictureRef.delete();\n    const userDoc = await firestore.collection('users').doc(match.params.uid).get();\n    const userData = userDoc.data();\n    await firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .set(\n        {\n          postsCounter: userData.postsCounter - 1,\n        },\n        { merge: true }\n      );\n    await getUserProfile();\n    history.push(`/profile/${match.params.uid}`);\n  };\n\n  const handleShare = () => {\n    copyToClipboard(window.location.href);\n    setMenuStatus(false);\n  };\n\n  const copyToClipboard = (content) => {\n    const el = document.createElement('textarea');\n    el.value = content;\n    document.body.appendChild(el);\n    el.select();\n    document.execCommand('copy');\n    document.body.removeChild(el);\n  };\n\n  useEffect(() => {\n    let handler = (e) => {\n      if (menuRef.current && !menuRef.current.contains(e.target)) {\n        setMenuStatus(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handler);\n    return () => {\n      document.removeEventListener('mousedown', handler);\n    };\n  }, []);\n\n  let menu;\n\n  menu = (\n    <div ref={menuRef} className={Styles.container}>\n      <div className={Styles.inner}>\n        <div onClick={handleShare} className={Styles.option}>\n          <IoShareSocialOutline className={Styles.icon} />\n          <div>\n            <p>Copy Link</p>\n          </div>\n        </div>\n        {ownPost ? (\n          <div className={Styles.option} onClick={handleDelete}>\n            <IoTrashOutline className={Styles.icon} />\n            <p>Delete</p>\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n\n  return (\n    <div>\n      {menuStatus ? menu : null}\n      <MoreHorizIcon onClick={handleMenu} className={Styles.postIcon} />\n    </div>\n  );\n};\n\nexport default PostMenu;\n","import React, { useEffect, useState } from 'react';\nimport { IoHeartOutline } from 'react-icons/io5';\nimport Styles from '../../styles/post/post__sidebar.module.css';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst PostLikeButton = ({ match, history, firestore, firestoreFieldValue, getCurrentPost }) => {\n  const [liked, setLiked] = useState(false);\n  const { userProfile, getUserProfile } = useAuth();\n\n  const updateLikes = async () => {\n    if (userProfile && userProfile.likedPosts) {\n      if (userProfile.likedPosts.includes(match.params.postid)) {\n        setLiked(true);\n      } else {\n        setLiked(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    updateLikes();\n  }, [userProfile]);\n\n  //! handle like\n  const handleLike = async (e) => {\n    e.preventDefault();\n    if (userProfile) {\n      const thisPost = firestore\n        .collection('users')\n        .doc(match.params.uid)\n        .collection('posts')\n        .doc(match.params.postid);\n      const thisUser = firestore.collection('users').doc(userProfile.userID);\n      const postUser = firestore.collection('users').doc(match.params.uid);\n\n      //@ add this post to likes\n      if (!liked) {\n        setLiked(true);\n        const addPost = () => {\n          thisPost.update({\n            likes: firestoreFieldValue.arrayUnion(userProfile.userID),\n          });\n        };\n        const addUser = () => {\n          thisUser.update({\n            likedPosts: firestoreFieldValue.arrayUnion(match.params.postid),\n          });\n        };\n        const notify = () => {\n          postUser.update({\n            notifications: firestoreFieldValue.arrayUnion({\n              user: userProfile.userID,\n              type: 'liked',\n              post: match.params.postid,\n              time: Date.now(),\n            }),\n          });\n        };\n        await Promise.all([notify(), addPost(), addUser()]);\n        getUserProfile();\n        getCurrentPost();\n      } else {\n        //@ remove post from likes\n        const removePost = () => {\n          setLiked(false);\n          thisPost.update({\n            likes: firestoreFieldValue.arrayRemove(userProfile.userID),\n          });\n        };\n        const removeUser = () => {\n          thisUser.update({\n            likedPosts: firestoreFieldValue.arrayRemove(match.params.postid),\n          });\n        };\n        await Promise.all([removePost(), removeUser()]);\n        getUserProfile();\n        getCurrentPost();\n      }\n    } else {\n      history.push('/sign-up');\n    }\n  };\n  return (\n    <IoHeartOutline onClick={handleLike} className={liked ? Styles.likedIcon : Styles.likeIcon} />\n  );\n};\n\nexport default PostLikeButton;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst PostCommentBox = ({\n  Styles,\n  IoSendOutline,\n  firestore,\n  match,\n  firestoreFieldValue,\n  getCurrentPost,\n}) => {\n  const [input, setInput] = useState('');\n  let history = useHistory();\n\n  const { userProfile, getUserProfile } = useAuth();\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    const { value } = e.target;\n    setInput(value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const time = Date.now();\n    if (userProfile) {\n      if (input.length > 0 && input.length < 100) {\n        const thisPost = firestore\n          .collection('users')\n          .doc(match.params.uid)\n          .collection('posts')\n          .doc(match.params.postid);\n        const thisUser = firestore.collection('users').doc(match.params.uid);\n        //@ add comment to post\n        const addPost = () => {\n          thisPost.update({\n            comments: firestoreFieldValue.arrayUnion({\n              user: userProfile.userID,\n              comment: input,\n              time: time,\n            }),\n          });\n        };\n        const notify = () => {\n          thisUser.update({\n            notifications: firestoreFieldValue.arrayUnion({\n              user: userProfile.userID,\n              type: 'comment',\n              comment: input,\n              post: match.params.postid,\n              time: time,\n            }),\n          });\n        };\n        await Promise.all([notify(), addPost()]);\n        getUserProfile();\n        getCurrentPost();\n        setInput('');\n      }\n    } else {\n      history.push('/sign-up');\n    }\n  };\n\n  return (\n    <div className={Styles.commentBox}>\n      <form className={Styles.commentForm} onSubmit={handleSubmit}>\n        <input\n          onChange={handleChange}\n          className={Styles.input}\n          type=\"text\"\n          value={input}\n          maxLength=\"99\"\n          minLength=\"1\"\n          placeholder=\"Add a comment...\"\n        />\n      </form>\n      <IoSendOutline type=\"submit\" onClick={handleSubmit} className={Styles.send} />\n    </div>\n  );\n};\n\nexport default PostCommentBox;\n","import React, { useState, useEffect } from 'react';\nimport {\n  IoShareOutline,\n  IoHeartOutline,\n  IoChatbubbleOutline,\n  IoSendOutline,\n} from 'react-icons/io5';\nimport { Link, useHistory } from 'react-router-dom';\nimport PostCommentSection from './PostCommentSection';\nimport PostMenu from './PostMenu';\nimport Styles from '../../styles/post/post__sidebar.module.css';\nimport Loading from '../../styles/post/post__loading.module.css';\nimport { firestore, storage, firestoreFieldValue } from '../../services/firebase';\nimport PostLikeButton from './PostLikeButton';\nimport PostCommentBox from './PostCommentBox';\nimport convertTime from '../../functions/convertTime';\n\nconst PostSidebar = ({\n  match,\n  loaded,\n  handleLoad,\n  postUser,\n  currentPost,\n  ownPost,\n  getCurrentPost,\n}) => {\n  let history = useHistory();\n  const [addTime, setAddTime] = useState('');\n\n  useEffect(() => {\n    if (currentPost) {\n      const getCur = convertTime(currentPost.date, Date.now());\n      setAddTime(getCur);\n    }\n  }, [currentPost]);\n\n  return (\n    <div className={Styles.sidebar}>\n      <div className={Styles.top}>\n        <Link to={`/profile/${match.params.uid}`}>\n          <div className={Styles.profileContainer}>\n            <div className={Styles.imageContainer}>\n              <div\n                className={Loading.profileImg + ' ' + 'gradientLoad'}\n                style={loaded ? { display: 'none' } : null}\n              />\n              <img\n                style={!loaded ? { display: 'none' } : null}\n                onLoad={handleLoad}\n                src={postUser?.profilePhoto}\n                alt=\"avatar\"\n                className={Styles.profileImg}\n              />\n              <img\n                className={Styles.profileImgBlur}\n                style={!loaded ? { display: 'none' } : null}\n                src={postUser?.profilePhoto}\n                alt=\"\"\n              />\n            </div>\n            <div className={Styles.nameContainer} style={loaded ? { display: 'none' } : null}>\n              <div className={Loading.displayName + ' ' + 'gradientLoad'} />\n              <div className={Loading.username + ' ' + 'gradientLoad'} />\n            </div>\n            <div className={Styles.nameContainer} style={!loaded ? { display: 'none' } : null}>\n              <h2 className={Styles.displayName}>{postUser?.displayName}</h2>\n              <p className={Styles.username}>@{postUser?.username}</p>\n            </div>\n          </div>\n        </Link>\n        <div className={Styles.captionContainer}>\n          <p className={Styles.caption}>{currentPost?.caption}</p>\n        </div>\n      </div>\n      {/*//+ comments */}\n      <PostCommentSection currentPost={currentPost} loaded={loaded} />\n      <div className={Styles.footer}>\n        <div className={Styles.firstChild}>\n          <div className={Styles.left}>\n            {/*//+ liked button */}\n            <PostLikeButton\n              Styles={Styles}\n              match={match}\n              history={history}\n              IoHeartOutline={IoHeartOutline}\n              firestore={firestore}\n              firestoreFieldValue={firestoreFieldValue}\n              getCurrentPost={getCurrentPost}\n            />\n            <IoChatbubbleOutline className={Styles.postIcon} />\n            <IoShareOutline className={Styles.postIcon} />\n          </div>\n          {/*//+ delete menu */}\n          <PostMenu\n            storage={storage}\n            firestore={firestore}\n            match={match}\n            ownPost={ownPost}\n            currentPost={currentPost}\n          />\n        </div>\n        <div className={Styles.infoContainer}>\n          <p className={Styles.likes}>{currentPost?.likes.length} likes</p>\n          <p className={Styles.time}>{addTime}</p>\n        </div>\n        {/*//+ comment box */}\n        <PostCommentBox\n          firestore={firestore}\n          match={match}\n          firestoreFieldValue={firestoreFieldValue}\n          IoSendOutline={IoSendOutline}\n          Styles={Styles}\n          getCurrentPost={getCurrentPost}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default PostSidebar;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { firestore } from '../../services/firebase';\nimport Styles from '../../styles/post/post.module.css';\nimport Loading from '../../styles/post/post__loading.module.css';\nimport PostSidebar from './PostSidebar';\nimport { useAuth } from '../../contexts/AuthContext';\nimport ScrollToTop from '../../functions/ScrollToTop';\n\nconst Post = ({ match }) => {\n  const [currentPost, setCurrentPost] = useState();\n  const [postUser, setPostUser] = useState();\n  const [ownPost, setOwnPost] = useState(false);\n  const [loading, setLoading] = useState([\n    { image: 'avatar', loading: true },\n    { image: 'post', loading: true },\n  ]);\n  const [loaded, setLoaded] = useState(false);\n  const { currentUser, userProfile } = useAuth();\n\n  //+ determine if this is the user's post\n  useEffect(() => {\n    if (currentUser && match.params.uid === currentUser.uid) {\n      setOwnPost(true);\n    }\n  }, [postUser]);\n\n  //+ get the current post\n  const getCurrentPost = async () => {\n    const thisPost = await firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .collection('posts')\n      .doc(match.params.postid)\n      .get();\n    if (thisPost.exists) {\n      setCurrentPost(thisPost.data());\n    } else {\n      setLoaded('error');\n    }\n  };\n\n  //+ get the profile of the current post\n  const getPostUser = async () => {\n    const getUser = await firestore.collection('users').doc(match.params.uid).get();\n    if (getUser.exists) {\n      setPostUser(getUser.data());\n    } else {\n      setLoaded('error');\n    }\n  };\n\n  //+ get the current post and user on page load\n  useEffect(() => {\n    getCurrentPost();\n    getPostUser();\n  }, [match]);\n\n  //+ check if postUser and currentUser are defined then set loading false\n  useEffect(() => {\n    if (postUser && currentPost) {\n      if (loading.every((item) => item.loading === false)) {\n        setLoaded(true);\n      }\n    }\n  }, [loading]);\n\n  //+ update the loading state\n  const handleLoad = (e) => {\n    const { alt } = e.target;\n    const imgIndex = loading.findIndex((img) => img.image === alt);\n    setLoading((prev) => [...prev], {\n      [loading[imgIndex]]: (loading[imgIndex].loading = false),\n    });\n  };\n\n  let postState;\n\n  //+ if finished loading\n  postState = (\n    <div className={Styles.post}>\n      <ScrollToTop />\n      <div className={Styles.container}>\n        <div\n          className={Loading.image + ' ' + 'gradientLoad'}\n          style={loaded ? { display: 'none' } : null}\n        />\n        <img\n          style={!loaded ? { display: 'none' } : null}\n          onLoad={handleLoad}\n          src={currentPost?.src}\n          alt=\"post\"\n          className={Styles.image}\n        />\n        <PostSidebar\n          match={match}\n          loaded={loaded}\n          handleLoad={handleLoad}\n          postUser={postUser}\n          ownPost={ownPost}\n          currentPost={currentPost}\n          currentUser={currentUser}\n          userProfile={userProfile}\n          getCurrentPost={getCurrentPost}\n        />\n      </div>\n    </div>\n  );\n\n  //+ if there was an error\n  if (loaded === 'error') {\n    postState = (\n      <div className={Styles.post}>\n        <div className={Styles.notFoundContainer}>\n          <h3>Post Not Found</h3>\n          <Link to=\"/\">\n            <button className={Styles.returnButton}>Return Home</button>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return <>{postState}</>;\n};\n\nexport default Post;\n","import React, { useEffect, useState, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport Styles from '../../styles/sign-up/sign-up.module.css';\nimport { signIn, firestore } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport logo from '../../assets/img/logo/logo-2.png';\nimport debounce from '../../functions/debounce';\n\nconst SignUp = () => {\n  const { login, currentUser, firebaseRegister } = useAuth();\n  const [userInput, setUserInput] = useState('');\n  const [userValue, setUserValue] = useState('');\n  const [nameTaken, setNameTaken] = useState(false);\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    const { value } = e.target;\n    const reg = /[^a-zA-Z\\d]/gi;\n    const newVal = value.replace(reg, '');\n    const lower = newVal.toLowerCase();\n    setUserInput(lower);\n  };\n  const debounceChange = useCallback(\n    debounce((nextValue) => handleChange(nextValue), 500),\n    []\n  );\n  const handleValue = (e) => {\n    setUserValue(e.target.value);\n    debounceChange(e);\n  };\n\n  useEffect(() => {\n    let foundName;\n    const check = async () => {\n      if (userInput.length > 2) {\n        await firestore\n          .collection('users')\n          .where('username', '==', userInput)\n          .get()\n          .then((searchResults) => {\n            return searchResults.forEach((doc) => {\n              foundName = doc.data();\n            });\n          });\n        if (foundName === undefined) {\n          setNameTaken(false);\n        } else {\n          setNameTaken(true);\n        }\n      }\n    };\n    check();\n  }, [userInput]);\n\n  useEffect(() => {\n    return firebaseRegister(userInput);\n  }, [currentUser]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    signIn();\n  };\n\n  const doNothing = (e) => {\n    e.preventDefault();\n  };\n\n  let nameHelper = <p className={Styles.nameHelper}>Name must be 3-15 characters.</p>;\n\n  if (userInput.length !== 0) {\n    if (userInput.length <= 2) {\n      nameHelper = <p className={Styles.nameHelper}>Too Short.</p>;\n    } else if (nameTaken === false) {\n      nameHelper = (\n        <p style={{ color: '#00C138' }} className={Styles.nameHelper}>\n          Name is available.\n        </p>\n      );\n    } else {\n      nameHelper = (\n        <p style={{ color: '#ff0000' }} className={Styles.nameHelper}>\n          Name has already been taken.\n        </p>\n      );\n    }\n  }\n\n  return (\n    <>\n      {!currentUser ? (\n        <div className={Styles.signUp}>\n          <div className={Styles.container}>\n            <div className={Styles.header}>\n              <img className={Styles.logoImg} src={logo} alt=\"\" />\n              <div className={Styles.textContainer}>\n                <h2 className={Styles.headerText}>Sign Up</h2>\n              </div>\n            </div>\n            <div className={Styles.formContainer}>\n              <form pattern=\"[0-9a-zA-Z_.-]*\" className={Styles.form}>\n                <div className={Styles.input}>\n                  <div className={Styles.username}>\n                    <p>@</p>\n                  </div>\n                  <input\n                    required\n                    onChange={handleValue}\n                    className={Styles.inputBox}\n                    type=\"text\"\n                    placeholder=\"username\"\n                    maxLength=\"15\"\n                    minLength=\"3\"\n                    value={userValue}\n                  />\n                </div>\n                <div className={Styles.helperDiv}>{nameHelper}</div>\n                <button\n                  type=\"submit\"\n                  onClick={!nameTaken && userInput.length > 2 ? handleSubmit : doNothing}\n                  className={Styles.signUpButton}\n                  style={\n                    !nameTaken && userInput.length > 2\n                      ? {\n                          backgroundColor: 'black',\n                          cursor: 'pointer',\n                        }\n                      : { backgroundColor: 'gray', cursor: 'not-allowed' }\n                  }\n                >\n                  Sign Up With Google\n                </button>\n              </form>\n              <p className={Styles.or}>Already signed up?</p>\n              <button onClick={login} className={Styles.loginButton}>\n                Login\n              </button>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className={Styles.signUp}>\n          <div className={Styles.notFoundContainer}>\n            <h3>Already Logged In</h3>\n            <Link to=\"/\">\n              <button className={Styles.returnButton}>Return Home</button>\n            </Link>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default SignUp;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { IoImage, IoPencil } from 'react-icons/io5';\nimport Styles from '../../styles/settings/settings.module.css';\nimport { useAuth } from '../../contexts/AuthContext';\n\nimport { firestore, storageRef } from '../../services/firebase';\nimport resizeImage from '../../functions/resizeImage';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst Settings = () => {\n  const { getUserProfile, currentUser, userProfile } = useAuth();\n  const [userInput, setUserInput] = useState('');\n  const [userBio, setUserBio] = useState('');\n  const [uploading, setUploading] = useState(false);\n\n  useEffect(() => {\n    if (!userProfile) return;\n    setUserInput(userProfile.displayName);\n    setUserBio(userProfile.bio);\n  }, [userProfile]);\n\n  //+ updates on account sign up\n\n  useEffect(() => {\n    getUserProfile();\n  }, [currentUser]);\n\n  //+ upload profile photo\n  const handleAvatar = async (file) => {\n    setUploading(true);\n    const fileRef = storageRef.child(`${currentUser.uid}/profilePhoto`);\n    await fileRef.put(file);\n    const fileUrl = await fileRef.getDownloadURL();\n    const userRef = firestore.collection('users').doc(currentUser.uid);\n    await userRef.set(\n      {\n        ['profilePhoto']: fileUrl,\n      },\n      { merge: true }\n    );\n    setUploading(false);\n    getUserProfile();\n  };\n\n  //+ upload banner\n  const handleBanner = async (file) => {\n    setUploading(true);\n    const fileRef = storageRef.child(`${currentUser.uid}/banner`);\n    await fileRef.put(file);\n    const fileUrl = await fileRef.getDownloadURL();\n    const userRef = firestore.collection('users').doc(currentUser.uid);\n    await userRef.set(\n      {\n        ['banner']: fileUrl,\n      },\n      { merge: true }\n    );\n    setUploading(false);\n    getUserProfile();\n  };\n\n  //! handle photo uploads\n  //@ add file to state\n  const handlePhotoChange = (e) => {\n    e.preventDefault();\n    const file = e.target.files[0];\n    if (file && file.size < 5000000) {\n      if (e.target.name === 'profilePhoto') {\n        resizeImage(e, 'none', handleAvatar, 1000);\n      } else if (e.target.name === 'banner') {\n        resizeImage(e, 'none', handleBanner, 2000);\n      }\n    }\n  };\n\n  //! handle text input changes\n  //@ handle display name change\n  const handleChange = (e) => {\n    e.preventDefault();\n    const { value } = e.target;\n    const reg = /[^a-zA-Z' ']/gi; //replace all but these characters\n    const newVal = value.replace(reg, '');\n    setUserInput(newVal);\n  };\n\n  //@ handle bio change\n  const handleBioChange = (e) => {\n    e.preventDefault();\n    const { value } = e.target;\n    setUserBio(value);\n  };\n\n  //+ handle save text\n  const handleTextUpload = async (e) => {\n    e.preventDefault();\n    if (userBio !== userProfile.bio) {\n      setUploading(true);\n      await firestore.collection('users').doc(currentUser.uid).set(\n        {\n          bio: userBio,\n        },\n        { merge: true }\n      );\n      setUploading(false);\n    }\n    if (userInput !== userProfile.displayName && userInput !== '') {\n      const lower = userInput.toLowerCase();\n      setUploading(true);\n      await firestore.collection('users').doc(currentUser.uid).set(\n        {\n          displayName: userInput,\n          searchName: lower,\n        },\n        { merge: true }\n      );\n      setUploading(false);\n    }\n  };\n\n  return (\n    <div className={Styles.settings}>\n      <div className={Styles.container}>\n        <h3>Settings</h3>\n        <div className={Styles.inner}>\n          <div>\n            <label className={Styles.bannerOverlayContainer}>\n              <input\n                name=\"banner\"\n                type=\"file\"\n                accept=\"image/jpeg, image/png, image/jpg\"\n                className={Styles.fileInput}\n                onChange={handlePhotoChange}\n              />\n              <div className={Styles.bannerContainer}>\n                <ImageLoader src={userProfile && userProfile.banner} zIndex={'0'} />\n              </div>\n              <div className={Styles.bannerOverlay}>\n                <IoPencil className={Styles.bannerIcon} />\n              </div>\n            </label>\n            <form>\n              <div className={Styles.containerBar}>\n                <label className={Styles.profileOverlayContainer}>\n                  <input\n                    onChange={handlePhotoChange}\n                    type=\"file\"\n                    accept=\"image/jpeg, image/png, image/jpg\"\n                    className={Styles.fileInput}\n                    name=\"profilePhoto\"\n                  />\n                  <ImageLoader\n                    src={userProfile && userProfile.profilePhoto}\n                    position=\"relative\"\n                    borderRadius=\"100%\"\n                    width=\"112px\"\n                    height=\"112px\"\n                    shadow=\"0px 0.5em 1.5em 1px rgba(0, 0, 0, 0.1)\"\n                  />\n                  <div className={Styles.profileOverlay}>\n                    <IoImage className={Styles.profileIcon} />\n                  </div>\n                </label>\n              </div>\n            </form>\n          </div>\n          <div className={Styles.textInputs}>\n            <form className={Styles.textForm}>\n              <div className={Styles.inputContainer}>\n                <p>Display Name:</p>\n                <div className={Styles.input}>\n                  <input\n                    autoComplete=\"off\"\n                    name=\"displayName\"\n                    className={Styles.inputBoxDisplay}\n                    type=\"text\"\n                    placeholder={userProfile && userProfile.displayName}\n                    maxLength=\"25\"\n                    minLength=\"3\"\n                    onChange={handleChange}\n                    value={userInput}\n                  />\n                </div>\n              </div>\n              <div className={Styles.inputContainer}>\n                <p>Bio:</p>\n                <textarea\n                  className={Styles.bioInput}\n                  name=\"bio\"\n                  maxLength=\"150\"\n                  placeholder={userProfile && userProfile.bio}\n                  value={userBio}\n                  onChange={handleBioChange}\n                />\n              </div>\n            </form>\n          </div>\n        </div>\n\n        <div className={Styles.profileBtnContainer}>\n          {uploading ? (\n            <div className=\"loader\"></div>\n          ) : (\n            <button onClick={handleTextUpload} type=\"submit\" className={Styles.textBtn}>\n              Save\n            </button>\n          )}\n          <Link className={Styles.profileLink} to={`/profile/${userProfile && userProfile.userID}`}>\n            <button className={Styles.profileBtn}>View Profile</button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Settings;\n","import React, { useState, useEffect } from 'react';\nimport { firestore } from '../../services/firebase';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst MessagesCreateMenuItem = ({\n  Styles,\n  contactID,\n  setMessages,\n  messages,\n  handleCreate,\n  getCurrentMessage,\n}) => {\n  const [current, setCurrent] = useState(null);\n  const getUser = async () => {\n    const userRef = firestore.collection('users').doc(contactID);\n    const thisUser = await userRef.get();\n    setCurrent(thisUser.data());\n  };\n  useEffect(() => {\n    getUser();\n  }, []);\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    const check = messages.some((item) => item.user === contactID);\n    if (!check) {\n      setMessages([{ user: contactID, time: Date.now(), messages: [] }, ...messages]);\n\n      handleCreate(e);\n    } else {\n      const index = messages.findIndex((item) => item.user === contactID);\n      getCurrentMessage(index);\n      handleCreate(e);\n    }\n  };\n\n  return (\n    <div onClick={handleClick} className={Styles.listItem}>\n      <div className={Styles.start}>\n        <div className={Styles.avatarContainer}>\n          <ImageLoader src={current?.profilePhoto} width=\"65px\" height=\"65px\" borderRadius=\"100%\" />\n        </div>\n        <div className={Styles.names}>\n          <p className={Styles.displayName}>{current?.displayName}</p>\n          <p className={Styles.username}>@{current?.username}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessagesCreateMenuItem;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { IoCloseOutline } from 'react-icons/io5';\nimport Styles from '../../styles/messages/messages__create-menu.module.css';\nimport MessagesCreateMenuItem from './MessagesCreateMenuItem';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst MessagesCreateMenu = ({\n  handleCreate,\n  userProfile,\n  setMessages,\n  messages,\n  setCurrentMessage,\n  setCurrentIndex,\n  getCurrentMessage,\n}) => {\n  const [list, setList] = useState([]);\n  const ref = useRef();\n  const [isFetching, setIsFetching] = useIntersect(ref);\n\n  const createInitial = () => {\n    if (!userProfile) return;\n    const { following } = userProfile;\n    const reverse = following.slice(0).reverse();\n    const sliced = reverse.slice(0, 10);\n    setList(sliced);\n  };\n\n  //+ GET more from storage\n  const createMore = () => {\n    if (!userProfile) return;\n    const { following } = userProfile;\n    if (following.length === list.length) return;\n\n    const reverse = following.slice(0).reverse();\n    const sliced = reverse.slice(list.length, list.length + 10);\n\n    const combine = [...list, ...sliced];\n    setList(combine);\n  };\n\n  useEffect(() => {\n    if (!userProfile) return;\n    createInitial();\n  }, [userProfile]);\n\n  useEffect(() => {\n    if (!isFetching) return;\n    createMore();\n  }, [isFetching]);\n\n  useEffect(() => {\n    setIsFetching(false);\n  }, [list]);\n\n  return (\n    <div className={Styles.modal}>\n      <div className={Styles.container}>\n        <div className={Styles.header}>\n          <h3>New Message</h3>\n          <IoCloseOutline onClick={handleCreate} className={Styles.close} />\n        </div>\n\n        {/*//+ list of following is here */}\n        <div className={Styles.listContainer}>\n          {list.map((item) => {\n            return (\n              <MessagesCreateMenuItem\n                messages={messages}\n                setMessages={setMessages}\n                Styles={Styles}\n                contactID={item}\n                setCurrentMessage={setCurrentMessage}\n                handleCreate={handleCreate}\n                setCurrentIndex={setCurrentIndex}\n                getCurrentMessage={getCurrentMessage}\n                key={item}\n              />\n            );\n          })}\n          <div ref={ref} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessagesCreateMenu;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Styles from '../../styles/messages/message__item.module.css';\n\nconst MessageItem = ({ user, message, userProfile, currentProfile, thread, index }) => {\n  const [sent, setSent] = useState(false);\n  const [group, setGroup] = useState('false');\n\n  const getStatus = () => {\n    if (user === userProfile?.userID) {\n      setSent(true);\n    }\n  };\n\n  useEffect(() => {\n    getStatus();\n  }, [currentProfile]);\n\n  useEffect(() => {\n    if (user === thread[index + 1]?.user) {\n      setGroup('true');\n    } else if (user !== thread[index + 1]?.user) {\n      setGroup('avatar');\n    }\n  }, [thread]);\n\n  let item;\n\n  if (sent && group === 'true') {\n    item = (\n      <div className={Styles.itemSent + ' ' + Styles.group}>\n        <div className={Styles.bubbleSent}>\n          <p>{message}</p>\n        </div>\n        <div className={Styles.avatarContainer} />\n      </div>\n    );\n  }\n\n  if (sent && group === 'avatar') {\n    item = (\n      <div className={Styles.itemSent + ' ' + Styles.topGroup}>\n        <div className={Styles.bubbleSent}>\n          <p>{message}</p>\n        </div>\n        <div className={Styles.avatarContainer}>\n          <Link to={`/profile/${userProfile.userID}`}>\n            <img className={Styles.avatar} src={userProfile.profilePhoto} alt=\"user-avi\" />\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  if (!sent && group === 'true') {\n    item = (\n      <div className={Styles.item + ' ' + Styles.group}>\n        <div className={Styles.bubble}>\n          <p>{message}</p>\n        </div>\n        <div className={Styles.avatarContainer} />\n      </div>\n    );\n  }\n\n  if (!sent && group === 'avatar') {\n    item = (\n      <div className={Styles.item + ' ' + Styles.topGroup}>\n        <div className={Styles.bubble}>\n          <p>{message}</p>\n        </div>\n        <div className={Styles.avatarContainer}>\n          <Link to={`/profile/${currentProfile?.userID}`}>\n            <img className={Styles.avatar} src={currentProfile?.profilePhoto} alt=\"contact-avi\" />\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return <>{item}</>;\n};\n\nexport default MessageItem;\n","import React, { useRef, useState, useEffect } from 'react';\nimport { firestore } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport MessageItem from './MessageItem';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst MessageArea = ({ currentMessage, currentProfile, setCurrentProfile, Styles }) => {\n  const topRef = useRef();\n  const dummyRef = useRef(null);\n  const [thread, setThread] = useState([]);\n  const { userProfile } = useAuth();\n  const [isFetching, setIsFetching] = useIntersect(topRef);\n\n  //+ GET more from storage\n  const createFeed = () => {\n    if (!currentMessage) return;\n\n    const reverse = currentMessage.messages.slice(0).reverse();\n    const sliced = reverse.slice(thread.length, thread.length + 20);\n    const combine = [...thread, ...sliced];\n    setThread(combine);\n  };\n\n  useEffect(() => {\n    if (!isFetching) return;\n    createFeed();\n  }, [isFetching]);\n\n  //# after feed updates set load to false\n  useEffect(() => {\n    setIsFetching(false);\n  }, [thread]);\n\n  useEffect(() => {\n    if (currentMessage?.messages?.length > 0) {\n      const reverse = currentMessage?.messages.slice(0).reverse();\n      const sliced = reverse.slice(0, 20);\n      setThread(sliced);\n    } else {\n      setThread([]);\n    }\n  }, [currentMessage]);\n\n  const getUserObject = () => {\n    firestore\n      .collection('users')\n      .doc(currentMessage?.user)\n      .get()\n      .then((userData) => {\n        if (userData.exists) {\n          setCurrentProfile(userData.data());\n        }\n      });\n  };\n\n  useEffect(() => {\n    getUserObject();\n  }, [currentMessage]);\n\n  return (\n    <div id=\"msg\" className={Styles.messageArea}>\n      <div ref={dummyRef} className={Styles.dummy} />\n      {thread?.map((item, index) => {\n        return (\n          <MessageItem\n            key={item.time}\n            time={item.time}\n            currentProfile={currentProfile}\n            user={item.user}\n            thread={thread}\n            index={index}\n            message={item.message}\n            userProfile={userProfile}\n          />\n        );\n      })}\n      <div ref={topRef} className={Styles.dummy} />\n    </div>\n  );\n};\n\nexport default MessageArea;\n","import React, { useState } from 'react';\nimport { IoSendOutline } from 'react-icons/io5';\nimport { firestore, firestoreFieldValue } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst MessageInputBox = ({ currentMessage, currentProfile, Styles }) => {\n  const [inputBox, setInputBox] = useState('');\n  const { userProfile } = useAuth();\n  //+ send\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const time = Date.now();\n    if (currentProfile) {\n      if (inputBox.length > 0 && inputBox.length < 501) {\n        const contactThread = firestore\n          .collection('users')\n          .doc(currentMessage?.user)\n          .collection('messages')\n          .doc(userProfile?.userID);\n\n        const userThread = firestore\n          .collection('users')\n          .doc(userProfile?.userID)\n          .collection('messages')\n          .doc(currentMessage?.user);\n\n        await userThread.set(\n          {\n            time: time,\n            user: currentProfile.userID,\n          },\n          { merge: true }\n        );\n\n        await contactThread.set(\n          {\n            time: time,\n            user: userProfile?.userID,\n          },\n          { merge: true }\n        );\n        //@ add message to thread\n        const addUserThread = () => {\n          userThread.update({\n            messages: firestoreFieldValue.arrayUnion({\n              user: userProfile?.userID,\n              message: inputBox,\n              time: time,\n            }),\n          });\n        };\n\n        const addContactThread = () => {\n          contactThread.update({\n            messages: firestoreFieldValue.arrayUnion({\n              user: userProfile?.userID,\n              message: inputBox,\n              time: time,\n            }),\n          });\n        };\n\n        await Promise.all([addUserThread(), addContactThread()]);\n        setInputBox('');\n      }\n    }\n  };\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    const { value } = e.target;\n    setInputBox(value);\n  };\n\n  return (\n    <div className={Styles.messageBox}>\n      {/* arranged in reverse because of flex direction */}\n      <form onSubmit={handleSubmit} className={Styles.messageForm}>\n        <input\n          className={Styles.input}\n          type=\"text\"\n          maxLength=\"500\"\n          minLength=\"1\"\n          placeholder=\"New Message...\"\n          onChange={handleChange}\n          value={inputBox}\n        />\n      </form>\n      <IoSendOutline type=\"submit\" onClick={handleSubmit} className={Styles.send} />\n    </div>\n  );\n};\n\nexport default MessageInputBox;\n","import React, { useEffect, useState } from 'react';\nimport Styles from '../../styles/messages/messagesContact.module.css';\nimport { firestore } from '../../services/firebase';\nimport convertTime from '../../functions/convertTime';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst MessagesContact = ({\n  user,\n  time,\n  last,\n  getCurrentMessage,\n  index,\n  currentIndex,\n  handleSidebar,\n}) => {\n  const [currentUser, setCurrentUser] = useState();\n  const [addTime, setAddTime] = useState('');\n\n  const getTime = () => {\n    const currentTime = Date.now();\n    const converted = convertTime(time, currentTime);\n    setAddTime(converted);\n  };\n\n  const getUserObject = () => {\n    firestore\n      .collection('users')\n      .doc(user)\n      .get()\n      .then((userData) => {\n        if (userData.exists) {\n          setCurrentUser(userData.data());\n        }\n      });\n  };\n\n  useEffect(() => {\n    getUserObject();\n    getTime();\n  }, []);\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    getCurrentMessage(index);\n    handleSidebar();\n  };\n\n  return (\n    <div\n      onClick={handleClick}\n      className={index === currentIndex ? Styles.active : Styles.container}\n    >\n      <div className={Styles.avatarContainer}>\n        <ImageLoader\n          src={currentUser?.profilePhoto}\n          width=\"65px\"\n          height=\"65px\"\n          borderRadius=\"100%\"\n        />\n      </div>\n\n      <div className={Styles.contactInfo}>\n        <p className={Styles.name}>{currentUser?.displayName}</p>\n        <div className={Styles.infoContainer}>\n          <p className={Styles.message}>\n            {last?.message.length >= 15 ? last?.message.substring(0, 15) + '...' : last?.message}\n          </p>\n          <p className={Styles.time}>{addTime}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessagesContact;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { IoCreateOutline, IoChevronBackOutline } from 'react-icons/io5';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { firestore } from '../../services/firebase';\nimport useIntersect from '../../hooks/useIntersect';\nimport ImageLoader from '../reusable/ImageLoader';\nimport MessagesContact from './MessagesContact';\n\nconst MessagesSidebar = ({\n  Styles,\n  messages,\n  getCurrentMessage,\n  currentIndex,\n  scrollToBottom,\n  handleCreate,\n  setMessages,\n  lastContact,\n  setLastContact,\n}) => {\n  const [sidebar, setSidebar] = useState(true);\n\n  const { userProfile } = useAuth();\n  const contactRef = useRef();\n  const [isFetching, setIsFetching] = useIntersect(contactRef);\n\n  //! MOBILE Sidebar\n  const handleSidebar = () => {\n    sidebar ? setSidebar(false) : setSidebar(true);\n    scrollToBottom();\n  };\n\n  const getMore = async () => {\n    if (!lastContact) return;\n    let temp = [];\n    const arr = await firestore\n      .collection('users')\n      .doc(userProfile?.userID)\n      .collection('messages')\n      .orderBy('time', 'desc')\n      .startAfter(lastContact)\n      .limit(5)\n      .get();\n\n    arr.forEach((doc) => {\n      temp.push(doc.data());\n    });\n    setLastContact(arr.docs[arr.docs.length - 1]);\n    const combine = [...messages, ...temp];\n\n    setMessages(combine);\n  };\n\n  useEffect(() => {\n    if (!isFetching) return;\n    getMore();\n  }, [isFetching]);\n\n  useEffect(() => {\n    setIsFetching(false);\n  }, [messages]);\n\n  return (\n    <div className={sidebar ? Styles.sidebar : `${Styles.sidebar} ${Styles.hide}`}>\n      <div className={Styles.header}>\n        <div\n          className={\n            sidebar ? Styles.userAvatarContainer : `${Styles.userAvatarContainer} ${Styles.remove}`\n          }\n        >\n          <Link to={`/profile/${userProfile?.userID}`}>\n            <ImageLoader\n              src={userProfile?.profilePhoto}\n              width=\"65px\"\n              height=\"65px\"\n              borderRadius=\"100%\"\n              position=\"absolute\"\n            />\n            <img className={Styles.userAvatarBlur} src={userProfile?.profilePhoto} alt=\"avatar\" />\n          </Link>\n        </div>\n        {sidebar ? null : (\n          <div className={Styles.backArrowContainer}>\n            <IoChevronBackOutline onClick={handleSidebar} className={Styles.backArrow} />\n          </div>\n        )}\n        <p className={Styles.headerTitle}>Messages</p>\n        <div onClick={handleCreate} className={Styles.createIconContainer}>\n          <IoCreateOutline className={Styles.createIcon} />\n        </div>\n      </div>\n      <div\n        className={\n          sidebar ? Styles.contactsContainer : `${Styles.contactsContainer} ${Styles.hide}`\n        }\n      >\n        {/* map over messages */}\n        {messages.map((item, index) => {\n          return (\n            <MessagesContact\n              key={item.time}\n              time={item.time}\n              index={index}\n              user={item.user}\n              last={item.messages?.length > 0 ? item.messages[item.messages?.length - 1] : null}\n              getCurrentMessage={getCurrentMessage}\n              currentIndex={currentIndex}\n              handleSidebar={handleSidebar}\n            />\n          );\n        })}\n        <div ref={contactRef}></div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessagesSidebar;\n","import React, { useEffect, useState, useRef } from 'react';\n\nimport MessagesCreateMenu from './MessagesCreateMenu';\nimport Styles from '../../styles/messages/messages.module.css';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { firestore } from '../../services/firebase';\nimport MessageArea from './MessageArea';\nimport MessageInputBox from './MessageInputBox';\nimport MessagesSidebar from './MessagesSidebar';\n\nconst Messages = ({ match }) => {\n  const [messages, setMessages] = useState([]);\n  const [currentMessage, setCurrentMessage] = useState();\n  const [currentProfile, setCurrentProfile] = useState();\n  const [lastContact, setLastContact] = useState();\n  const [currentIndex, setCurrentIndex] = useState();\n  const [createModal, setCreateModal] = useState(false);\n  const { userProfile } = useAuth();\n  const dummyRef = useRef(null);\n  const contactRef = useRef();\n\n  const getCurrentMessage = (num) => {\n    setCurrentIndex(num);\n    setCurrentMessage(messages[num]);\n  };\n\n  useEffect(() => {\n    if (match && messages) {\n      const check = messages.some((item) => item.user === match.params.uid);\n      if (!check) {\n        setMessages([{ user: match.params.uid, time: Date.now(), messages: [] }, ...messages]);\n      } else {\n        const index = messages.findIndex((item) => item.user === match.params.uid);\n        getCurrentMessage(index);\n      }\n    }\n  }, [messages, match]);\n\n  useEffect(() => {\n    if (!match) {\n      if (!currentMessage && messages && userProfile) {\n        setCurrentMessage(messages[0]);\n        setCurrentIndex(0);\n        getCurrentMessage(0);\n      } else if (currentMessage) {\n        setCurrentMessage(messages[currentIndex]);\n      }\n      if (messages[0]?.messages?.length === 0) {\n        getCurrentMessage(0);\n      }\n    }\n  }, [messages]);\n\n  const scrollToBottom = (type) => {\n    type === 'smooth'\n      ? dummyRef.current?.scrollIntoView({ behavior: 'smooth' })\n      : dummyRef.current?.scrollIntoView();\n  };\n\n  useEffect(() => {\n    const unsubscribe = firestore\n      .collection('users')\n      .doc(userProfile?.userID)\n      .collection('messages')\n      .doc(messages[currentIndex]?.user)\n      .onSnapshot((doc) => {\n        setCurrentMessage(doc.data());\n        scrollToBottom('smooth');\n      });\n    return () => {\n      unsubscribe();\n    };\n  }, [currentIndex]);\n\n  const handleCreate = (e) => {\n    e.preventDefault();\n    createModal ? setCreateModal(false) : setCreateModal(true);\n  };\n\n  const getInitial = async () => {\n    if (!userProfile) return;\n    let temp = [];\n    const arr = await firestore\n      .collection('users')\n      .doc(userProfile.userID)\n      .collection('messages')\n      .orderBy('time', 'desc')\n      .limit(10)\n      .get();\n\n    arr.forEach((doc) => {\n      temp.push(doc.data());\n    });\n    setLastContact(arr.docs[arr.docs.length - 1]);\n    setMessages(temp);\n  };\n\n  useEffect(() => {\n    getInitial();\n  }, [userProfile]);\n\n  return (\n    <div className={Styles.messages}>\n      {/*//+ create message menu */}\n      {createModal && (\n        <MessagesCreateMenu\n          messages={messages}\n          setMessages={setMessages}\n          setCurrentMessage={setCurrentMessage}\n          userProfile={userProfile}\n          handleCreate={handleCreate}\n          currentMessage={currentMessage}\n          setCurrentIndex={setCurrentIndex}\n          getCurrentMessage={getCurrentMessage}\n        />\n      )}\n      <div className={Styles.navBg} />\n      {/*//+ sidebar */}\n      <MessagesSidebar\n        Styles={Styles}\n        messages={messages}\n        currentIndex={currentIndex}\n        getCurrentMessage={getCurrentMessage}\n        scrollToBottom={scrollToBottom}\n        handleCreate={handleCreate}\n        contactRef={contactRef}\n        setMessages={setMessages}\n        lastContact={lastContact}\n        setLastContact={setLastContact}\n      />\n      {/*//+ input */}\n      <div className={Styles.main}>\n        <MessageInputBox\n          currentMessage={currentMessage}\n          currentProfile={currentProfile}\n          setCurrentIndex={setCurrentIndex}\n          Styles={Styles}\n        />\n        {/*//+ messages section */}\n        <MessageArea\n          currentProfile={currentProfile}\n          setCurrentProfile={setCurrentProfile}\n          currentMessage={currentMessage}\n          setCurrentMessage={setCurrentMessage}\n          Styles={Styles}\n          currentIndex={currentIndex}\n          setCurrentIndex={setCurrentIndex}\n          match={match}\n          messages={messages}\n          setMessages={setMessages}\n          scrollToBottom={scrollToBottom}\n          getCurrentMessage={getCurrentMessage}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Messages;\n","import '../styles/app.css';\nimport React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Nav from './Nav/Nav';\nimport Home from './Home/Home';\nimport Profile from './Profile/Profile';\nimport Post from './Post/Post';\nimport SignUp from './SignUp/SignUp';\nimport Settings from './Settings/Settings';\nimport Messages from './Messages/Messages';\nimport { AuthProvider } from '../contexts/AuthContext';\n\nfunction App() {\n  const BrowserRouter = require('react-router-dom').BrowserRouter;\n  // memory leak from auth provider context even when everything is removed\n  return (\n    <BrowserRouter basename={`${process.env.PUBLIC_URL}/instagram-clone/`}>\n      <Router>\n        <AuthProvider>\n          <div className=\"App\">\n            {/*//+ Nav */}\n            <Nav />\n            <Switch>\n              {/*//+ Home */}\n              <Route exact path=\"/\">\n                <Home />\n              </Route>\n              {/*//+ Messages */}\n              <Route exact path=\"/messages/:uid\" component={Messages} />\n              <Route exact path=\"/messages\">\n                <Messages />\n              </Route>\n              {/*//+ Sign up */}\n              <Route exact path=\"/sign-up\">\n                <SignUp />\n              </Route>\n              {/*//+ Profile */}\n              <Route exact path=\"/profile/:uid\" component={Profile} />\n              {/*//+ post */}\n              <Route exact path=\"/post/:uid/:postid\" component={Post} />\n              {/*//+ settings */}\n              <Route exact path=\"/settings\">\n                <Settings />\n              </Route>\n            </Switch>\n          </div>\n        </AuthProvider>\n      </Router>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}