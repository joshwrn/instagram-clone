/*! For license information please see main.a9fd1e17.chunk.js.LICENSE.txt */
(this["webpackJsonpinstagram-clone"]=this["webpackJsonpinstagram-clone"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){e.exports={container:"notifications__item_container__1yM2P",link:"notifications__item_link__3hOpB",start:"notifications__item_start__2ocM7",inlineLink:"notifications__item_inlineLink__1--60",avatar:"notifications__item_avatar__219i9",displayName:"notifications__item_displayName__26U78",type:"notifications__item_type__3Zr01",comment:"notifications__item_comment__179RZ",time:"notifications__item_time__1DF0D",end:"notifications__item_end__1FRJa",preview:"notifications__item_preview__2Gl5Z",followed:"notifications__item_followed__11sP7"}},,,,function(e,t,a){e.exports={card:"home__card_card__2sHQP",container:"home__card_container__3FNNr",header:"home__card_header__3ovQp",left:"home__card_left__1PALM",right:"home__card_right__1i2gX",moreIcon:"home__card_moreIcon__2vM0f",avatar:"home__card_avatar__3MGtB",userInfo:"home__card_userInfo__2cLzI",displayName:"home__card_displayName__7HfBN",username:"home__card_username__34P_n",loading:"home__card_loading__2QkXo",imageLink:"home__card_imageLink__2RV1k",imageContainer:"home__card_imageContainer__1RtBx",imageBlur:"home__card_imageBlur__3Fsus",fade:"home__card_fade__pgDB5",footer:"home__card_footer__bNT0h",firstChild:"home__card_firstChild__91m9Q",icon:"home__card_icon__3nf38",likeIcon:"home__card_likeIcon__KyPef",likedIcon:"home__card_likedIcon__vmcUU",likes:"home__card_likes__1jaSS",commentContainer:"home__card_commentContainer__3NPTZ",comments:"home__card_comments__3yI7V",viewAll:"home__card_viewAll__fGZIx",comment:"home__card_comment__3PIpk",commentUser:"home__card_commentUser__Ik6t9",commentBox:"home__card_commentBox__1QqXP",commentForm:"home__card_commentForm__1SaOC",inputBox:"home__card_inputBox__2asqY",send:"home__card_send__2sMlQ"}},function(e,t,a){e.exports={sidebar:"post__sidebar_sidebar__1YPF_",top:"post__sidebar_top__21Mkr",captionContainer:"post__sidebar_captionContainer__2c0JN",caption:"post__sidebar_caption__W_02G",profileContainer:"post__sidebar_profileContainer__ibpB4",imageContainer:"post__sidebar_imageContainer__2ZuwF",profileImg:"post__sidebar_profileImg__2vkBk",profileImgBlur:"post__sidebar_profileImgBlur__XX4s9",nameContainer:"post__sidebar_nameContainer__3M3xj",username:"post__sidebar_username__3VqLl",footer:"post__sidebar_footer__229P6",firstChild:"post__sidebar_firstChild__1h18G",left:"post__sidebar_left__1uD9N",postIcon:"post__sidebar_postIcon__1W7WJ",icon:"post__sidebar_icon__3qkzm",likeIcon:"post__sidebar_likeIcon__CnAyT",infoContainer:"post__sidebar_infoContainer__1Jo2W",likedIcon:"post__sidebar_likedIcon__2erUk",likes:"post__sidebar_likes__1DALb",time:"post__sidebar_time__v5OtV",commentBox:"post__sidebar_commentBox__3jXZb",commentForm:"post__sidebar_commentForm__1fGTQ",input:"post__sidebar_input__2B6eA",send:"post__sidebar_send__Tr8bk"}},function(e,t,a){e.exports={settings:"settings_settings__9u3LA",container:"settings_container__18EBM",inner:"settings_inner__2goxT",bannerOverlayContainer:"settings_bannerOverlayContainer__1a5-V",bannerContainer:"settings_bannerContainer__20k-A",bannerImage:"settings_bannerImage__15Txo",bannerOverlay:"settings_bannerOverlay__qYlci",bannerIcon:"settings_bannerIcon__1rCI-",fileInput:"settings_fileInput__3FRbV",containerBar:"settings_containerBar__3Fnh_",profileOverlayContainer:"settings_profileOverlayContainer__sv8mm",profileOverlay:"settings_profileOverlay__u2bwa",profileIcon:"settings_profileIcon__3Vztt",textInputs:"settings_textInputs__1uTn7",textForm:"settings_textForm__YkGB2",inputContainer:"settings_inputContainer__22DOQ",input:"settings_input__UedIy",inputBoxDisplay:"settings_inputBoxDisplay__1OlvB",bioInput:"settings_bioInput__1IfAn",textBtn:"settings_textBtn__2JGIG",profileBtnContainer:"settings_profileBtnContainer__1_waZ",profileLink:"settings_profileLink__AGTBJ",profileBtn:"settings_profileBtn__1XiRR"}},,function(e,t,a){e.exports={sidebar:"profile__sidebar_sidebar__11uI9",usernames:"profile__sidebar_usernames__2-Ej_",displayName:"profile__sidebar_displayName__32glH",username:"profile__sidebar_username__1lHqL",postsContainer:"profile__sidebar_postsContainer__dRmP9",posts:"profile__sidebar_posts__1m6Os",userInfo:"profile__sidebar_userInfo__3NNvr",followersContainer:"profile__sidebar_followersContainer__34jdX",followingContainer:"profile__sidebar_followingContainer__3WIfo",followers:"profile__sidebar_followers__3D63L",following:"profile__sidebar_following__dXkzD",bio:"profile__sidebar_bio__6RyiG",bioHeader:"profile__sidebar_bioHeader__37niP",bioText:"profile__sidebar_bioText__1kXZt",nameLoading:"profile__sidebar_nameLoading__3M-ki",usernameLoading:"profile__sidebar_usernameLoading__1hAcZ",countersLoading:"profile__sidebar_countersLoading__3mFop",counterLoading:"profile__sidebar_counterLoading__1Ei56",inner:"profile__sidebar_inner__2y690",secondContainer:"profile__sidebar_secondContainer__2xred"}},function(e,t,a){e.exports={signUp:"sign-up_signUp__3JQa-",container:"sign-up_container__2CyWt",header:"sign-up_header__1Zol_",logoImg:"sign-up_logoImg__2ff0k",headerText:"sign-up_headerText__bsPde",formContainer:"sign-up_formContainer__29uuM",form:"sign-up_form__2GaCi",input:"sign-up_input__DYRKx",username:"sign-up_username__r2qOp",inputBox:"sign-up_inputBox__3TbGG",helperDiv:"sign-up_helperDiv__11z-p",nameHelper:"sign-up_nameHelper__1nPlw",signUpButton:"sign-up_signUpButton__A-8pd",or:"sign-up_or__2zICN",loginButton:"sign-up_loginButton__27dxH",notFoundContainer:"sign-up_notFoundContainer__L38_P",returnButton:"sign-up_returnButton__16Xch"}},function(e,t,a){e.exports={sidebar:"home__sidebar_sidebar__2VErq",container:"home__sidebar_container__DlNFV",profileContainer:"home__sidebar_profileContainer__1Hj6U",imageContainer:"home__sidebar_imageContainer__3Dz61",profileImg:"home__sidebar_profileImg__FK7ho",profileImgBlur:"home__sidebar_profileImgBlur__1t9ik",fade:"home__sidebar_fade__2XToe",nameContainer:"home__sidebar_nameContainer__3AgZm",username:"home__sidebar_username__oT5hs",stats:"home__sidebar_stats__1Qcls",postsLink:"home__sidebar_postsLink__2eTUA",statContainer:"home__sidebar_statContainer__3QtT5",stat:"home__sidebar_stat__8FJQH",number:"home__sidebar_number__2PJPU"}},function(e,t,a){e.exports={nav:"nav_nav__2IZUq",inner:"nav_inner__1nPzn",logoImg:"nav_logoImg__24lEx",logo:"nav_logo__CMH12",searchInput:"nav_searchInput__15DXk",icons:"nav_icons__1fxg9",icon:"nav_icon__1b4zK",person:"nav_person__11phe",add:"nav_add__3-fUK",home:"nav_home__3uWMI",heart:"nav_heart__3F2Wn",chat:"nav_chat__1pLBE",notiBadge:"nav_notiBadge__27rz0",profileLink:"nav_profileLink__2SjbY",notiContainer:"nav_notiContainer__JP-pH"}},function(e,t,a){e.exports={item:"message__item_item__1jw6X",itemSent:"message__item_itemSent__1IAFq",topGroup:"message__item_topGroup__386cL",group:"message__item_group__1EZ-5",bubble:"message__item_bubble__3_pNB",bubbleSent:"message__item_bubbleSent__59KVa",avatar:"message__item_avatar__3YRR0",avatarContainer:"message__item_avatarContainer__1j7ho"}},,function(e,t,a){e.exports={profile:"profile_profile__2doWq",header:"profile_header__1Yb_V",hero:"profile_hero__2QdAq",outer:"profile_outer__1p7TJ",inner:"profile_inner__2CtB1",topSection:"profile_topSection__1wQVw",imgContainer:"profile_imgContainer__1WOy9",avatar:"profile_avatar__3Q1Q_",avatarBlur:"profile_avatarBlur__13Y7Q",topRight:"profile_topRight__3x1sY",topIconRow:"profile_topIconRow__1scaU",profileBtn:"profile_profileBtn__3bsBB",actionBtn:"profile_actionBtn__3Arth",heroLoading:"profile_heroLoading__Yzhmf",avatarLoading:"profile_avatarLoading__1ljvT"}},,function(e,t,a){e.exports={modal:"profile__upload_modal__2twt5",anim:"profile__upload_anim__1Fwgk",container:"profile__upload_container__1df1f",header:"profile__upload_header__1jaGB",close:"profile__upload_close__27-of",topContainer:"profile__upload_topContainer__1J5J0",uploadContainer:"profile__upload_uploadContainer__2nae4",upload:"profile__upload_upload__1PAGV",buttonContainer:"profile__upload_buttonContainer__1BnPN",fileInput:"profile__upload_fileInput__3j4Tt",preview:"profile__upload_preview__32czN",captionContainer:"profile__upload_captionContainer__2jDje",captionInput:"profile__upload_captionInput__28M9u",postButton:"profile__upload_postButton__3QQHD",saveBtn:"profile__upload_saveBtn__m24jl",loader:"profile__upload_loader__HMsSE"}},function(e,t,a){e.exports={modal:"profile__followers-modal_modal__3tB3X",anim:"profile__followers-modal_anim__7L6jl",container:"profile__followers-modal_container__3Ilil",header:"profile__followers-modal_header___ZpoR",activeHeader:"profile__followers-modal_activeHeader__D2ll_",inactiveHeader:"profile__followers-modal_inactiveHeader__3FSOY",tabs:"profile__followers-modal_tabs__2Os3r",close:"profile__followers-modal_close__3INQ1",listContainer:"profile__followers-modal_listContainer__3sGKP",listItem:"profile__followers-modal_listItem__3C5g1",start:"profile__followers-modal_start__Htzo2",avatarContainer:"profile__followers-modal_avatarContainer__1qNpa",names:"profile__followers-modal_names__2HesW",displayName:"profile__followers-modal_displayName__1moWv",username:"profile__followers-modal_username__3a7X3",link:"profile__followers-modal_link__OguEg",profileBtn:"profile__followers-modal_profileBtn__X2YLQ",dummy:"profile__followers-modal_dummy__2d3Ba"}},,function(e,t,a){e.exports={image:"post__loading_image__2GqsN",profileImg:"post__loading_profileImg__3bWxo",displayName:"post__loading_displayName__lC7S4",username:"post__loading_username__2Qn2z",commentProfile:"post__loading_commentProfile__29s--",comment:"post__loading_comment__2IcMu",gradientMove:"post__loading_gradientMove__1S51o"}},function(e,t,a){e.exports={container:"nav__user-menu_container__Fqcgp",inner:"nav__user-menu_inner__2kALp",option:"nav__user-menu_option__3-4qX",icon:"nav__user-menu_icon__3xZXt"}},,function(e,t,a){e.exports={viewAll:"post__comment-section_viewAll__2sS96",comments:"post__comment-section_comments__1kE_m",commentContainer:"post__comment-section_commentContainer__2Pa15",start:"post__comment-section_start__3HJtG",comment:"post__comment-section_comment__3yWT0",user:"post__comment-section_user__1KlxN",time:"post__comment-section_time__rFzjS"}},,,function(e,t,a){e.exports={container:"home__card__overlay_container__1j5BI",fade:"home__card__overlay_fade__1rCNh",header:"home__card__overlay_header__3YKgv",close:"home__card__overlay_close__7bNL4",main:"home__card__overlay_main__2TswB",share:"home__card__overlay_share__3gvBr",input:"home__card__overlay_input__2scVn",button:"home__card__overlay_button__2zKPy",scale:"home__card__overlay_scale__2xr_s"}},,,,,function(e,t,a){e.exports={feedContainer:"profile__feed_feedContainer__jw4N6",feed:"profile__feed_feed__l-_-A",outer:"profile__feed_outer__8KF2v",notFound:"profile__feed_notFound__2QW_f",notFoundButton:"profile__feed_notFoundButton__3EUiW",loaderContainer:"profile__feed_loaderContainer__1_UKL",endFeed:"profile__feed_endFeed__3rMZw"}},function(e,t,a){e.exports={active:"messagesContact_active__1S8BW",container:"messagesContact_container__SpyKz",avatarContainer:"messagesContact_avatarContainer__37Pi8",name:"messagesContact_name__2HHlB",infoContainer:"messagesContact_infoContainer__XcOI9",message:"messagesContact_message__1rt-A",time:"messagesContact_time__3r9Eq"}},,function(e,t,a){e.exports={container:"nav__search__item_container__1rbtQ",link:"nav__search__item_link__Lw8K0",start:"nav__search__item_start__1udLh",avatar:"nav__search__item_avatar__XDZQW",displayName:"nav__search__item_displayName__2aH4p",type:"nav__search__item_type__2UESu"}},function(e,t,a){e.exports={card:"profile__card_card__7TO71",container:"profile__card_container__29ku9",link:"profile__card_link__1YrJR",blur:"profile__card_blur__3aW37",fade:"profile__card_fade__4kdFJ",overlay:"profile__card_overlay__2wOy9",icon:"profile__card_icon__15nv5",loading:"profile__card_loading__1HL9C"}},function(e,t,a){e.exports={container:"post__menu_container__OSM0B",inner:"post__menu_inner__gfhKj",option:"post__menu_option__2wYKe",icon:"post__menu_icon__25HJ1",postIcon:"post__menu_postIcon__3jcva"}},function(e,t,a){e.exports={post:"post_post__3I_6Y",notFoundContainer:"post_notFoundContainer__3MkKm",returnButton:"post_returnButton__3Ndd_",container:"post_container__3XRbe",image:"post_image__3qomB"}},function(e,t,a){e.exports={modal:"messages__create-menu_modal__1w8N3",anim:"messages__create-menu_anim__2L1bg",container:"messages__create-menu_container__2gz1S",header:"messages__create-menu_header__1ZwAq",close:"messages__create-menu_close__EwgDx",listContainer:"messages__create-menu_listContainer__3hZ35",listItem:"messages__create-menu_listItem__3RlRm",start:"messages__create-menu_start__1kCYO",avatarContainer:"messages__create-menu_avatarContainer__1ONU6",names:"messages__create-menu_names__279M1",displayName:"messages__create-menu_displayName__u7u3V",username:"messages__create-menu_username__2CyxC",link:"messages__create-menu_link__3LbMr"}},function(e,t,a){e.exports={messages:"messages_messages__-1auM",navBg:"messages_navBg__1VcBn",sidebar:"messages_sidebar__2VM5P",header:"messages_header__2uzVi",userAvatarContainer:"messages_userAvatarContainer__5qf6h",userAvatarBlur:"messages_userAvatarBlur__2zJW5",backArrowContainer:"messages_backArrowContainer__1vB9S",headerTitle:"messages_headerTitle__3-WO_",createIconContainer:"messages_createIconContainer__XW38m",createIcon:"messages_createIcon__Mu0Dc",contactsContainer:"messages_contactsContainer__1MVn_",main:"messages_main__1Rz6i",messageArea:"messages_messageArea__LK28x",messageBox:"messages_messageBox__twOZU",messageForm:"messages_messageForm__3c1jY",input:"messages_input__1GR5Q",send:"messages_send__-681q",hide:"messages_hide__3IS7P",remove:"messages_remove__2ZUm_",backArrow:"messages_backArrow__9s_d-",dummy:"messages_dummy__gznXD",AnimationName:"messages_AnimationName__3AIOs"}},,function(e,t,a){e.exports={container:"notifications_container__10GIh",inner:"notifications_inner__22gY9",loader:"notifications_loader__1Yk7U",none:"notifications_none__2563n"}},function(e,t,a){e.exports={container:"nav__search_container__3vsLD",inner:"nav__search_inner__3Zkl4",loader:"nav__search_loader__vOsvU",noResults:"nav__search_noResults__3MwRg"}},,,,,,function(e,t,a){e.exports={loginButtons:"home__login_loginButtons__IDFl8",signUp:"home__login_signUp__2PU0T",login:"home__login_login__5UjpF"}},function(e,t,a){e.exports={container:"home__feed_container__2yUKA",loaderContainer:"home__feed_loaderContainer__3_m91",noPosts:"home__feed_noPosts__j8c7Y"}},,,,,function(e,t,a){e.exports={home:"home_home__2aVVP",inner:"home_inner__2gif9"}},function(e,t,a){e.exports={modal:"profile__avatar__modal_modal__3nLy6",anim:"profile__avatar__modal_anim__1S14a",avatar:"profile__avatar__modal_avatar__3eoW1"}},,,,,,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(4),s=a.n(n),r=a(56),c=a.n(r),o=(a(76),a(10)),i=a(14),l=a(6),u=a.n(l),d=a(9),m=a(5),_=a(11),j=a.p+"static/media/logo-2.6eea3ec0.png",b=a(65),f=a(33),p=a.n(f),h=document.documentElement,O=function(){h.style.setProperty("--primary-font-color","white"),h.style.setProperty("--nav-background-color","rgba(0, 0, 0, 0.733)"),h.style.setProperty("--primary-transparent-color","rgba(0, 0, 0, 0.93)"),h.style.setProperty("--user-menu-font-color","white"),h.style.setProperty("--primary-background-color","black"),h.style.setProperty("--primary-border","1px solid rgb(41, 41, 41)"),h.style.setProperty("--secondary-border","1px solid rgb(41, 41, 41)"),h.style.setProperty("--loading-gradient","linear-gradient(to right, #000000, #353535)"),h.style.setProperty("--messages-sidebar-background","rgba(0, 0, 0, 0.87)"),h.style.setProperty("--messages-bubble-background","#303030"),h.style.setProperty("--menu-hover-color","rgba(255, 255, 255, 0.1)"),h.style.setProperty("--notification-type-color","rgb(221, 221, 221)"),h.style.setProperty("--home-card-overlay","rgba(0, 0, 0, 0.85)")},v=function(){h.style.setProperty("--primary-font-color","black"),h.style.setProperty("--nav-background-color","rgba(255, 255, 255, 0.733)"),h.style.setProperty("--primary-transparent-color","rgba(255, 255, 255, 0.98)"),h.style.setProperty("--user-menu-font-color","black"),h.style.setProperty("--primary-background-color","white"),h.style.setProperty("--primary-border","1px solid rgb(41, 41, 41, 0)"),h.style.setProperty("--secondary-border","1px solid rgb(206, 206, 206)"),h.style.setProperty("--loading-gradient","linear-gradient(to right, #ffffff, #c2c2c2)"),h.style.setProperty("--messages-sidebar-background","rgba(255, 255, 255, 0.87)"),h.style.setProperty("--messages-bubble-background","#d3d3d3"),h.style.setProperty("--menu-hover-color","rgba(0, 0, 0, 0.1)"),h.style.setProperty("--notification-type-color","rgb(75, 75, 75)"),h.style.setProperty("--home-card-overlay","rgba(255, 255, 255, 0.85)")},x=a(40),g=(a(81),a(82),x.a.initializeApp({apiKey:"AIzaSyCwfoTkDf5qlDr4tbQuLdZougihD_lQpp4",authDomain:"insta-a107a.firebaseapp.com",projectId:"insta-a107a",storageBucket:"insta-a107a.appspot.com",messagingSenderId:"204534536828",appId:"1:204534536828:web:2d27af0da59fbf73dac7f9"}),function(){var e=new x.a.auth.GoogleAuthProvider;x.a.auth().signInWithPopup(e)}),N=x.a.firestore.FieldValue,y=(x.a.firestore.FieldValue.serverTimestamp(),x.a.auth()),w=x.a.firestore(),C=x.a.storage().ref(),k=x.a.storage(),I=a(1),P=function(e){var t=e.setOpenMenu,a=e.currentUser,n=e.logout,s=e.theme,r=e.setTheme,c=function(e){if(e.preventDefault(),"light"===s)O(),r("dark"),a&&w.collection("users").doc(a.uid).set({theme:"dark"},{merge:!0});else if("dark"===s){if(v(),r("light"),a)w.collection("users").doc(a.uid).set({theme:"light"},{merge:!0})}};return Object(I.jsx)("div",{onClick:function(e){e.preventDefault(),t(!1)},className:p.a.container,children:Object(I.jsx)("div",{className:p.a.inner,children:a?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(o.c,{className:p.a.option,to:"/profile/".concat(a.uid),children:[Object(I.jsx)(_.o,{className:p.a.icon}),Object(I.jsx)("div",{children:Object(I.jsx)("p",{children:"Profile"})})]}),Object(I.jsxs)("div",{onClick:c,className:p.a.option,children:[Object(I.jsx)(b.a,{className:p.a.icon}),Object(I.jsx)("p",{children:"Change Theme"})]}),Object(I.jsxs)("div",{onClick:n,className:p.a.option,children:[Object(I.jsx)(_.k,{className:p.a.icon}),Object(I.jsx)("p",{children:"Logout"})]})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(o.b,{className:p.a.option,to:"/sign-up",children:[Object(I.jsx)(_.n,{className:p.a.icon}),Object(I.jsx)("div",{children:Object(I.jsx)("p",{children:"Sign Up"})})]}),Object(I.jsxs)("div",{onClick:c,className:p.a.option,children:[Object(I.jsx)(b.a,{className:p.a.icon}),Object(I.jsx)("p",{children:"Change Theme"})]})]})})})},S=a(24),D=a.n(S),B=function(e,t){var a=(t-e)/1e3;if(a<30)return"now";if(a<60){var n=Math.floor(a);return"".concat(n,"s")}if(a>=60&&a<3600){var s=Math.floor(a/60);return"".concat(s,"m")}if(a>=3600&&a<86400){var r=Math.floor(a/3600);return"".concat(r,"h")}if(a>=86400&&a<604800){var c=Math.floor(a/86400);return"".concat(c,"d")}if(a>=604800&&a<2592e3){var o=Math.floor(a/604800);return"".concat(o,"w")}if(a>=2592e3&&a<31536e3){var i=Math.floor(a/2592e3);return"".concat(i).concat(1===i?"mth":"mths")}if(a>=31536e3){var l=Math.floor(a/31536e3);return"".concat(l).concat(1===l?"yr":"yrs")}},L=a(13),E=a.n(L),F=function(e){var t=e.item,a=e.userProfile,s=Object(n.useState)(),r=Object(m.a)(s,2),c=r[0],i=r[1],l=Object(n.useState)(),j=Object(m.a)(l,2),b=j[0],f=j[1],p=Object(n.useState)(),h=Object(m.a)(p,2),O=h[0],v=h[1],x=Object(n.useState)(),g=Object(m.a)(x,2),N=g[0],y=g[1],C=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.collection("users").doc(t.user).get();case 2:a=e.sent,i(a.data());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(u.a.mark((function e(){var n,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.collection("users").doc(a.userID).collection("posts").doc(t.post).get();case 2:s=e.sent,r=null===(n=s.data())||void 0===n?void 0:n.src,f(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){C(),"liked"!==t.type&&"comment"!==t.type||k()}),[]),Object(n.useEffect)((function(){var e=Date.now(),a=B(t.time,e);y(a)}),[]),Object(n.useEffect)((function(){c&&b?("liked"===t.type&&v(Object(I.jsx)(o.b,{className:E.a.link,to:"/post/".concat(a.userID,"/").concat(t.post),children:Object(I.jsxs)("div",{className:E.a.container,children:[Object(I.jsxs)("div",{className:E.a.start,children:[Object(I.jsxs)(o.b,{className:E.a.inlineLink,to:"/profile/".concat(t.user),children:[Object(I.jsx)("div",{className:E.a.avatarContainer,children:Object(I.jsx)("img",{className:E.a.avatar,src:c.profilePhoto,alt:""})}),Object(I.jsx)("div",{className:E.a.displayName,children:c.displayName})]}),Object(I.jsx)("div",{className:E.a.type,children:"liked your post."})]}),Object(I.jsxs)("div",{className:E.a.end,children:[Object(I.jsx)("span",{className:E.a.time,children:"".concat(N)}),Object(I.jsx)("img",{className:E.a.preview,src:b,alt:""})]})]})})),"comment"===t.type&&v(Object(I.jsx)(o.b,{className:E.a.link,to:"/post/".concat(a.userID,"/").concat(t.post),children:Object(I.jsxs)("div",{className:E.a.container,children:[Object(I.jsxs)("div",{className:E.a.start,children:[Object(I.jsxs)(o.b,{className:E.a.inlineLink,to:"/profile/".concat(t.user),children:[Object(I.jsx)("div",{className:E.a.avatarContainer,children:Object(I.jsx)("img",{className:E.a.avatar,src:c.profilePhoto,alt:""})}),Object(I.jsx)("div",{className:E.a.displayName,children:c.displayName})]}),Object(I.jsx)("div",{className:E.a.type,children:"left a comment:"}),Object(I.jsx)("div",{className:E.a.comment,children:t.comment.length>=15?t.comment.substring(0,15)+"...":t.comment})]}),Object(I.jsxs)("div",{className:E.a.end,children:[Object(I.jsx)("span",{className:E.a.time,children:"".concat(N)}),Object(I.jsx)("img",{className:E.a.preview,src:b,alt:""})]})]})}))):c&&"followed"===t.type&&v(Object(I.jsx)(o.b,{className:E.a.link,to:"/profile/".concat(t.user),children:Object(I.jsxs)("div",{className:E.a.container,children:[Object(I.jsxs)("div",{className:E.a.start,children:[Object(I.jsx)("div",{className:E.a.avatarContainer,children:Object(I.jsx)("img",{className:E.a.avatar,src:c.profilePhoto,alt:""})}),Object(I.jsx)("div",{className:E.a.displayName,children:c.displayName}),Object(I.jsx)("div",{className:E.a.type,children:"followed you."})]}),Object(I.jsxs)("div",{className:E.a.end,children:[Object(I.jsx)("span",{className:E.a.time,children:"".concat(N)}),Object(I.jsx)(_.m,{className:E.a.followed})]})]})}))}),[b,c]),Object(I.jsx)(I.Fragment,{children:c&&O})},U=s.a.createContext();function A(){return Object(n.useContext)(U)}function R(e){var t=e.children,a=Object(n.useState)(),s=Object(m.a)(a,2),r=s[0],c=s[1],o=Object(n.useState)(),l=Object(m.a)(o,2),_=l[0],j=l[1],b=Object(n.useState)(),f=Object(m.a)(b,2),p=f[0],h=f[1],O=Object(n.useState)(!0),v=Object(m.a)(O,2),x=v[0],C=v[1],k=Object(i.e)();Object(n.useEffect)((function(){return y.onAuthStateChanged((function(e){c(e),C(!1)}))}),[]);var P=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.collection("users").doc(r.uid).get();case 2:t=e.sent,j(t.data());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){if(r&&P(),p&&r)return w.collection("users").doc(r.uid).get().then((function(e){e.exists||(y.signOut(),h(!1))}))}),[r]);var S=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,s,c,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===r){e.next=24;break}return e.next=3,w.collection("users").doc(r.uid).get();case 3:if(e.sent.exists){e.next=23;break}return e.next=7,w.collection("users").where("username","==",t).get().then((function(e){return e.forEach((function(e){a=e.data()}))}));case 7:if(void 0!==a){e.next=20;break}return n=r.displayName.toLowerCase(),s=Date.now(),e.next=12,w.collection("users").doc(r.uid).set({displayName:r.displayName,searchName:n,profilePhoto:r.photoURL,banner:"https://firebasestorage.googleapis.com/v0/b/insta-a107a.appspot.com/o/default-banner.jpg?alt=media&token=d3c53902-0e3a-4761-8705-8991db9d7b68",bio:"Hi my name is ".concat(r.displayName),username:t,userID:r.uid,joinDate:r.metadata.creationTime,lastPostDate:0,likedPosts:[],postsCounter:0,followers:[],following:["e9x1NbFsE8VqLAqAKfbpHkH0QS93"],messagesCounter:0,notifications:[],theme:"light"}).catch((function(e){console.error("Error writing new message to database",e)}));case 12:return c=function(){w.collection("users").doc(r.uid).collection("messages").doc("e9x1NbFsE8VqLAqAKfbpHkH0QS93").set({messages:[{message:"Hi ".concat(r.displayName,", Thanks for signing up and testing my project. Please look around and test all the features you can. You can reply to this message if you'd like, but I might not see it. So, to get in touch please email me at joshnwarren@gmail.com."),time:s,user:"e9x1NbFsE8VqLAqAKfbpHkH0QS93"}],time:s,user:"e9x1NbFsE8VqLAqAKfbpHkH0QS93"})},o=function(){w.collection("users").doc("e9x1NbFsE8VqLAqAKfbpHkH0QS93").update({followers:N.arrayUnion(r.uid)})},i=function(){w.collection("users").doc("e9x1NbFsE8VqLAqAKfbpHkH0QS93").update({notifications:N.arrayUnion({user:r.uid,type:"followed",time:s})})},e.next=17,Promise.all([c(),o(),i()]);case 17:k.push("/settings"),e.next=21;break;case 20:y.signOut();case 21:e.next=24;break;case 23:k.push("/");case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D={currentUser:r,userProfile:_,getUserProfile:P,login:function(){g(),h(!0)},logout:function(){return j(null),k.push("/"),y.signOut()},firebaseRegister:S};return Object(I.jsx)(U.Provider,{value:D,children:!x&&t})}var M=a(53),H=a.n(M),T=function(e){var t,a=e.handleNoti,s=e.setCurrentNotis,r=e.notiArray,c=A(),o=c.userProfile,l=c.getUserProfile,u=Object(n.useState)(!0),d=Object(m.a)(u,2),_=d[0],j=d[1],b=Object(i.e)();return Object(n.useEffect)((function(){o?l():(b.push("/sign-up"),a())}),[]),Object(n.useEffect)((function(){o&&j(!1)}),[o]),Object(n.useEffect)((function(){_||s(0)}),[_]),_&&(t=Object(I.jsx)("div",{className:"".concat(H.a.loader," loader")})),_||(t=r&&r.length>0?r.map((function(e){return Object(I.jsx)(F,{userProfile:o,item:e},e.time)})):Object(I.jsx)("p",{className:H.a.none,children:"No Notifications"})),Object(I.jsx)("div",{onClick:a,className:H.a.container,children:Object(I.jsx)("div",{className:H.a.inner,children:t})})},q=a(46),V=a.n(q),z=function(e){var t=e.item,a=e.setOpenSearch,n=e.setSearchInput,s=Object(i.e)();return Object(I.jsx)("div",{onClick:function(){s.push("/profile/".concat(t.userID)),a(!1),n("")},className:V.a.container,children:Object(I.jsx)("div",{className:V.a.container,children:Object(I.jsxs)("div",{className:V.a.start,children:[Object(I.jsx)("div",{className:V.a.avatarContainer,children:Object(I.jsx)("img",{className:V.a.avatar,src:t.profilePhoto,alt:""})}),Object(I.jsx)("div",{className:V.a.displayName,children:t.displayName}),Object(I.jsxs)("div",{className:V.a.type,children:["@",t.username]})]})})})},Q=a(54),K=a.n(Q),G=function(e){var t,a=e.searchInput,s=e.setOpenSearch,r=e.setSearchInput,c=e.searchRef,o=Object(n.useState)([]),i=Object(m.a)(o,2),l=i[0],_=i[1],j=Object(n.useState)(!0),b=Object(m.a)(j,2),f=b[0],p=b[1];return Object(n.useEffect)((function(){var e=function(e){c.current&&!c.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===a){e.next=7;break}return p(!0),t=[],e.next=5,w.collection("users").where("searchName",">=",a.toLowerCase()).where("searchName","<=",a.toLowerCase()+"\uf8ff").limit(5).get().then((function(e){return e.forEach((function(e){t.push(e.data())}))}));case 5:_(t),p(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),f&&(t=Object(I.jsx)("div",{className:"loader ".concat(K.a.loader)})),f||(t=Object(I.jsxs)(I.Fragment,{children:[0===l.length&&Object(I.jsx)("p",{className:K.a.noResults,children:"No Results"}),l.map((function(e){return Object(I.jsx)(z,{setSearchInput:r,setOpenSearch:s,item:e})}))]})),Object(I.jsx)("div",{ref:c,className:K.a.container,children:Object(I.jsx)("div",{className:K.a.inner,children:t})})},Z=function(e,t){var a;return function(){var n=arguments,s=this;clearTimeout(a),a=setTimeout((function(){e.apply(s,n)}),t)}},W=function(e){!1===e?document.body.classList.add("stop-scrolling"):document.body.classList.remove("stop-scrolling")},X=function(e,t,a,n){var s=e.target.files[0];if(s&&s.size<5e6){var r=new FileReader;r.readAsDataURL(s),r.onload=function(e){var s=document.createElement("img");s.src=e.target.result,s.onload=function(e){var s=document.createElement("canvas"),r=n,c=r/e.target.width;s.width=r,s.height=e.target.height*c;var o=s.getContext("2d");o.drawImage(e.target,0,0,s.width,s.height);var i=o.canvas.toDataURL(e.target,"image/jpeg");"none"!==t&&t(i),o.canvas.toBlob((function(e){a(e)}),"image/jpeg",.7)}}}},Y=a(29),J=a.n(Y),$=function(e){var t=e.getModal,a=e.setNewPost,s=Object(n.useState)(null),r=Object(m.a)(s,2),c=r[0],o=r[1],i=Object(n.useState)(""),l=Object(m.a)(i,2),j=l[0],b=l[1],f=Object(n.useState)(!1),p=Object(m.a)(f,2),h=p[0],O=p[1],v=Object(n.useState)(),x=Object(m.a)(v,2),g=x[0],N=x[1],y=A(),k=y.userProfile,P=y.getUserProfile,S=function(){var e=Object(d.a)(u.a.mark((function e(n){var s,r,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Date.now(),n.preventDefault(),O(!0),e.next=5,w.collection("users").doc(k.userID).collection("posts").add({date:s,likes:[],comments:[],caption:j,userID:k.userID});case 5:return r=e.sent,o=C.child("".concat(k.userID,"/").concat(r.id)),e.next=9,o.put(c);case 9:return e.next=11,o.getDownloadURL();case 11:return i=e.sent,e.next=14,r.set({src:i},{merge:!0});case 14:return e.next=16,w.collection("users").doc(k.userID).set({postsCounter:k.postsCounter+1,lastPostDate:s},{merge:!0});case 16:if(t(n),O(!1),P(),a){e.next=21;break}return e.abrupt("return");case 21:a((function(e){return e+1}));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)("div",{className:J.a.modal,children:Object(I.jsxs)("div",{className:J.a.container,children:[Object(I.jsxs)("div",{className:J.a.header,children:[Object(I.jsx)("h3",{children:"Create New Post"}),Object(I.jsx)(_.e,{onClick:t,className:J.a.close})]}),Object(I.jsxs)("div",{className:J.a.topContainer,children:[Object(I.jsx)("img",{style:g?null:{display:"none"},className:J.a.preview,src:g,alt:""}),Object(I.jsx)("div",{style:g&&{display:"none"},className:J.a.uploadContainer,children:Object(I.jsxs)("label",{className:J.a.buttonContainer,children:[Object(I.jsx)("input",{onChange:function(e){var t=e.target.files[0];t&&t.size<5e6?X(e,N,o,1e3):o(null)},type:"file",accept:"image/jpeg, image/png, image/jpg",className:J.a.fileInput}),Object(I.jsx)(_.f,{className:J.a.upload}),Object(I.jsx)("p",{children:null===c?"File size limit 5 mb.":"ready to post"})]})}),Object(I.jsx)("div",{children:Object(I.jsx)("div",{className:J.a.captionContainer,children:Object(I.jsx)("textarea",{className:J.a.captionInput,name:"caption",maxLength:"150",placeholder:"Enter Caption...",onChange:function(e){e.preventDefault(),b(e.target.value)}})})})]}),h?Object(I.jsx)("div",{className:"".concat(J.a.loader," loader")}):Object(I.jsx)("button",{onClick:null!==c?S:function(e){e.preventDefault()},type:"submit",className:null===c?J.a.postButton:J.a.saveBtn,children:"Post"})]})})},ee=function(){var e=A(),t=e.currentUser,a=e.logout,s=e.userProfile,r=Object(n.useState)("light"),c=Object(m.a)(r,2),l=c[0],b=c[1],f=Object(n.useState)(!1),p=Object(m.a)(f,2),h=p[0],x=p[1],g=Object(n.useState)(!1),N=Object(m.a)(g,2),y=N[0],C=N[1],k=Object(n.useState)(!1),S=Object(m.a)(k,2),B=S[0],L=S[1],E=Object(n.useState)(0),F=Object(m.a)(E,2),U=F[0],R=F[1],M=Object(n.useState)([]),H=Object(m.a)(M,2),q=H[0],V=H[1],z=Object(n.useState)(""),Q=Object(m.a)(z,2),K=Q[0],X=Q[1],Y=Object(n.useState)(""),J=Object(m.a)(Y,2),ee=J[0],te=J[1],ae=Object(n.useState)(!1),ne=Object(m.a)(ae,2),se=ne[0],re=ne[1],ce=Object(i.e)(),oe=function(e){if(e.preventDefault(),!s)return ce.push("/sign-up");re(!se),W(se)},ie=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return",ce.push("/sign-up"));case 2:if(!y){e.next=6;break}C(!1),e.next=12;break;case 6:return V(s.notifications),R(0),C(!0),t=w.collection("users").doc(s.userID),e.next=12,t.set({notifications:[]},{merge:!0});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=Object(n.useRef)(),ue=Object(n.useRef)();Object(n.useEffect)((function(){var e=function(e){le.current&&!le.current.contains(e.target)&&x(!1),ue.current&&!ue.current.contains(e.target)&&C(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),Object(n.useEffect)((function(){if(s&&s.notifications){var e=s.notifications.length;R(e)}s&&s.theme&&("dark"===s.theme?(O(),b("dark")):"light"===s.theme&&(v(),b("light")))}),[s]);var de=Object(n.useCallback)(Z((function(e){return X(e)}),500),[]),me=Object(n.useRef)();return Object(I.jsx)(I.Fragment,{children:se?Object(I.jsx)($,{getModal:oe}):Object(I.jsx)("div",{className:D.a.nav,children:Object(I.jsxs)("div",{className:D.a.inner,children:[Object(I.jsx)(o.b,{to:"/",children:Object(I.jsxs)("div",{className:D.a.logo,children:[Object(I.jsx)("img",{className:D.a.logoImg,src:j,alt:""}),Object(I.jsx)("h2",{children:"Instagram"})]})}),Object(I.jsxs)("div",{className:D.a.search,children:[Object(I.jsx)("form",{autoComplete:"off",children:Object(I.jsx)("input",{ref:me,onChange:function(e){te(e.target.value),de(e.target.value)},value:ee,className:D.a.searchInput,onClick:function(e){e.preventDefault(),!B&&L(!0)},type:"text",placeholder:"Search"})}),B&&""!==K?Object(I.jsx)(G,{setSearchInput:X,searchInput:K,setOpenSearch:L,searchRef:me}):null]}),Object(I.jsxs)("div",{className:D.a.icons,children:[Object(I.jsx)(o.c,{exact:!0,to:"/",children:Object(I.jsx)(_.i,{className:D.a.icon+" "+D.a.home})}),Object(I.jsx)(o.c,{exact:!0,to:s?"/messages":"/sign-up",children:Object(I.jsx)(_.c,{className:D.a.icon+" "+D.a.chat})}),Object(I.jsx)(_.a,{onClick:oe,className:D.a.icon+" "+D.a.add}),Object(I.jsxs)("div",{onClick:ie,className:D.a.notiContainer,ref:ue,children:[Object(I.jsx)(_.h,{className:D.a.icon+" "+D.a.heart}),U>0?Object(I.jsx)("div",{className:D.a.notiBadge,children:U}):null,y&&Object(I.jsx)(T,{notiArray:q,setCurrentNotis:R,handleNoti:ie})]}),Object(I.jsxs)("div",{className:"user-menu-container",ref:le,children:[Object(I.jsx)(o.c,{className:D.a.profileLink,onClick:function(e){return e.preventDefault()},exact:!0,to:"/profile/".concat(null===t||void 0===t?void 0:t.uid),children:Object(I.jsx)(_.p,{onClick:function(e){e.preventDefault(),x(!h)},className:D.a.icon+" "+D.a.person})}),h&&Object(I.jsx)(P,{theme:l,setTheme:b,setOpenMenu:x,logout:a,currentUser:t})]})]})]})})})},te=a(60),ae=a.n(te),ne=function(){var e=A(),t=e.login,a=e.currentUser;return Object(I.jsx)("div",{children:!a&&Object(I.jsxs)("div",{className:ae.a.loginButtons,children:[Object(I.jsx)(o.b,{id:"home__sidebar__sign-up",to:"/sign-up",children:Object(I.jsx)("button",{className:ae.a.signUp,children:"Sign Up"})}),Object(I.jsx)("button",{className:ae.a.login,onClick:function(e){e.preventDefault(),t()},children:"Login"})]})})},se=a(12),re=a(30),ce=a.n(re),oe=function(e){var t=e.Styles,a=e.currentUser,s=e.match,r=e.currentProfile,c=e.getUserObject,o=e.handleFollowers,l=Object(n.useState)(!1),_=Object(m.a)(l,2),j=_[0],b=_[1],f=A().userProfile,p=Object(i.e)();Object(n.useEffect)((function(){var e=null===r||void 0===r?void 0:r.followers.includes(null===f||void 0===f?void 0:f.userID);b(!!e)}),[r]);var h=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),f){e.next=3;break}return e.abrupt("return",p.push("/sign-up"));case 3:return a=w.collection("users").doc(s),n=w.collection("users").doc(f.userID),e.next=7,a.update({followers:N.arrayUnion(f.userID)});case 7:return e.next=9,n.update({following:N.arrayUnion(r.userID)});case 9:return e.next=11,a.update({notifications:N.arrayUnion({user:f.userID,type:"followed",time:Date.now()})});case 11:c();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=w.collection("users").doc(s),n=w.collection("users").doc(f.userID),e.next=5,a.update({followers:N.arrayRemove(f.userID)});case 5:return e.next=7,n.update({following:N.arrayRemove(r.userID)});case 7:c();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=Object(I.jsx)("button",{onClick:h,className:t.profileBtn,children:"Follow"});return j&&(v=Object(I.jsx)("button",{onClick:O,className:t.profileBtn,children:"Unfollow"})),(null===a||void 0===a?void 0:a.uid)===s&&(v=Object(I.jsx)("button",{onClick:function(e){e.preventDefault(),o&&o(e),p.push("/settings")},className:t.profileBtn,children:"Edit Profile"})),Object(I.jsx)(I.Fragment,{children:v})},ie=function(e){var t=e.src,a=e.position,s=void 0===a?"relative":a,r=e.width,c=void 0===r?"100%":r,o=e.height,i=void 0===o?"100%":o,l=e.transition,u=void 0===l?.7:l,d=e.cursor,_=void 0===d?"pointer":d,j=e.borderRadius,b=void 0===j?"0":j,f=e.shadow,p=void 0===f?"none":f,h=e.zIndex,O=void 0===h?"1":h,v=Object(n.useState)(!0),x=Object(m.a)(v,2),g=x[0],N=x[1],y={width:c,height:i,position:s,zIndex:O,background:"var(--loading-gradient)",backgroundSize:"200%",animation:"2s linear infinite gradientMove",display:"block",borderRadius:b,boxShadow:p},w={width:c,height:i,position:s,zIndex:O,background:"var(--loading-gradient)",backgroundSize:"200%",animation:"none",display:"block",borderRadius:b,boxShadow:p},C={position:s,width:c,height:i,objectFit:"cover",objectPosition:"center",cursor:_,opacity:"1",transition:"opacity ".concat(u,"s"),borderRadius:b,boxShadow:p},k={position:s,width:c,height:i,opacity:"0",borderRadius:b};return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("div",{style:g?y:w,children:Object(I.jsx)("img",{style:g?k:C,onLoad:function(){N(!1)},src:t,alt:""})})})},le=function(e){var t=e.item,a=e.Styles,s=e.handleFollowers,r=e.currentTab,c=e.currentUser,o=Object(n.useState)(null),l=Object(m.a)(o,2),_=l[0],j=l[1],b=Object(i.e)(),f=function(){var e=Object(d.a)(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.collection("users").doc(t),e.next=3,a.get();case 3:n=e.sent,j(n.data());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){f()}),[r]);return Object(I.jsxs)("div",{className:a.listItem,children:[Object(I.jsxs)("div",{onClick:function(e){e.preventDefault(),s(e),b.push("/profile/".concat(null===_||void 0===_?void 0:_.userID))},className:a.start,children:[Object(I.jsx)("div",{className:a.avatarContainer,children:Object(I.jsx)(ie,{src:null===_||void 0===_?void 0:_.profilePhoto,borderRadius:"100%"})}),Object(I.jsxs)("div",{className:a.names,children:[Object(I.jsx)("p",{className:a.displayName,children:null===_||void 0===_?void 0:_.displayName}),Object(I.jsxs)("p",{className:a.username,children:["@",null===_||void 0===_?void 0:_.username]})]})]}),Object(I.jsx)(oe,{currentProfile:_,match:null===_||void 0===_?void 0:_.userID,currentUser:c,getUserObject:f,Styles:a,handleFollowers:s})]})},ue=function(e,t){var a=Object(n.useState)(!1),s=Object(m.a)(a,2),r=s[0],c=s[1];return Object(n.useEffect)((function(){var a=new IntersectionObserver((function(e){if(Object(m.a)(e,1)[0].isIntersecting&&!r){if(!t)return c(!0);!1===t.current&&c(!0)}}),{root:null,rootMargin:"0px",threshold:.1});return e.current&&a.observe(e.current),function(){a.disconnect()}}),[e]),[r,c]},de=function(e){var t=e.openFollowers,a=e.handleFollowers,s=e.currentProfile,r=e.currentTab,c=e.setCurrentTab,o=e.currentUser,i=Object(n.useState)([]),l=Object(m.a)(i,2),u=l[0],d=l[1],j=Object(n.useRef)(),b=ue(j),f=Object(m.a)(b,2),p=f[0],h=f[1],O=function(e){e.preventDefault();var t=e.target.getAttribute("data-type");c(t)};Object(n.useEffect)((function(){if(s){var e=s.followers,t=s.following,a=("following"===r?t:e).slice(0).reverse().slice(0,10);d(Object(se.a)(a))}}),[r]);var v;return Object(n.useEffect)((function(){p&&function(){if(s){var e=s.followers,t=s.following,a=("following"===r?t:e).slice(0).reverse().slice(u.length,u.length+10),n=[].concat(Object(se.a)(u),Object(se.a)(a));d(n)}}()}),[p]),Object(n.useEffect)((function(){h(!1)}),[u]),"following"===r&&(v=u.map((function(e){return Object(I.jsx)(le,{currentTab:r,handleFollowers:a,item:e,Styles:ce.a,currentUser:o},e)}))),"followers"===r&&(v=u.map((function(e){return Object(I.jsx)(le,{currentTab:r,handleFollowers:a,item:e,Styles:ce.a,currentUser:o},e)}))),Object(I.jsx)(I.Fragment,{children:t&&Object(I.jsx)("div",{className:ce.a.modal,children:Object(I.jsxs)("div",{className:ce.a.container,children:[Object(I.jsxs)("div",{className:ce.a.header,children:[Object(I.jsxs)("div",{className:ce.a.tabs,children:[Object(I.jsx)("div",{onClick:O,"data-type":"following",className:"following"===r?ce.a.activeHeader:ce.a.inactiveHeader,children:Object(I.jsx)("h3",{"data-type":"following",children:"Following"})}),Object(I.jsx)("div",{onClick:O,"data-type":"followers",className:"followers"===r?ce.a.activeHeader:ce.a.inactiveHeader,children:Object(I.jsx)("h3",{"data-type":"followers",children:"Followers"})})]}),Object(I.jsx)(_.e,{onClick:a,className:ce.a.close})]}),Object(I.jsxs)("div",{className:ce.a.listContainer,children:[v,Object(I.jsx)("div",{className:ce.a.dummy,ref:j})]})]})})})},me=a(23),_e=a.n(me),je=function(e){var t=e.setNewPost,a=A().userProfile,s=Object(n.useState)(!1),r=Object(m.a)(s,2),c=r[0],i=r[1],l=Object(n.useState)(),u=Object(m.a)(l,2),d=u[0],j=u[1],b=Object(n.useState)(!1),f=Object(m.a)(b,2),p=f[0],h=f[1],O=function(e){e.preventDefault();var t=e.target.getAttribute("data-type");j(t),i(!c),W(c)},v=function(e){e.preventDefault(),h(!p),W(p)};return Object(I.jsxs)("div",{className:_e.a.sidebar,children:[Object(I.jsx)(de,{currentProfile:a,handleFollowers:O,setOpenFollowers:i,openFollowers:c,currentTab:d,setCurrentTab:j,currentUser:a}),p&&Object(I.jsx)($,{setNewPost:t,getModal:v}),Object(I.jsxs)("div",{className:_e.a.container,children:[a&&Object(I.jsx)(o.b,{to:"/profile/".concat(a.userID),children:Object(I.jsxs)("div",{className:_e.a.profileContainer,children:[Object(I.jsxs)("div",{className:_e.a.imageContainer,children:[Object(I.jsx)(ie,{src:a.profilePhoto,position:"absolute",width:"80px",height:"80px",cursor:"pointer",borderRadius:"100%"}),Object(I.jsx)("img",{className:_e.a.profileImgBlur,src:a.profilePhoto,alt:""})]}),Object(I.jsxs)("div",{className:_e.a.nameContainer,children:[Object(I.jsx)("h2",{className:_e.a.displayName,children:a.displayName}),Object(I.jsxs)("p",{className:_e.a.username,children:["@",a.username]})]})]})}),a&&Object(I.jsxs)("div",{className:_e.a.stats,children:[Object(I.jsxs)("div",{onClick:O,"data-type":"following",className:_e.a.statContainer,children:[Object(I.jsx)("div",{"data-type":"following",className:_e.a.stat,children:Object(I.jsx)("p",{"data-type":"following",className:_e.a.number,children:a.following.length})}),Object(I.jsx)("p",{"data-type":"following",children:"Following"})]}),Object(I.jsxs)("div",{onClick:O,"data-type":"followers",className:_e.a.statContainer,children:[Object(I.jsx)("div",{"data-type":"followers",className:_e.a.stat,children:Object(I.jsx)("p",{"data-type":"followers",className:_e.a.number,children:a.followers.length})}),Object(I.jsx)("p",{"data-type":"followers",children:"Followers"})]}),Object(I.jsx)(o.b,{className:_e.a.postsLink,to:"/profile/".concat(a.userID),children:Object(I.jsxs)("div",{className:_e.a.statContainer,children:[Object(I.jsx)("div",{className:_e.a.stat,children:Object(I.jsx)("p",{className:_e.a.number,children:a.postsCounter})}),Object(I.jsx)("p",{children:"Posts"})]})}),Object(I.jsxs)("div",{onClick:v,className:_e.a.statContainer,children:[Object(I.jsx)("div",{className:_e.a.stat,children:Object(I.jsx)(_.a,{})}),Object(I.jsx)("p",{children:"New Post"})]})]}),Object(I.jsx)(ne,{})]})]})},be=a(59),fe=a.n(be),pe=a(17),he=a.n(pe),Oe=function(e){var t=e.post,a=e.userID,s=e.setLikeState,r=Object(n.useState)(!1),c=Object(m.a)(r,2),o=c[0],l=c[1],j=A().userProfile,b=Object(i.e)(),f=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j&&j.likedPosts&&(j.likedPosts.includes(t.id)?l(!0):l(!1));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){f()}),[j]);var p=function(){var e=Object(d.a)(u.a.mark((function e(n){var r,c,i,d,m,_,f,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!j||!a){e.next=21;break}if(r=w.collection("users").doc(a).collection("posts").doc(t.id),c=w.collection("users").doc(j.userID),i=w.collection("users").doc(a),o){e.next=15;break}return l(!0),s((function(e){return e+1})),d=function(){r.update({likes:N.arrayUnion(j.userID)})},m=function(){c.update({likedPosts:N.arrayUnion(t.id)})},_=function(){i.update({notifications:N.arrayUnion({user:j.userID,type:"liked",post:t.id,time:Date.now()})})},e.next=13,Promise.all([_(),d(),m()]);case 13:e.next=19;break;case 15:return f=function(){l(!1),s((function(e){return e-1})),r.update({likes:N.arrayRemove(j.userID)})},p=function(){c.update({likedPosts:N.arrayRemove(t.id)})},e.next=19,Promise.all([f(),p()]);case 19:e.next=22;break;case 21:b.push("/sign-up");case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)(_.h,{onClick:p,className:o?he.a.likedIcon:he.a.likeIcon})},ve=function(e){var t=e.Styles,a=e.item,s=Object(n.useState)(),r=Object(m.a)(s,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.collection("users").doc(a.user),e.next=3,t.get();case 3:n=e.sent,i(n.data());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(I.jsx)(I.Fragment,{children:c&&Object(I.jsxs)("p",{className:t.comment,children:[Object(I.jsx)(o.b,{to:"/profile/".concat(c.userID),children:Object(I.jsx)("span",{className:t.commentUser,children:c.displayName})}),a.comment.length>=15?a.comment.substring(0,50)+"...":a.comment]})})},xe=function(e){var t=e.Styles,a=e.userID,s=e.post,r=Object(n.useState)([]),c=Object(m.a)(r,2),i=c[0],l=c[1],j=Object(n.useState)(""),b=Object(m.a)(j,2),f=b[0],p=b[1],h=A().userProfile;Object(n.useEffect)((function(){var e=s.data().comments,t=e.slice(Math.max(e.length-2,0));l(t)}),[s]);var O=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r,c,o,d,m,_;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!h){e.next=15;break}if(!(f.length>0&&f.length<100)){e.next=15;break}return n=Date.now(),r={time:n,comment:f,user:h.userID},(c=i.slice(Math.max(i.length-1,0))).push(r),o=w.collection("users").doc(a).collection("posts").doc(s.id),d=w.collection("users").doc(a),m=function(){o.update({comments:N.arrayUnion(r)})},_=function(){d.update({notifications:N.arrayUnion({user:h.userID,type:"comment",comment:f,post:s.id,time:n})})},e.next=13,Promise.all([_(),m()]);case 13:l(c),p("");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:t.comments,children:[Object(I.jsx)(o.b,{className:t.imageLink,to:"/Post/".concat(a,"/").concat(s.id),children:Object(I.jsx)("p",{className:t.viewAll,children:0===i.length?"No Comments":"View All Comments"})}),Object(I.jsx)("div",{className:t.commentContainer,children:i.map((function(e){return Object(I.jsx)(ve,{item:e,Styles:t},e.time)}))})]}),Object(I.jsxs)("div",{className:t.commentBox,children:[Object(I.jsx)("form",{onSubmit:O,className:t.commentForm,children:Object(I.jsx)("input",{className:t.inputBox,value:f,onChange:function(e){p(e.target.value)},type:"text",placeholder:"Add a comment...",maxLength:"99"})}),Object(I.jsx)(_.q,{onClick:O,className:t.send})]})]})},ge=function(e){var t=e.Styles,a=e.src,n=e.userID,s=e.postID;return Object(I.jsx)(o.b,{className:t.imageLink,to:"/Post/".concat(n,"/").concat(s),children:Object(I.jsx)("div",{className:t.imageContainer,children:Object(I.jsx)(ie,{src:a,cursor:"pointer"})})})},Ne=a(38),ye=a.n(Ne),we=function(e){var t,a=e.getModal,n=e.type,s=e.userID,r=e.post,c=A().userProfile,o=Object(i.e)(),l=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.collection("users").doc(s),n=w.collection("users").doc(c.userID),e.next=4,t.update({followers:N.arrayRemove(c.userID)});case 4:return e.next=6,n.update({following:N.arrayRemove(s)});case 6:a();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(e){o.push("/".concat(e))};return"share"===n&&(t=Object(I.jsxs)("div",{className:ye.a.share,children:[Object(I.jsx)("input",{className:ye.a.input,value:"".concat(window.location.href,"post/").concat(s,"/").concat(r.id)}),Object(I.jsx)("button",{onClick:function(){!function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}("".concat(window.location.href,"post/").concat(s,"/").concat(r.id)),a()},className:ye.a.button,children:"Copy Link"})]})),"follow"===n&&(c||(t=Object(I.jsx)("button",{onClick:function(){m("sign-up")},className:ye.a.button,children:"Login"})),c&&(c.userID===s&&(t=Object(I.jsx)("button",{onClick:function(){m("settings")},className:ye.a.button,children:"Edit Profile"})),c.userID!==s&&(t=Object(I.jsx)("button",{onClick:l,className:ye.a.button,children:"Unfollow"})))),Object(I.jsxs)("div",{className:ye.a.container,children:[Object(I.jsx)("div",{className:ye.a.header,children:Object(I.jsx)(_.e,{onClick:a,className:ye.a.close})}),Object(I.jsx)("div",{className:ye.a.main,children:t})]})},Ce=function(e){var t=e.post,a=Object(n.useState)(),s=Object(m.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)(),l=Object(m.a)(i,2),j=l[0],b=l[1],f=t.data(),p=f.src,h=f.userID,O=f.likes,v=Object(n.useState)(!1),x=Object(m.a)(v,2),g=x[0],N=x[1],y=Object(n.useState)(),C=Object(m.a)(y,2),k=C[0],P=C[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.collection("users").doc(h).get();case 2:t=e.sent,c(t.data()),b(O.length);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var S=function(e){N(!g),P(e)};return Object(I.jsx)(I.Fragment,{children:t&&r?Object(I.jsxs)("div",{className:he.a.card,children:[Object(I.jsxs)("div",{className:he.a.container,children:[g&&Object(I.jsx)(we,{getModal:S,userID:h,type:k,post:t}),Object(I.jsxs)("div",{className:he.a.header,children:[Object(I.jsx)(o.b,{to:"/profile/".concat(h),children:Object(I.jsxs)("div",{className:he.a.left,children:[Object(I.jsx)("img",{src:r.profilePhoto,alt:"",className:he.a.avatar}),Object(I.jsxs)("div",{className:he.a.userInfo,children:[Object(I.jsx)("p",{className:he.a.displayName,children:r.displayName}),Object(I.jsxs)("p",{className:he.a.username,children:["@",r.username]})]})]})}),Object(I.jsx)("div",{className:he.a.right,children:Object(I.jsx)(fe.a,{onClick:function(){S("follow")},className:he.a.moreIcon})})]}),Object(I.jsx)(ge,{Styles:he.a,postID:t.id,userID:h,src:p}),Object(I.jsxs)("div",{className:he.a.footer,children:[Object(I.jsxs)("div",{className:he.a.firstChild,children:[Object(I.jsxs)("div",{className:he.a.left,children:[Object(I.jsx)(Oe,{setLikeState:b,post:t,userID:h}),Object(I.jsx)(o.b,{className:he.a.chatLink,to:"/Post/".concat(h,"/").concat(t.id),children:Object(I.jsx)(_.c,{className:he.a.icon})}),Object(I.jsx)(o.b,{className:he.a.chatLink,to:"/Post/".concat(h,"/").concat(t.id),children:Object(I.jsx)(_.r,{className:he.a.icon})})]}),Object(I.jsx)(_.s,{className:he.a.icon,onClick:function(){S("share")}})]}),Object(I.jsx)(o.b,{className:he.a.imageLink,to:"/Post/".concat(h,"/").concat(t.id),children:Object(I.jsxs)("p",{className:he.a.likes,children:[j," likes"]})}),Object(I.jsx)(xe,{Styles:he.a,userID:h,post:t})]})]}),Object(I.jsx)("img",{className:he.a.imageBlur+" blur",src:p,alt:""})]}):null})},ke=a(61),Ie=a.n(ke),Pe=function(e){var t=e.newPost,a=A().userProfile,s=Object(n.useState)([]),r=Object(m.a)(s,2),c=r[0],o=r[1],i=Object(n.useState)([]),l=Object(m.a)(i,2),_=l[0],j=l[1],b=Object(n.useState)(),f=Object(m.a)(b,2),p=f[0],h=f[1],O=Object(n.useState)(!1),v=Object(m.a)(O,2),x=v[0],g=v[1],N=Object(n.useRef)(!1),y=Object(n.useRef)(),C=ue(y,N),k=Object(m.a)(C,2),P=k[0],S=k[1],D=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,s,r,c,o,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],"first"!==t){e.next=8;break}return n.push(a),e.next=5,w.collection("users").where("followers","array-contains",a.userID).orderBy("lastPostDate","desc").limit(5).get();case 5:s=e.sent,e.next=25;break;case 8:if("infinite"!==t){e.next=17;break}if(a){e.next=12;break}return S(!1),e.abrupt("return",g(!0));case 12:return e.next=14,w.collection("users").where("followers","array-contains",a.userID).orderBy("lastPostDate","desc").startAfter(p).limit(5).get();case 14:s=e.sent,e.next=25;break;case 17:if("none"!==t){e.next=25;break}return e.next=20,w.collection("users").doc("e9x1NbFsE8VqLAqAKfbpHkH0QS93").get();case 20:return r=e.sent,n.push(r.data()),e.next=24,w.collection("users").where("followers","array-contains","e9x1NbFsE8VqLAqAKfbpHkH0QS93").orderBy("lastPostDate","desc").limit(10).get();case 24:s=e.sent;case 25:if(s.forEach((function(e){n.push(e.data())})),"infinite"!==t||s.docs[s.docs.length-1]){e.next=31;break}return S(!1),g(!0),N.current=!0,e.abrupt("return");case 31:return h(s.docs[s.docs.length-1]),c=n.map(function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.collection("users").doc(t.userID).collection("posts").orderBy("date","desc").limit(5).get();case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=35,Promise.all(c);case 35:return o=e.sent,i=[],o.forEach((function(e){e.forEach((function(e){i.push(e)}))})),l=i.sort((function(e,t){return t.data().date-e.data().date})),e.abrupt("return",l);case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("none");case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("first");case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){if(c){var e=c.slice(_.length,_.length+2),t=[].concat(Object(se.a)(_),Object(se.a)(e));j(t)}};Object(n.useEffect)((function(){E()}),[c]);var F=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=3;break}return S(!1),e.abrupt("return");case 3:return e.next=5,D("infinite");case 5:if(t=e.sent){e.next=8;break}return e.abrupt("return");case 8:a=[].concat(Object(se.a)(c),Object(se.a)(t)),o(a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){a?L():B()}),[a]),Object(n.useEffect)(Object(d.a)(u.a.mark((function e(){var n,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t){e.next=2;break}return e.abrupt("return");case 2:return n=[],e.next=5,w.collection("users").doc(a.userID).collection("posts").orderBy("date","desc").limit(1).get();case 5:if(s=e.sent){e.next=8;break}return e.abrupt("return");case 8:s.forEach((function(e){n.push(e)})),r=[].concat(n,Object(se.a)(_)),j(r),window.scrollTo(0,0);case 12:case"end":return e.stop()}}),e)}))),[t]),Object(n.useEffect)((function(){P&&(_.length===c.length?F():E())}),[P]),Object(n.useEffect)((function(){S(!1)}),[_]),Object(I.jsxs)("div",{className:Ie.a.container,children:[_.map((function(e){return Object(I.jsx)(Ce,{post:e},e.id)})),Object(I.jsxs)("div",{ref:y,className:"".concat(Ie.a.loaderContainer),children:[P&&Object(I.jsx)("div",{className:"loader"}),x&&Object(I.jsx)("div",{className:Ie.a.noPosts,children:"No More Posts"})]})]})},Se=a(66),De=a.n(Se);function Be(){var e=Object(i.f)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var Le=function(){var e=Object(n.useState)(0),t=Object(m.a)(e,2),a=t[0],s=t[1];return Object(I.jsxs)("div",{className:De.a.home,children:[Object(I.jsx)(Be,{}),Object(I.jsxs)("div",{className:De.a.inner,children:[Object(I.jsx)(Pe,{newPost:a}),Object(I.jsx)(je,{setNewPost:s})]})]})},Ee=a(34),Fe=a(21),Ue=a.n(Fe),Ae=function(e){var t,a=e.currentProfile,s=e.loaded,r=e.currentUser,c=Object(n.useState)(!1),o=Object(m.a)(c,2),i=o[0],l=o[1],u=Object(n.useState)(),d=Object(m.a)(u,2),_=d[0],j=d[1],b=function(e){e.preventDefault();var t=e.target.getAttribute("data-type");j(t),l(!i),W(i)};return!1===s&&(t=Object(I.jsxs)("div",{className:Ue.a.sidebar,children:[Object(I.jsxs)("div",{className:Ue.a.usernames,children:[Object(I.jsx)("div",{className:"".concat(Ue.a.nameLoading," gradientLoad")}),Object(I.jsx)("div",{className:"".concat(Ue.a.usernameLoading," gradientLoad")})]}),Object(I.jsxs)("div",{className:"".concat(Ue.a.counterLoading),children:[Object(I.jsx)("div",{className:"".concat(Ue.a.counterLoading," gradientLoad")}),Object(I.jsx)("div",{className:"".concat(Ue.a.counterLoading," gradientLoad")}),Object(I.jsx)("div",{className:"".concat(Ue.a.counterLoading," gradientLoad")})]})]})),!0===s&&(t=Object(I.jsxs)("div",{className:Ue.a.sidebar,children:[Object(I.jsxs)("div",{className:Ue.a.usernames,children:[Object(I.jsx)("h2",{className:Ue.a.displayName,children:a.displayName}),Object(I.jsxs)("h3",{className:Ue.a.username,children:["@",a.username]})]}),Object(I.jsxs)("div",{className:Ue.a.secondContainer,children:[Object(I.jsxs)("div",{className:Ue.a.postsContainer,children:[Object(I.jsx)("h3",{children:a.postsCounter}),Object(I.jsx)("p",{className:Ue.a.posts,children:"Posts"})]}),i&&Object(I.jsx)(de,{currentProfile:a,handleFollowers:b,setOpenFollowers:l,openFollowers:i,currentTab:_,setCurrentTab:j,currentUser:r}),Object(I.jsxs)("div",{className:Ue.a.userInfo,children:[Object(I.jsxs)("div",{onClick:b,"data-type":"following",className:Ue.a.followingContainer,children:[Object(I.jsxs)("h3",{"data-type":"following",children:[" ",a.following.length," "]}),Object(I.jsx)("p",{"data-type":"following",className:Ue.a.following,children:"Following"})]}),Object(I.jsxs)("div",{"data-type":"followers",onClick:b,className:Ue.a.followersContainer,children:[Object(I.jsx)("h3",{"data-type":"followers",children:a.followers.length}),Object(I.jsx)("p",{"data-type":"followers",className:Ue.a.followers,children:"Followers"})]})]})]}),Object(I.jsxs)("div",{className:Ue.a.bio,children:[Object(I.jsx)("h3",{className:Ue.a.bioHeader,children:"Bio"}),Object(I.jsx)("p",{className:Ue.a.bioText,children:a.bio})]})]})),Object(I.jsx)(I.Fragment,{children:t})},Re=a(47),Me=a.n(Re),He=function(e){var t=e.src,a=e.match,n=e.postId,s=e.likes,r=e.comments;return Object(I.jsxs)("div",{className:Me.a.card,children:[Object(I.jsx)("div",{className:Me.a.container,children:Object(I.jsxs)(o.b,{className:Me.a.link,to:"/post/".concat(a.params.uid,"/").concat(n),children:[Object(I.jsxs)("div",{className:Me.a.overlay,children:[Object(I.jsxs)("div",{className:Me.a.icon,children:[Object(I.jsx)(_.h,{})," ",Object(I.jsx)("p",{children:s.length})]}),Object(I.jsxs)("div",{className:Me.a.icon,children:[Object(I.jsx)(_.c,{}),Object(I.jsx)("p",{children:r.length})]})]}),Object(I.jsx)(ie,{src:t,borderRadius:"9px"})]})}),Object(I.jsx)("img",{className:Me.a.blur,src:t,alt:""})]})},Te=a(43),qe=a.n(Te),Ve=function(e){var t=e.firestore,a=e.match,s=e.newPost,r=e.noPosts,c=Object(n.useState)([]),o=Object(m.a)(c,2),i=o[0],l=o[1],_=Object(n.useState)(),j=Object(m.a)(_,2),b=j[0],f=j[1],p=Object(n.useState)(!1),h=Object(m.a)(p,2),O=h[0],v=h[1],x=Object(n.useRef)(!1),g=Object(n.useRef)(),N=ue(g,x),y=Object(m.a)(N,2),w=y[0],C=y[1],k=function(){var e=Object(d.a)(u.a.mark((function e(){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],b){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.collection("users").doc(a.params.uid).collection("posts").orderBy("date","desc").startAfter(b).limit(8).get();case 5:return s=e.sent,e.next=8,s.forEach((function(e){e.complete=!1,n.push(e)}));case 8:if(s.docs[s.docs.length-1]){e.next=13;break}return C(!1),v(!0),x.current=!0,e.abrupt("return");case 13:return f(s.docs[s.docs.length-1]),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(u.a.mark((function e(){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,t.collection("users").doc(a.params.uid).collection("posts").orderBy("date","desc").limit(8).get();case 3:return s=e.sent,e.next=6,s.forEach((function(e){e.complete=!1,n.push(e)}));case 6:return f(s.docs[s.docs.length-1]),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:a=[].concat(Object(se.a)(i),Object(se.a)(t)),l(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return D()}),[s]),Object(n.useEffect)((function(){D(),v(!1),x.current=!1}),[a]),Object(n.useEffect)((function(){C(!1)}),[i]),Object(n.useEffect)((function(){w&&!O&&S()}),[w]),Object(I.jsx)(I.Fragment,{children:r?Object(I.jsx)("div",{className:qe.a.outer,children:Object(I.jsx)("div",{className:qe.a.notFound,children:Object(I.jsx)("div",{className:qe.a.notFoundContainer,children:Object(I.jsx)("button",{className:qe.a.notFoundButton,children:"No Posts"})})})}):Object(I.jsxs)("div",{className:qe.a.feedContainer,children:[Object(I.jsx)("div",{className:qe.a.feed,children:i.map((function(e){return Object(I.jsx)(He,{src:e.data().src,match:a,postId:e.id,likes:e.data().likes,comments:e.data().comments},e.id)}))}),Object(I.jsxs)("div",{ref:g,className:"".concat(qe.a.loaderContainer),children:[w&&Object(I.jsx)("div",{className:"loader"}),O&&i.length>6?Object(I.jsx)("div",{className:qe.a.endFeed,children:"No More Posts"}):null]})]})})},ze=a(67),Qe=a.n(ze),Ke=function(e){var t=e.src,a=e.getAvatarModal;return Object(I.jsx)("div",{onClick:a,className:Qe.a.modal,children:Object(I.jsx)("img",{className:Qe.a.avatar,src:t,alt:""})})},Ge=a(27),Ze=a.n(Ge),We=function(e){var t=Object(n.useState)(),a=Object(m.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!1),o=Object(m.a)(c,2),l=o[0],u=o[1],d=Object(n.useState)(!1),j=Object(m.a)(d,2),b=j[0],f=j[1],p=Object(n.useState)(0),h=Object(m.a)(p,2),O=h[0],v=h[1],x=Object(n.useState)(!1),g=Object(m.a)(x,2),N=g[0],y=g[1],C=e.match,k=A(),P=k.currentUser,S=k.userProfile,D=Object(n.useState)(!1),B=Object(m.a)(D,2),L=B[0],E=B[1],F=Object(n.useState)([{image:"avatar",loading:!0},{image:"banner",loading:!0}]),U=Object(m.a)(F,2),R=U[0],M=U[1],H=Object(i.e)();Object(n.useEffect)((function(){s&&R.every((function(e){return!1===e.loading}))&&E(!0)}),[R]);var T=function(e){var t=e.target.alt,a=R.findIndex((function(e){return e.image===t}));M((function(e){return Object(se.a)(e)}),Object(Ee.a)({},R[a],R[a].loading=!1))},q=function(){w.collection("users").doc(C.params.uid).get().then((function(e){e.exists&&r(e.data())}))};Object(n.useEffect)((function(){return y(!1),q()}),[O]),Object(n.useEffect)((function(){q(),y(!1)}),[C]);var V=function(e){e.preventDefault(),u(!l),W(l)},z=function(e){e.preventDefault(),f(!b),W(b)},Q=Object(I.jsx)("button",{onClick:function(){if(!S)return H.push("/sign-up");H.push("/messages/".concat(s.userID))},className:Ze.a.actionBtn,children:Object(I.jsx)(_.q,{className:"action-icon"})});return(null===P||void 0===P?void 0:P.uid)===C.params.uid&&(Q=Object(I.jsx)("button",{onClick:z,className:Ze.a.actionBtn,children:Object(I.jsx)(_.b,{className:"action-icon"})})),Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:Ze.a.profile,children:[Object(I.jsx)(Be,{}),Object(I.jsxs)("div",{className:Ze.a.header,children:[Object(I.jsx)("div",{className:"".concat(Ze.a.heroLoading," gradientLoad"),style:L?{display:"none"}:null}),Object(I.jsx)("img",{className:Ze.a.hero,src:null===s||void 0===s?void 0:s.banner,alt:"banner",onLoad:T,style:L?null:{display:"none"}})]}),Object(I.jsx)("div",{className:Ze.a.outer,children:Object(I.jsxs)("div",{className:Ze.a.topSection,children:[Object(I.jsxs)("div",{className:Ze.a.imgContainer,children:[Object(I.jsx)("div",{style:L?{display:"none"}:null,className:"".concat(Ze.a.avatarLoading," gradientLoad")}),Object(I.jsx)("img",{onClick:V,className:Ze.a.avatar,src:null===s||void 0===s?void 0:s.profilePhoto,alt:"avatar",onLoad:T,style:L?null:{display:"none"}}),Object(I.jsx)("img",{className:Ze.a.avatarBlur,src:null===s||void 0===s?void 0:s.profilePhoto,alt:"",style:L?null:{display:"none"}})]}),l&&Object(I.jsx)(Ke,{getAvatarModal:V,src:null===s||void 0===s?void 0:s.profilePhoto}),Object(I.jsxs)("div",{className:Ze.a.topRight,children:[Object(I.jsxs)("div",{className:Ze.a.topIconRow,children:[Object(I.jsx)(oe,{firestore:w,Styles:Ze.a,currentUser:P,match:C.params.uid,currentProfile:s,getUserObject:q}),Q]}),b&&Object(I.jsx)($,{setNewPost:v,getModal:z})]})]})}),Object(I.jsxs)("div",{className:Ze.a.inner,children:[Object(I.jsx)(Ae,{loaded:L,firestore:w,match:C,currentProfile:s,currentUser:P,getUserObject:q}),Object(I.jsx)(Ve,{newPost:O,setLoading:M,loading:R,loaded:L,firestore:w,match:C,currentProfile:s,noPosts:N,setNoPosts:y})]})]})})},Xe=a(49),Ye=a.n(Xe),Je=a(32),$e=a.n(Je),et=a(35),tt=a.n(et),at=function(e){var t=e.comment,a=e.user,s=e.time,r=Object(n.useState)(null),c=Object(m.a)(r,2),i=c[0],l=c[1],_=Object(n.useState)(),j=Object(m.a)(_,2),b=j[0],f=j[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.collection("users").doc(a),e.next=3,t.get();case 3:n=e.sent,l(n.data());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),function(){var e=Date.now(),t=B(s,e);f(t)}()}),[]),Object(I.jsxs)("div",{className:tt.a.commentContainer,children:[Object(I.jsxs)("div",{className:tt.a.start,children:[Object(I.jsx)(o.b,{to:"/profile/".concat(a),children:Object(I.jsx)(ie,{src:null===i||void 0===i?void 0:i.profilePhoto,width:"27px",height:"27px",borderRadius:"100%"})}),Object(I.jsxs)("p",{className:tt.a.comment,children:[Object(I.jsx)("span",{className:tt.a.user,children:Object(I.jsxs)(o.b,{to:"/profile/".concat(a),children:[null===i||void 0===i?void 0:i.displayName," "]})}),t]})]}),Object(I.jsx)("p",{className:tt.a.time,children:b})]})},nt=function(e){var t=e.loaded,a=e.currentPost,s=Object(n.useState)([]),r=Object(m.a)(s,2),c=r[0],o=r[1],i=Object(n.useRef)(),l=ue(i),u=Object(m.a)(l,2),d=u[0],_=u[1];return Object(n.useEffect)((function(){d&&function(){if(a){var e=a.comments.slice(0).reverse().slice(c.length,c.length+10),t=[].concat(Object(se.a)(c),Object(se.a)(e));o(t)}}()}),[d]),Object(n.useEffect)((function(){!function(){if(a){var e=a.comments.slice(0).reverse().slice(0,10);o(e)}}()}),[a]),Object(n.useEffect)((function(){_(!1)}),[c]),Object(I.jsx)("div",{className:tt.a.commentsContainer,children:Object(I.jsxs)("div",{className:tt.a.comments,children:[t?Object(I.jsx)(I.Fragment,{children:c.map((function(e){return Object(I.jsx)(at,{time:e.time,comment:e.comment,user:e.user},e.time)}))}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:tt.a.commentContainer,children:[Object(I.jsx)("div",{className:$e.a.commentProfile}),Object(I.jsx)("div",{className:$e.a.comment})]}),Object(I.jsxs)("div",{className:tt.a.commentContainer,children:[Object(I.jsx)("div",{className:$e.a.commentProfile}),Object(I.jsx)("div",{className:$e.a.comment})]}),Object(I.jsxs)("div",{className:tt.a.commentContainer,children:[Object(I.jsx)("div",{className:$e.a.commentProfile}),Object(I.jsx)("div",{className:$e.a.comment})]})]}),Object(I.jsx)("div",{ref:i})]})})},st=a(48),rt=a.n(st),ct=function(e){var t,a=e.ownPost,s=e.match,r=e.currentPost,c=e.firestore,o=e.storage,l=Object(n.useState)(!1),j=Object(m.a)(l,2),b=j[0],f=j[1],p=A().getUserProfile,h=Object(i.e)(),O=Object(n.useRef)(),v=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c.collection("users").doc(s.params.uid).collection("posts").doc(s.params.postid).delete();case 3:return a=o.refFromURL(r.src),e.next=6,a.delete();case 6:return e.next=8,c.collection("users").doc(s.params.uid).get();case 8:return n=e.sent,i=n.data(),e.next=12,c.collection("users").doc(s.params.uid).set({postsCounter:i.postsCounter-1},{merge:!0});case 12:return e.next=14,p();case 14:h.push("/profile/".concat(s.params.uid));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)};return Object(n.useEffect)((function(){var e=function(e){O.current&&!O.current.contains(e.target)&&f(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),t=Object(I.jsx)("div",{ref:O,className:rt.a.container,children:Object(I.jsxs)("div",{className:rt.a.inner,children:[Object(I.jsxs)("div",{onClick:function(){x(window.location.href),f(!1)},className:rt.a.option,children:[Object(I.jsx)(_.s,{className:rt.a.icon}),Object(I.jsx)("div",{children:Object(I.jsx)("p",{children:"Copy Link"})})]}),a?Object(I.jsxs)("div",{className:rt.a.option,onClick:v,children:[Object(I.jsx)(_.t,{className:rt.a.icon}),Object(I.jsx)("p",{children:"Delete"})]}):null]})}),Object(I.jsxs)("div",{children:[b?t:null,Object(I.jsx)(fe.a,{onClick:function(e){e.preventDefault(),f(!b)},className:rt.a.postIcon})]})},ot=a(18),it=a.n(ot),lt=function(e){var t=e.match,a=e.history,s=e.firestore,r=e.firestoreFieldValue,c=e.getCurrentPost,o=Object(n.useState)(!1),i=Object(m.a)(o,2),l=i[0],j=i[1],b=A(),f=b.userProfile,p=b.getUserProfile,h=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f&&f.likedPosts&&(f.likedPosts.includes(t.params.postid)?j(!0):j(!1));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){h()}),[f]);var O=function(){var e=Object(d.a)(u.a.mark((function e(n){var o,i,d,m,_,b,h,O;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!f){e.next=24;break}if(o=s.collection("users").doc(t.params.uid).collection("posts").doc(t.params.postid),i=s.collection("users").doc(f.userID),d=s.collection("users").doc(t.params.uid),l){e.next=16;break}return j(!0),m=function(){o.update({likes:r.arrayUnion(f.userID)})},_=function(){i.update({likedPosts:r.arrayUnion(t.params.postid)})},b=function(){d.update({notifications:r.arrayUnion({user:f.userID,type:"liked",post:t.params.postid,time:Date.now()})})},e.next=12,Promise.all([b(),m(),_()]);case 12:p(),c(),e.next=22;break;case 16:return h=function(){j(!1),o.update({likes:r.arrayRemove(f.userID)})},O=function(){i.update({likedPosts:r.arrayRemove(t.params.postid)})},e.next=20,Promise.all([h(),O()]);case 20:p(),c();case 22:e.next=25;break;case 24:a.push("/sign-up");case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)(_.h,{onClick:O,className:l?it.a.likedIcon:it.a.likeIcon})},ut=function(e){var t=e.Styles,a=e.IoSendOutline,s=e.firestore,r=e.match,c=e.firestoreFieldValue,o=e.getCurrentPost,l=Object(n.useState)(""),_=Object(m.a)(l,2),j=_[0],b=_[1],f=Object(i.e)(),p=A(),h=p.userProfile,O=p.getUserProfile,v=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,i,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=Date.now(),!h){e.next=15;break}if(!(j.length>0&&j.length<100)){e.next=13;break}return n=s.collection("users").doc(r.params.uid).collection("posts").doc(r.params.postid),i=s.collection("users").doc(r.params.uid),l=function(){n.update({comments:c.arrayUnion({user:h.userID,comment:j,time:a})})},d=function(){i.update({notifications:c.arrayUnion({user:h.userID,type:"comment",comment:j,post:r.params.postid,time:a})})},e.next=10,Promise.all([d(),l()]);case 10:O(),o(),b("");case 13:e.next=16;break;case 15:f.push("/sign-up");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{className:t.commentBox,children:[Object(I.jsx)("form",{className:t.commentForm,onSubmit:v,children:Object(I.jsx)("input",{onChange:function(e){e.preventDefault();var t=e.target.value;b(t)},className:t.input,type:"text",value:j,maxLength:"99",minLength:"1",placeholder:"Add a comment..."})}),Object(I.jsx)(a,{type:"submit",onClick:v,className:t.send})]})},dt=function(e){var t=e.match,a=e.loaded,s=e.handleLoad,r=e.postUser,c=e.currentPost,l=e.ownPost,u=e.getCurrentPost,d=Object(i.e)(),j=Object(n.useState)(""),b=Object(m.a)(j,2),f=b[0],p=b[1];return Object(n.useEffect)((function(){if(c){var e=B(c.date,Date.now());p(e)}}),[c]),Object(I.jsxs)("div",{className:it.a.sidebar,children:[Object(I.jsxs)("div",{className:it.a.top,children:[Object(I.jsx)(o.b,{to:"/profile/".concat(t.params.uid),children:Object(I.jsxs)("div",{className:it.a.profileContainer,children:[Object(I.jsxs)("div",{className:it.a.imageContainer,children:[Object(I.jsx)("div",{className:$e.a.profileImg+" gradientLoad",style:a?{display:"none"}:null}),Object(I.jsx)("img",{style:a?null:{display:"none"},onLoad:s,src:null===r||void 0===r?void 0:r.profilePhoto,alt:"avatar",className:it.a.profileImg}),Object(I.jsx)("img",{className:it.a.profileImgBlur,style:a?null:{display:"none"},src:null===r||void 0===r?void 0:r.profilePhoto,alt:""})]}),Object(I.jsxs)("div",{className:it.a.nameContainer,style:a?{display:"none"}:null,children:[Object(I.jsx)("div",{className:$e.a.displayName+" gradientLoad"}),Object(I.jsx)("div",{className:$e.a.username+" gradientLoad"})]}),Object(I.jsxs)("div",{className:it.a.nameContainer,style:a?null:{display:"none"},children:[Object(I.jsx)("h2",{className:it.a.displayName,children:null===r||void 0===r?void 0:r.displayName}),Object(I.jsxs)("p",{className:it.a.username,children:["@",null===r||void 0===r?void 0:r.username]})]})]})}),Object(I.jsx)("div",{className:it.a.captionContainer,children:Object(I.jsx)("p",{className:it.a.caption,children:null===c||void 0===c?void 0:c.caption})})]}),Object(I.jsx)(nt,{currentPost:c,loaded:a}),Object(I.jsxs)("div",{className:it.a.footer,children:[Object(I.jsxs)("div",{className:it.a.firstChild,children:[Object(I.jsxs)("div",{className:it.a.left,children:[Object(I.jsx)(lt,{Styles:it.a,match:t,history:d,IoHeartOutline:_.h,firestore:w,firestoreFieldValue:N,getCurrentPost:u}),Object(I.jsx)(_.c,{className:it.a.postIcon}),Object(I.jsx)(_.r,{className:it.a.postIcon})]}),Object(I.jsx)(ct,{storage:k,firestore:w,match:t,ownPost:l,currentPost:c})]}),Object(I.jsxs)("div",{className:it.a.infoContainer,children:[Object(I.jsxs)("p",{className:it.a.likes,children:[null===c||void 0===c?void 0:c.likes.length," likes"]}),Object(I.jsx)("p",{className:it.a.time,children:f})]}),Object(I.jsx)(ut,{firestore:w,match:t,firestoreFieldValue:N,IoSendOutline:_.q,Styles:it.a,getCurrentPost:u})]})]})},mt=function(e){var t=e.match,a=Object(n.useState)(),s=Object(m.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)(),l=Object(m.a)(i,2),_=l[0],j=l[1],b=Object(n.useState)(!1),f=Object(m.a)(b,2),p=f[0],h=f[1],O=Object(n.useState)([{image:"avatar",loading:!0},{image:"post",loading:!0}]),v=Object(m.a)(O,2),x=v[0],g=v[1],N=Object(n.useState)(!1),y=Object(m.a)(N,2),C=y[0],k=y[1],P=A(),S=P.currentUser,D=P.userProfile;Object(n.useEffect)((function(){S&&t.params.uid===S.uid&&h(!0)}),[_]);var B=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.collection("users").doc(t.params.uid).collection("posts").doc(t.params.postid).get();case 2:(a=e.sent).exists?c(a.data()):k("error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.collection("users").doc(t.params.uid).get();case 2:(a=e.sent).exists?j(a.data()):k("error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){B(),L()}),[t]),Object(n.useEffect)((function(){_&&r&&x.every((function(e){return!1===e.loading}))&&k(!0)}),[x]);var E,F=function(e){var t=e.target.alt,a=x.findIndex((function(e){return e.image===t}));g((function(e){return Object(se.a)(e)}),Object(Ee.a)({},x[a],x[a].loading=!1))};return E=Object(I.jsxs)("div",{className:Ye.a.post,children:[Object(I.jsx)(Be,{}),Object(I.jsxs)("div",{className:Ye.a.container,children:[Object(I.jsx)("div",{className:$e.a.image+" gradientLoad",style:C?{display:"none"}:null}),Object(I.jsx)("img",{style:C?null:{display:"none"},onLoad:F,src:null===r||void 0===r?void 0:r.src,alt:"post",className:Ye.a.image}),Object(I.jsx)(dt,{match:t,loaded:C,handleLoad:F,postUser:_,ownPost:p,currentPost:r,currentUser:S,userProfile:D,getCurrentPost:B})]})]}),"error"===C&&(E=Object(I.jsx)("div",{className:Ye.a.post,children:Object(I.jsxs)("div",{className:Ye.a.notFoundContainer,children:[Object(I.jsx)("h3",{children:"Post Not Found"}),Object(I.jsx)(o.b,{to:"/",children:Object(I.jsx)("button",{className:Ye.a.returnButton,children:"Return Home"})})]})})),Object(I.jsx)(I.Fragment,{children:E})},_t=a(22),jt=a.n(_t),bt=function(){var e=A(),t=e.login,a=e.currentUser,s=e.firebaseRegister,r=Object(n.useState)(""),c=Object(m.a)(r,2),i=c[0],l=c[1],_=Object(n.useState)(""),b=Object(m.a)(_,2),f=b[0],p=b[1],h=Object(n.useState)(!1),O=Object(m.a)(h,2),v=O[0],x=O[1],N=Object(n.useCallback)(Z((function(e){return function(e){e.preventDefault();var t=e.target.value.replace(/[^a-zA-Z\d]/gi,"").toLowerCase();l(t)}(e)}),500),[]);Object(n.useEffect)((function(){var e;(function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i.length>2)){t.next=4;break}return t.next=3,w.collection("users").where("username","==",i).get().then((function(t){return t.forEach((function(t){e=t.data()}))}));case 3:x(void 0!==e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[i]),Object(n.useEffect)((function(){return s(i)}),[a]);var y=Object(I.jsx)("p",{className:jt.a.nameHelper,children:"Name must be 3-15 characters."});return 0!==i.length&&(y=i.length<=2?Object(I.jsx)("p",{className:jt.a.nameHelper,children:"Too Short."}):!1===v?Object(I.jsx)("p",{style:{color:"#00C138"},className:jt.a.nameHelper,children:"Name is available."}):Object(I.jsx)("p",{style:{color:"#ff0000"},className:jt.a.nameHelper,children:"Name has already been taken."})),Object(I.jsx)(I.Fragment,{children:a?Object(I.jsx)("div",{className:jt.a.signUp,children:Object(I.jsxs)("div",{className:jt.a.notFoundContainer,children:[Object(I.jsx)("h3",{children:"Already Logged In"}),Object(I.jsx)(o.b,{to:"/",children:Object(I.jsx)("button",{className:jt.a.returnButton,children:"Return Home"})})]})}):Object(I.jsx)("div",{className:jt.a.signUp,children:Object(I.jsxs)("div",{className:jt.a.container,children:[Object(I.jsxs)("div",{className:jt.a.header,children:[Object(I.jsx)("img",{className:jt.a.logoImg,src:j,alt:""}),Object(I.jsx)("div",{className:jt.a.textContainer,children:Object(I.jsx)("h2",{className:jt.a.headerText,children:"Sign Up"})})]}),Object(I.jsxs)("div",{className:jt.a.formContainer,children:[Object(I.jsxs)("form",{pattern:"[0-9a-zA-Z_.-]*",className:jt.a.form,children:[Object(I.jsxs)("div",{className:jt.a.input,children:[Object(I.jsx)("div",{className:jt.a.username,children:Object(I.jsx)("p",{children:"@"})}),Object(I.jsx)("input",{required:!0,onChange:function(e){p(e.target.value),N(e)},className:jt.a.inputBox,type:"text",placeholder:"username",maxLength:"15",minLength:"3",value:f})]}),Object(I.jsx)("div",{className:jt.a.helperDiv,children:y}),Object(I.jsx)("button",{type:"submit",onClick:!v&&i.length>2?function(e){e.preventDefault(),g()}:function(e){e.preventDefault()},className:jt.a.signUpButton,style:!v&&i.length>2?{backgroundColor:"black",cursor:"pointer"}:{backgroundColor:"gray",cursor:"not-allowed"},children:"Sign Up With Google"})]}),Object(I.jsx)("p",{className:jt.a.or,children:"Already signed up?"}),Object(I.jsx)("button",{onClick:t,className:jt.a.loginButton,children:"Login"})]})]})})})},ft=a(19),pt=a.n(ft),ht=function(){var e=A(),t=e.getUserProfile,a=e.currentUser,s=e.userProfile,r=Object(n.useState)(""),c=Object(m.a)(r,2),i=c[0],l=c[1],j=Object(n.useState)(""),b=Object(m.a)(j,2),f=b[0],p=b[1],h=Object(n.useState)(!1),O=Object(m.a)(h,2),v=O[0],x=O[1];Object(n.useEffect)((function(){s&&(l(s.displayName),p(s.bio))}),[s]),Object(n.useEffect)((function(){t()}),[a]);var g=function(){var e=Object(d.a)(u.a.mark((function e(n){var s,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),s=C.child("".concat(a.uid,"/profilePhoto")),e.next=4,s.put(n);case 4:return e.next=6,s.getDownloadURL();case 6:return r=e.sent,c=w.collection("users").doc(a.uid),e.next=10,c.set(Object(Ee.a)({},"profilePhoto",r),{merge:!0});case 10:x(!1),t();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(u.a.mark((function e(n){var s,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),s=C.child("".concat(a.uid,"/banner")),e.next=4,s.put(n);case 4:return e.next=6,s.getDownloadURL();case 6:return r=e.sent,c=w.collection("users").doc(a.uid),e.next=10,c.set(Object(Ee.a)({},"banner",r),{merge:!0});case 10:x(!1),t();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){e.preventDefault();var t=e.target.files[0];t&&t.size<5e6&&("profilePhoto"===e.target.name?X(e,"none",g,1e3):"banner"===e.target.name&&X(e,"none",N,2e3))},k=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),f===s.bio){e.next=6;break}return x(!0),e.next=5,w.collection("users").doc(a.uid).set({bio:f},{merge:!0});case 5:x(!1);case 6:if(i===s.displayName||""===i){e.next=12;break}return n=i.toLowerCase(),x(!0),e.next=11,w.collection("users").doc(a.uid).set({displayName:i,searchName:n},{merge:!0});case 11:x(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)("div",{className:pt.a.settings,children:Object(I.jsxs)("div",{className:pt.a.container,children:[Object(I.jsx)("h3",{children:"Settings"}),Object(I.jsxs)("div",{className:pt.a.inner,children:[Object(I.jsxs)("div",{children:[Object(I.jsxs)("label",{className:pt.a.bannerOverlayContainer,children:[Object(I.jsx)("input",{name:"banner",type:"file",accept:"image/jpeg, image/png, image/jpg",className:pt.a.fileInput,onChange:y}),Object(I.jsx)("div",{className:pt.a.bannerContainer,children:Object(I.jsx)(ie,{src:s&&s.banner,zIndex:"0"})}),Object(I.jsx)("div",{className:pt.a.bannerOverlay,children:Object(I.jsx)(_.l,{className:pt.a.bannerIcon})})]}),Object(I.jsx)("form",{children:Object(I.jsx)("div",{className:pt.a.containerBar,children:Object(I.jsxs)("label",{className:pt.a.profileOverlayContainer,children:[Object(I.jsx)("input",{onChange:y,type:"file",accept:"image/jpeg, image/png, image/jpg",className:pt.a.fileInput,name:"profilePhoto"}),Object(I.jsx)(ie,{src:s&&s.profilePhoto,position:"relative",borderRadius:"100%",width:"112px",height:"112px",shadow:"0px 0.5em 1.5em 1px rgba(0, 0, 0, 0.1)"}),Object(I.jsx)("div",{className:pt.a.profileOverlay,children:Object(I.jsx)(_.j,{className:pt.a.profileIcon})})]})})})]}),Object(I.jsx)("div",{className:pt.a.textInputs,children:Object(I.jsxs)("form",{className:pt.a.textForm,children:[Object(I.jsxs)("div",{className:pt.a.inputContainer,children:[Object(I.jsx)("p",{children:"Display Name:"}),Object(I.jsx)("div",{className:pt.a.input,children:Object(I.jsx)("input",{autoComplete:"off",name:"displayName",className:pt.a.inputBoxDisplay,type:"text",placeholder:s&&s.displayName,maxLength:"25",minLength:"3",onChange:function(e){e.preventDefault();var t=e.target.value.replace(/[^a-zA-Z' ']/gi,"");l(t)},value:i})})]}),Object(I.jsxs)("div",{className:pt.a.inputContainer,children:[Object(I.jsx)("p",{children:"Bio:"}),Object(I.jsx)("textarea",{className:pt.a.bioInput,name:"bio",maxLength:"150",placeholder:s&&s.bio,value:f,onChange:function(e){e.preventDefault();var t=e.target.value;p(t)}})]})]})})]}),Object(I.jsxs)("div",{className:pt.a.profileBtnContainer,children:[v?Object(I.jsx)("div",{className:"loader"}):Object(I.jsx)("button",{onClick:k,type:"submit",className:pt.a.textBtn,children:"Save"}),Object(I.jsx)(o.b,{className:pt.a.profileLink,to:"/profile/".concat(s&&s.userID),children:Object(I.jsx)("button",{className:pt.a.profileBtn,children:"View Profile"})})]})]})})},Ot=a(50),vt=a.n(Ot),xt=function(e){var t=e.Styles,a=e.contactID,s=e.setMessages,r=e.messages,c=e.handleCreate,o=e.getCurrentMessage,i=Object(n.useState)(null),l=Object(m.a)(i,2),_=l[0],j=l[1],b=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.collection("users").doc(a),e.next=3,t.get();case 3:n=e.sent,j(n.data());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){b()}),[]);return Object(I.jsx)("div",{onClick:function(e){if(e.preventDefault(),r.some((function(e){return e.user===a}))){var t=r.findIndex((function(e){return e.user===a}));o(t),c(e)}else s([{user:a,time:Date.now(),messages:[]}].concat(Object(se.a)(r))),c(e)},className:t.listItem,children:Object(I.jsxs)("div",{className:t.start,children:[Object(I.jsx)("div",{className:t.avatarContainer,children:Object(I.jsx)(ie,{src:null===_||void 0===_?void 0:_.profilePhoto,width:"65px",height:"65px",borderRadius:"100%"})}),Object(I.jsxs)("div",{className:t.names,children:[Object(I.jsx)("p",{className:t.displayName,children:null===_||void 0===_?void 0:_.displayName}),Object(I.jsxs)("p",{className:t.username,children:["@",null===_||void 0===_?void 0:_.username]})]})]})})},gt=function(e){var t=e.handleCreate,a=e.userProfile,s=e.setMessages,r=e.messages,c=e.setCurrentMessage,o=e.setCurrentIndex,i=e.getCurrentMessage,l=Object(n.useState)([]),u=Object(m.a)(l,2),d=u[0],j=u[1],b=Object(n.useRef)(),f=ue(b),p=Object(m.a)(f,2),h=p[0],O=p[1];return Object(n.useEffect)((function(){a&&function(){if(a){var e=a.following.slice(0).reverse().slice(0,10);j(e)}}()}),[a]),Object(n.useEffect)((function(){h&&function(){if(a){var e=a.following;if(e.length!==d.length){var t=e.slice(0).reverse().slice(d.length,d.length+10),n=[].concat(Object(se.a)(d),Object(se.a)(t));j(n)}}}()}),[h]),Object(n.useEffect)((function(){O(!1)}),[d]),Object(I.jsx)("div",{className:vt.a.modal,children:Object(I.jsxs)("div",{className:vt.a.container,children:[Object(I.jsxs)("div",{className:vt.a.header,children:[Object(I.jsx)("h3",{children:"New Message"}),Object(I.jsx)(_.e,{onClick:t,className:vt.a.close})]}),Object(I.jsxs)("div",{className:vt.a.listContainer,children:[d.map((function(e){return Object(I.jsx)(xt,{messages:r,setMessages:s,Styles:vt.a,contactID:e,setCurrentMessage:c,handleCreate:t,setCurrentIndex:o,getCurrentMessage:i},e)})),Object(I.jsx)("div",{ref:b})]})]})})},Nt=a(51),yt=a.n(Nt),wt=a(25),Ct=a.n(wt),kt=function(e){var t,a=e.user,s=e.message,r=e.userProfile,c=e.currentProfile,i=e.thread,l=e.index,u=Object(n.useState)(!1),d=Object(m.a)(u,2),_=d[0],j=d[1],b=Object(n.useState)("false"),f=Object(m.a)(b,2),p=f[0],h=f[1];return Object(n.useEffect)((function(){a===(null===r||void 0===r?void 0:r.userID)&&j(!0)}),[c]),Object(n.useEffect)((function(){var e,t;a===(null===(e=i[l+1])||void 0===e?void 0:e.user)?h("true"):a!==(null===(t=i[l+1])||void 0===t?void 0:t.user)&&h("avatar")}),[i]),_&&"true"===p&&(t=Object(I.jsxs)("div",{className:Ct.a.itemSent+" "+Ct.a.group,children:[Object(I.jsx)("div",{className:Ct.a.bubbleSent,children:Object(I.jsx)("p",{children:s})}),Object(I.jsx)("div",{className:Ct.a.avatarContainer})]})),_&&"avatar"===p&&(t=Object(I.jsxs)("div",{className:Ct.a.itemSent+" "+Ct.a.topGroup,children:[Object(I.jsx)("div",{className:Ct.a.bubbleSent,children:Object(I.jsx)("p",{children:s})}),Object(I.jsx)("div",{className:Ct.a.avatarContainer,children:Object(I.jsx)(o.b,{to:"/profile/".concat(r.userID),children:Object(I.jsx)("img",{className:Ct.a.avatar,src:r.profilePhoto,alt:"user-avi"})})})]})),_||"true"!==p||(t=Object(I.jsxs)("div",{className:Ct.a.item+" "+Ct.a.group,children:[Object(I.jsx)("div",{className:Ct.a.bubble,children:Object(I.jsx)("p",{children:s})}),Object(I.jsx)("div",{className:Ct.a.avatarContainer})]})),_||"avatar"!==p||(t=Object(I.jsxs)("div",{className:Ct.a.item+" "+Ct.a.topGroup,children:[Object(I.jsx)("div",{className:Ct.a.bubble,children:Object(I.jsx)("p",{children:s})}),Object(I.jsx)("div",{className:Ct.a.avatarContainer,children:Object(I.jsx)(o.b,{to:"/profile/".concat(null===c||void 0===c?void 0:c.userID),children:Object(I.jsx)("img",{className:Ct.a.avatar,src:null===c||void 0===c?void 0:c.profilePhoto,alt:"contact-avi"})})})]})),Object(I.jsx)(I.Fragment,{children:t})},It=function(e){var t=e.currentMessage,a=e.currentProfile,s=e.setCurrentProfile,r=e.Styles,c=e.dummyRef,o=Object(n.useRef)(),i=Object(n.useState)([]),l=Object(m.a)(i,2),u=l[0],d=l[1],_=A().userProfile,j=ue(o),b=Object(m.a)(j,2),f=b[0],p=b[1];Object(n.useEffect)((function(){f&&function(){if(t){var e=t.messages.slice(0).reverse().slice(u.length,u.length+20),a=[].concat(Object(se.a)(u),Object(se.a)(e));d(a)}}()}),[f]),Object(n.useEffect)((function(){p(!1)}),[u]),Object(n.useEffect)((function(){var e;if((null===t||void 0===t||null===(e=t.messages)||void 0===e?void 0:e.length)>0){var a=(null===t||void 0===t?void 0:t.messages.slice(0).reverse()).slice(0,20);d(a)}else d([])}),[t]);return Object(n.useEffect)((function(){w.collection("users").doc(null===t||void 0===t?void 0:t.user).get().then((function(e){e.exists&&s(e.data())}))}),[t]),Object(I.jsxs)("div",{id:"msg",className:r.messageArea,children:[Object(I.jsx)("div",{ref:c,className:r.dummy}),null===u||void 0===u?void 0:u.map((function(e,t){return Object(I.jsx)(kt,{time:e.time,currentProfile:a,user:e.user,thread:u,index:t,message:e.message,userProfile:_},e.time)})),Object(I.jsx)("div",{ref:o,className:r.dummy})]})},Pt=function(e){var t=e.currentMessage,a=e.currentProfile,s=e.Styles,r=e.setCurrentIndex,c=Object(n.useState)(""),o=Object(m.a)(c,2),i=o[0],l=o[1],j=A().userProfile,b=function(){var e=Object(d.a)(u.a.mark((function e(n){var s,c,o,d,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),s=Date.now(),!a){e.next=16;break}if(!(i.length>0&&i.length<501)){e.next=16;break}return c=w.collection("users").doc(null===t||void 0===t?void 0:t.user).collection("messages").doc(null===j||void 0===j?void 0:j.userID),o=w.collection("users").doc(null===j||void 0===j?void 0:j.userID).collection("messages").doc(null===t||void 0===t?void 0:t.user),e.next=8,o.set({time:s,user:a.userID},{merge:!0});case 8:return e.next=10,c.set({time:s,user:null===j||void 0===j?void 0:j.userID},{merge:!0});case 10:return d=function(){o.update({messages:N.arrayUnion({user:null===j||void 0===j?void 0:j.userID,message:i,time:s})})},m=function(){c.update({messages:N.arrayUnion({user:null===j||void 0===j?void 0:j.userID,message:i,time:s})})},e.next=14,Promise.all([d(),m()]);case 14:l(""),r(0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{className:s.messageBox,children:[Object(I.jsx)("form",{onSubmit:b,className:s.messageForm,children:Object(I.jsx)("input",{className:s.input,type:"text",maxLength:"500",minLength:"1",placeholder:"New Message...",onChange:function(e){e.preventDefault();var t=e.target.value;l(t)},value:i})}),Object(I.jsx)(_.q,{type:"submit",onClick:b,className:s.send})]})},St=a(44),Dt=a.n(St),Bt=function(e){var t=e.user,a=e.time,s=e.last,r=e.getCurrentMessage,c=e.index,o=e.currentIndex,i=e.handleSidebar,l=Object(n.useState)(),u=Object(m.a)(l,2),d=u[0],_=u[1],j=Object(n.useState)(""),b=Object(m.a)(j,2),f=b[0],p=b[1];Object(n.useEffect)((function(){w.collection("users").doc(t).get().then((function(e){e.exists&&_(e.data())})),function(){var e=Date.now(),t=B(a,e);p(t)}()}),[]);return Object(I.jsxs)("div",{onClick:function(e){e.preventDefault(),r(c),i()},className:c===o?Dt.a.active:Dt.a.container,children:[Object(I.jsx)("div",{className:Dt.a.avatarContainer,children:Object(I.jsx)(ie,{src:null===d||void 0===d?void 0:d.profilePhoto,width:"65px",height:"65px",borderRadius:"100%"})}),Object(I.jsxs)("div",{className:Dt.a.contactInfo,children:[Object(I.jsx)("p",{className:Dt.a.name,children:null===d||void 0===d?void 0:d.displayName}),Object(I.jsxs)("div",{className:Dt.a.infoContainer,children:[Object(I.jsx)("p",{className:Dt.a.message,children:(null===s||void 0===s?void 0:s.message.length)>=15?(null===s||void 0===s?void 0:s.message.substring(0,15))+"...":null===s||void 0===s?void 0:s.message}),Object(I.jsx)("p",{className:Dt.a.time,children:f})]})]})]})},Lt=function(e){var t=e.Styles,a=e.messages,s=e.getCurrentMessage,r=e.currentIndex,c=e.scrollToBottom,i=e.handleCreate,l=Object(n.useState)(!0),u=Object(m.a)(l,2),d=u[0],j=u[1],b=A().userProfile,f=function(){j(!d),c()};return Object(I.jsxs)("div",{className:d?t.sidebar:"".concat(t.sidebar," ").concat(t.hide),children:[Object(I.jsxs)("div",{className:t.header,children:[Object(I.jsx)("div",{className:d?t.userAvatarContainer:"".concat(t.userAvatarContainer," ").concat(t.remove),children:Object(I.jsxs)(o.b,{to:"/profile/".concat(null===b||void 0===b?void 0:b.userID),children:[Object(I.jsx)(ie,{src:null===b||void 0===b?void 0:b.profilePhoto,width:"65px",height:"65px",borderRadius:"100%",position:"absolute"}),Object(I.jsx)("img",{className:t.userAvatarBlur,src:null===b||void 0===b?void 0:b.profilePhoto,alt:"avatar"})]})}),d?null:Object(I.jsx)("div",{className:t.backArrowContainer,children:Object(I.jsx)(_.d,{onClick:f,className:t.backArrow})}),Object(I.jsx)("p",{className:t.headerTitle,children:"Messages"}),Object(I.jsx)("div",{onClick:i,className:t.createIconContainer,children:Object(I.jsx)(_.g,{className:t.createIcon})})]}),Object(I.jsx)("div",{className:d?t.contactsContainer:"".concat(t.contactsContainer," ").concat(t.hide),children:a.map((function(e,t){var a,n;return Object(I.jsx)(Bt,{time:e.time,index:t,user:e.user,last:(null===(a=e.messages)||void 0===a?void 0:a.length)>0?e.messages[(null===(n=e.messages)||void 0===n?void 0:n.length)-1]:null,getCurrentMessage:s,currentIndex:r,handleSidebar:f},e.time)}))})]})},Et=function(e){var t=e.match,a=Object(n.useState)([]),s=Object(m.a)(a,2),r=s[0],c=s[1],o=Object(n.useState)(),i=Object(m.a)(o,2),l=i[0],u=i[1],d=Object(n.useState)(),_=Object(m.a)(d,2),j=_[0],b=_[1],f=Object(n.useState)(),p=Object(m.a)(f,2),h=p[0],O=p[1],v=Object(n.useState)(!1),x=Object(m.a)(v,2),g=x[0],N=x[1],y=A().userProfile,C=Object(n.useRef)(null),k=Object(n.useRef)(),P=function(e){var t,a;"smooth"===e?null===(t=C.current)||void 0===t||t.scrollIntoView({behavior:"smooth"}):null===(a=C.current)||void 0===a||a.scrollIntoView()},S=Object(n.useCallback)((function(e){return w.collection("users").doc(null===y||void 0===y?void 0:y.userID).collection("messages").orderBy("time","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),c(t),P("smooth")}))}),[y]),D=function(e){O(e),u(r[e]),P()};Object(n.useEffect)((function(){if(t&&r)if(r.some((function(e){return e.user===t.params.uid}))){var e=r.findIndex((function(e){return e.user===t.params.uid}));D(e)}else c([{user:t.params.uid,time:Date.now(),messages:[]}].concat(Object(se.a)(r)))}),[r,t]),Object(n.useEffect)((function(){var e,a;t||(!l&&r&&y?(u(r[0]),O(0),D(0)):l&&u(r[h]),0===(null===(e=r[0])||void 0===e||null===(a=e.messages)||void 0===a?void 0:a.length)&&D(0))}),[r]),Object(n.useEffect)((function(){k.current=null===y||void 0===y?void 0:y.userID}),[y]),Object(n.useEffect)((function(){var e=S();return function(){e()}}),[]);var B=function(e){e.preventDefault(),N(!g)};return Object(I.jsxs)("div",{className:yt.a.messages,children:[g&&Object(I.jsx)(gt,{messages:r,setMessages:c,setCurrentMessage:u,userProfile:y,handleCreate:B,setCurrentIndex:O,getCurrentMessage:D}),Object(I.jsx)("div",{className:yt.a.navBg}),Object(I.jsx)(Lt,{Styles:yt.a,messages:r,currentIndex:h,getCurrentMessage:D,scrollToBottom:P,handleCreate:B}),Object(I.jsxs)("div",{className:yt.a.main,children:[Object(I.jsx)(Pt,{currentMessage:l,currentProfile:j,setCurrentIndex:O,Styles:yt.a}),Object(I.jsx)(It,{currentProfile:j,setCurrentProfile:b,currentMessage:l,Styles:yt.a,dummyRef:C})]})]})};var Ft=function(){return Object(I.jsx)(o.a,{children:Object(I.jsx)(R,{children:Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)(ee,{}),Object(I.jsx)(i.a,{exact:!0,path:"/",children:Object(I.jsx)(Le,{})}),Object(I.jsx)(i.a,{exact:!0,path:"/messages/:uid",component:Et}),Object(I.jsx)(i.a,{exact:!0,path:"/messages",children:Object(I.jsx)(Et,{})}),Object(I.jsx)(i.a,{exact:!0,path:"/sign-up",children:Object(I.jsx)(bt,{})}),Object(I.jsx)(i.a,{exact:!0,path:"/profile/:uid",component:We}),Object(I.jsx)(i.a,{exact:!0,path:"/post/:uid/:postid",component:mt}),Object(I.jsx)(i.a,{exact:!0,path:"/settings",children:Object(I.jsx)(ht,{})})]})})})};c.a.render(Object(I.jsx)(s.a.StrictMode,{children:Object(I.jsx)(Ft,{})}),document.getElementById("root"))}],[[96,1,2]]]);
//# sourceMappingURL=main.a9fd1e17.chunk.js.map