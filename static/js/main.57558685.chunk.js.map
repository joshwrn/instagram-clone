{"version":3,"sources":["styles/notifications/notifications__item.module.css","styles/home/home__card.module.css","styles/post/post__sidebar.module.css","styles/settings/settings.module.css","styles/profile/profile__sidebar.module.css","styles/sign-up/sign-up.module.css","styles/home/home__sidebar.module.css","styles/nav/nav.module.css","styles/messages/message__item.module.css","styles/profile/profile.module.css","styles/profile/profile__upload.module.css","styles/profile/profile__followers-modal.module.css","styles/post/post__loading.module.css","styles/nav/nav__user-menu.module.css","styles/post/post__comment-section.module.css","styles/home/home__card__overlay.module.css","styles/profile/profile__feed.module.css","styles/messages/messagesContact.module.css","styles/nav/nav__search__item.module.css","styles/profile/profile__card.module.css","styles/post/post__menu.module.css","styles/post/post.module.css","styles/messages/messages__create-menu.module.css","styles/messages/messages.module.css","styles/notifications/notifications.module.css","styles/nav/nav__search.module.css","styles/home/home__login.module.css","styles/home/home__feed.module.css","styles/home/home.module.css","styles/profile/profile__avatar__modal.module.css","assets/img/logo/logo-2.png","functions/theme.js","services/firebase.js","components/Nav/NavUserMenu.jsx","functions/convertTime.js","components/Notifications/NotificationsItem.jsx","contexts/AuthContext.js","components/Notifications/Notifications.jsx","components/Nav/NavSearchItem.jsx","components/Nav/NavSearch.jsx","functions/debounce.js","functions/stopScroll.js","functions/resizeImage.js","functions/clean.js","components/Profile/ProfileUpload.jsx","components/Nav/Nav.jsx","components/Home/LoginButton.jsx","components/Profile/ProfileButton.jsx","components/reusable/ImageLoader.jsx","components/Profile/ProfileFollowerListItem.jsx","hooks/useIntersect.js","components/Profile/ProfileFollowersModal.jsx","components/Home/HomeSidebar.jsx","components/Home/HomeCardLike.jsx","components/Home/HomeCardCommentItem.jsx","components/Home/HomeCardComments.jsx","components/Home/HomeCardImage.jsx","components/Home/HomeCardOverlay.jsx","components/Home/HomeCard.jsx","components/Home/HomeFeed.jsx","functions/ScrollToTop.js","components/Home/Home.jsx","components/Profile/ProfileSidebar.jsx","components/Profile/ProfileCard.jsx","components/Profile/ProfileFeed.jsx","components/Profile/ProfileAvatarModal.jsx","components/Profile/Profile.jsx","components/Post/PostComment.jsx","components/Post/PostCommentSection.jsx","components/Post/PostMenu.jsx","components/Post/PostLikeButton.jsx","components/Post/PostCommentBox.jsx","components/Post/PostSidebar.jsx","components/Post/Post.jsx","components/SignUp/SignUp.jsx","components/Settings/Settings.jsx","components/Messages/MessagesCreateMenuItem.jsx","components/Messages/MessagesCreateMenu.jsx","components/Messages/MessageItem.jsx","components/Messages/MessageArea.jsx","components/Messages/MessageInputBox.jsx","components/Messages/MessagesContact.jsx","components/Messages/MessagesSidebar.jsx","components/Messages/Messages.jsx","components/App.jsx","index.jsx"],"names":["module","exports","root","document","documentElement","dark","style","setProperty","light","signIn","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","provider","auth","GoogleAuthProvider","signInWithPopup","firestoreFieldValue","firestore","FieldValue","serverTimestamp","storageRef","storage","ref","NavUserMenu","setOpenMenu","currentUser","logout","theme","setTheme","changeTheme","e","preventDefault","collection","doc","uid","set","merge","onClick","className","Styles","container","inner","option","to","icon","convertTime","start","end","total","converted","Math","floor","NotificationsItem","item","userProfile","useState","profile","setProfile","preview","setPreview","type","setType","addTime","setAddTime","getProfile","a","user","get","profileRef","data","getPost","userID","post","postRef","url","src","useEffect","currentTime","Date","now","time","link","inlineLink","avatarContainer","avatar","profilePhoto","alt","displayName","comment","length","substring","followed","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","setCurrentUser","setUserProfile","attemptLogin","setAttemptLogin","loading","setLoading","history","useHistory","onAuthStateChanged","getUserProfile","profileData","then","userData","exists","signOut","firebaseRegister","usernameInput","where","searchResults","forEach","foundName","undefined","lower","toLowerCase","searchName","photoURL","banner","bio","username","joinDate","metadata","creationTime","lastPostDate","likedPosts","postsCounter","followers","following","messagesCounter","notifications","catch","error","console","addMessage","messages","message","addFollower","update","arrayUnion","notify","Promise","all","push","value","login","Provider","Notifications","notiFragment","handleNoti","setCurrentNotis","notiArray","loader","map","none","NavSearchItem","setOpenSearch","setSearchInput","NavSearch","searchInner","searchInput","searchRef","setSearchResults","handler","current","contains","target","addEventListener","removeEventListener","temp","limit","results","search","noResults","debounce","func","delay","inDebounce","clearTimeout","setTimeout","apply","arguments","stopScroll","state","body","classList","add","remove","resizeImage","setImageFile","setPostFile","width","file","files","size","reader","FileReader","readAsDataURL","onload","event","imgEl","createElement","result","img","canvas","MAX_WIDTH","scaleSize","height","ctx","getContext","drawImage","srcEncoded","toDataURL","toBlob","blob","filter","Filter","placeHolder","clean","text","ProfileUpload","getModal","setNewPost","postFile","caption","setCaption","uploading","setUploading","imageFile","handleSubmit","timestamp","date","likes","comments","createPost","fileRef","child","id","put","getDownloadURL","fileUrl","prev","modal","header","close","topContainer","display","uploadContainer","buttonContainer","onChange","accept","fileInput","upload","captionContainer","captionInput","name","maxLength","placeholder","postButton","saveBtn","Nav","openMenu","openNoti","setOpenNoti","openSearch","currentNotis","setNotiArray","searchValue","setSearchValue","renderModal","setRenderModal","userRef","menuRef","useRef","notiRef","unseen","debounceChange","useCallback","nextValue","nav","logo","logoImg","autoComplete","icons","exact","home","chat","notiContainer","heart","notiBadge","profileLink","person","LoginButton","loginButtons","signUp","ProfileButton","match","currentProfile","getUserObject","handleFollowers","setFollowing","check","includes","handleFollow","thisUser","handleUnfollow","arrayRemove","button","profileBtn","ImageLoader","position","transition","cursor","borderRadius","shadow","zIndex","loadingDiv","background","backgroundSize","animation","boxShadow","hideDiv","image","objectFit","objectPosition","opacity","hideImg","onLoad","ProfileFollowerListItem","currentTab","setCurrent","getUser","listItem","names","useIntersect","isFetching","setIsFetching","observer","IntersectionObserver","isIntersecting","rootMargin","threshold","observe","disconnect","ProfileFollowers","openFollowers","setCurrentTab","list","setList","handleSwitch","choice","getAttribute","slice","reverse","sliced","combine","createMore","tabs","activeHeader","inactiveHeader","listContainer","dummy","Sidebar","setOpenFollowers","sidebar","ProfileFollowersModal","profileContainer","imageContainer","profileImgBlur","nameContainer","stats","statContainer","stat","number","postsLink","HomeCardLike","setLikeState","liked","setLiked","updateLikes","handleLike","thisPost","postUser","addPost","addUser","removePost","removeUser","likedIcon","likeIcon","HomeCardCommentItem","commentUser","HomeCardComments","commentArr","setCommentArr","commentInput","setCommentInput","max","handleComment","commentObject","imageLink","viewAll","commentContainer","commentBox","onSubmit","commentForm","inputBox","send","HomeCardImage","postID","HomeCardOverlay","openLink","linkType","share","input","window","location","href","content","el","appendChild","select","execCommand","removeChild","copyToClipboard","main","Card","setUser","likeState","setModal","modalType","card","left","userInfo","right","moreIcon","footer","firstChild","chatLink","imageBlur","HomeFeed","newPost","stored","setStored","feed","setFeed","lastUser","setLastUser","noPosts","setNoPosts","noPostsRef","dummyRef","firestoreFunction","orderBy","startAfter","me","docs","promises","postsArr","arr","sort","b","getNone","getFollowed","createFeed","getMore","next","scrollTo","loaderContainer","ScrollToTop","pathname","useLocation","Home","ProfileSidebar","loaded","usernames","nameLoading","usernameLoading","counterLoading","secondContainer","postsContainer","posts","followingContainer","followersContainer","bioHeader","bioText","ProfileCard","postId","params","overlay","blur","ProfileFeed","lastPost","setLastPost","endFeed","setEndFeed","endFeedRef","snap","complete","getInitial","updateFeed","getFeed","outer","notFound","notFoundContainer","notFoundButton","feedContainer","ProfileAvatarModal","getAvatarModal","Profile","props","setCurrentProfile","avatarModal","setAvatarModal","setLoaded","every","handleLoad","imgIndex","findIndex","old","actionButton","actionBtn","heroLoading","hero","topSection","imgContainer","avatarLoading","avatarBlur","topRight","topIconRow","PostComment","getTime","PostCommentSection","currentPost","setComments","getComments","commentsContainer","Loading","commentProfile","PostMenu","menu","ownPost","menuStatus","setMenuStatus","handleDelete","postid","delete","pictureRef","refFromURL","userDoc","postIcon","PostLikeButton","getCurrentPost","PostCommentBox","IoSendOutline","setInput","minLength","PostSidebar","getCur","top","profileImg","IoHeartOutline","infoContainer","Post","setCurrentPost","setPostUser","setOwnPost","getPostUser","postState","returnButton","SignUp","userInput","setUserInput","userValue","setUserValue","nameTaken","setNameTaken","nameHelper","color","textContainer","headerText","formContainer","pattern","form","required","replace","helperDiv","signUpButton","backgroundColor","or","loginButton","Settings","userBio","setUserBio","handleAvatar","handleBanner","handlePhotoChange","handleTextUpload","settings","bannerOverlayContainer","bannerContainer","bannerOverlay","bannerIcon","containerBar","profileOverlayContainer","profileOverlay","profileIcon","textInputs","textForm","inputContainer","inputBoxDisplay","newVal","bioInput","profileBtnContainer","textBtn","MessagesCreateMenuItem","contactID","setMessages","handleCreate","getCurrentMessage","some","index","MessagesCreateMenu","setCurrentMessage","setCurrentIndex","createInitial","MessageItem","thread","sent","setSent","group","setGroup","itemSent","bubbleSent","topGroup","bubble","MessageArea","currentMessage","topRef","setThread","messageArea","MessageInputBox","setInputBox","contactThread","userThread","addUserThread","addContactThread","messageBox","messageForm","MessagesContact","last","currentIndex","handleSidebar","active","contactInfo","MessagesSidebar","scrollToBottom","setSidebar","hide","userAvatarContainer","userAvatarBlur","backArrowContainer","backArrow","headerTitle","createIconContainer","createIcon","contactsContainer","Messages","createModal","setCreateModal","subRef","scrollIntoView","behavior","listener","onSnapshot","querySnapshot","num","unsubscribe","navBg","App","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.57558685.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"notifications__item_container__1yM2P\",\"link\":\"notifications__item_link__3hOpB\",\"start\":\"notifications__item_start__2ocM7\",\"inlineLink\":\"notifications__item_inlineLink__1--60\",\"avatar\":\"notifications__item_avatar__219i9\",\"displayName\":\"notifications__item_displayName__26U78\",\"type\":\"notifications__item_type__3Zr01\",\"comment\":\"notifications__item_comment__179RZ\",\"time\":\"notifications__item_time__1DF0D\",\"end\":\"notifications__item_end__1FRJa\",\"preview\":\"notifications__item_preview__2Gl5Z\",\"followed\":\"notifications__item_followed__11sP7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"home__card_card__2sHQP\",\"container\":\"home__card_container__3FNNr\",\"header\":\"home__card_header__3ovQp\",\"left\":\"home__card_left__1PALM\",\"right\":\"home__card_right__1i2gX\",\"moreIcon\":\"home__card_moreIcon__2vM0f\",\"avatar\":\"home__card_avatar__3MGtB\",\"userInfo\":\"home__card_userInfo__2cLzI\",\"displayName\":\"home__card_displayName__7HfBN\",\"username\":\"home__card_username__34P_n\",\"loading\":\"home__card_loading__2QkXo\",\"imageLink\":\"home__card_imageLink__2RV1k\",\"imageContainer\":\"home__card_imageContainer__1RtBx\",\"imageBlur\":\"home__card_imageBlur__3Fsus\",\"fade\":\"home__card_fade__pgDB5\",\"footer\":\"home__card_footer__bNT0h\",\"firstChild\":\"home__card_firstChild__91m9Q\",\"icon\":\"home__card_icon__3nf38\",\"likeIcon\":\"home__card_likeIcon__KyPef\",\"likedIcon\":\"home__card_likedIcon__vmcUU\",\"likes\":\"home__card_likes__1jaSS\",\"commentContainer\":\"home__card_commentContainer__3NPTZ\",\"comments\":\"home__card_comments__3yI7V\",\"viewAll\":\"home__card_viewAll__fGZIx\",\"comment\":\"home__card_comment__3PIpk\",\"commentUser\":\"home__card_commentUser__Ik6t9\",\"commentBox\":\"home__card_commentBox__1QqXP\",\"commentForm\":\"home__card_commentForm__1SaOC\",\"inputBox\":\"home__card_inputBox__2asqY\",\"send\":\"home__card_send__2sMlQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"post__sidebar_sidebar__1YPF_\",\"top\":\"post__sidebar_top__21Mkr\",\"captionContainer\":\"post__sidebar_captionContainer__2c0JN\",\"caption\":\"post__sidebar_caption__W_02G\",\"profileContainer\":\"post__sidebar_profileContainer__ibpB4\",\"imageContainer\":\"post__sidebar_imageContainer__2ZuwF\",\"profileImg\":\"post__sidebar_profileImg__2vkBk\",\"profileImgBlur\":\"post__sidebar_profileImgBlur__XX4s9\",\"nameContainer\":\"post__sidebar_nameContainer__3M3xj\",\"username\":\"post__sidebar_username__3VqLl\",\"footer\":\"post__sidebar_footer__229P6\",\"firstChild\":\"post__sidebar_firstChild__1h18G\",\"left\":\"post__sidebar_left__1uD9N\",\"postIcon\":\"post__sidebar_postIcon__1W7WJ\",\"icon\":\"post__sidebar_icon__3qkzm\",\"likeIcon\":\"post__sidebar_likeIcon__CnAyT\",\"infoContainer\":\"post__sidebar_infoContainer__1Jo2W\",\"likedIcon\":\"post__sidebar_likedIcon__2erUk\",\"likes\":\"post__sidebar_likes__1DALb\",\"time\":\"post__sidebar_time__v5OtV\",\"commentBox\":\"post__sidebar_commentBox__3jXZb\",\"commentForm\":\"post__sidebar_commentForm__1fGTQ\",\"input\":\"post__sidebar_input__2B6eA\",\"send\":\"post__sidebar_send__Tr8bk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"settings_settings__9u3LA\",\"container\":\"settings_container__18EBM\",\"inner\":\"settings_inner__2goxT\",\"bannerOverlayContainer\":\"settings_bannerOverlayContainer__1a5-V\",\"bannerContainer\":\"settings_bannerContainer__20k-A\",\"bannerImage\":\"settings_bannerImage__15Txo\",\"bannerOverlay\":\"settings_bannerOverlay__qYlci\",\"bannerIcon\":\"settings_bannerIcon__1rCI-\",\"fileInput\":\"settings_fileInput__3FRbV\",\"containerBar\":\"settings_containerBar__3Fnh_\",\"profileOverlayContainer\":\"settings_profileOverlayContainer__sv8mm\",\"profileOverlay\":\"settings_profileOverlay__u2bwa\",\"profileIcon\":\"settings_profileIcon__3Vztt\",\"textInputs\":\"settings_textInputs__1uTn7\",\"textForm\":\"settings_textForm__YkGB2\",\"inputContainer\":\"settings_inputContainer__22DOQ\",\"input\":\"settings_input__UedIy\",\"inputBoxDisplay\":\"settings_inputBoxDisplay__1OlvB\",\"bioInput\":\"settings_bioInput__1IfAn\",\"textBtn\":\"settings_textBtn__2JGIG\",\"profileBtnContainer\":\"settings_profileBtnContainer__1_waZ\",\"profileLink\":\"settings_profileLink__AGTBJ\",\"profileBtn\":\"settings_profileBtn__1XiRR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"profile__sidebar_sidebar__11uI9\",\"usernames\":\"profile__sidebar_usernames__2-Ej_\",\"displayName\":\"profile__sidebar_displayName__32glH\",\"username\":\"profile__sidebar_username__1lHqL\",\"postsContainer\":\"profile__sidebar_postsContainer__dRmP9\",\"posts\":\"profile__sidebar_posts__1m6Os\",\"userInfo\":\"profile__sidebar_userInfo__3NNvr\",\"followersContainer\":\"profile__sidebar_followersContainer__34jdX\",\"followingContainer\":\"profile__sidebar_followingContainer__3WIfo\",\"followers\":\"profile__sidebar_followers__3D63L\",\"following\":\"profile__sidebar_following__dXkzD\",\"bio\":\"profile__sidebar_bio__6RyiG\",\"bioHeader\":\"profile__sidebar_bioHeader__37niP\",\"bioText\":\"profile__sidebar_bioText__1kXZt\",\"nameLoading\":\"profile__sidebar_nameLoading__3M-ki\",\"usernameLoading\":\"profile__sidebar_usernameLoading__1hAcZ\",\"countersLoading\":\"profile__sidebar_countersLoading__3mFop\",\"counterLoading\":\"profile__sidebar_counterLoading__1Ei56\",\"inner\":\"profile__sidebar_inner__2y690\",\"secondContainer\":\"profile__sidebar_secondContainer__2xred\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signUp\":\"sign-up_signUp__3JQa-\",\"container\":\"sign-up_container__2CyWt\",\"header\":\"sign-up_header__1Zol_\",\"logoImg\":\"sign-up_logoImg__2ff0k\",\"headerText\":\"sign-up_headerText__bsPde\",\"formContainer\":\"sign-up_formContainer__29uuM\",\"form\":\"sign-up_form__2GaCi\",\"input\":\"sign-up_input__DYRKx\",\"username\":\"sign-up_username__r2qOp\",\"inputBox\":\"sign-up_inputBox__3TbGG\",\"helperDiv\":\"sign-up_helperDiv__11z-p\",\"nameHelper\":\"sign-up_nameHelper__1nPlw\",\"signUpButton\":\"sign-up_signUpButton__A-8pd\",\"or\":\"sign-up_or__2zICN\",\"loginButton\":\"sign-up_loginButton__27dxH\",\"notFoundContainer\":\"sign-up_notFoundContainer__L38_P\",\"returnButton\":\"sign-up_returnButton__16Xch\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"home__sidebar_sidebar__2VErq\",\"container\":\"home__sidebar_container__DlNFV\",\"profileContainer\":\"home__sidebar_profileContainer__1Hj6U\",\"imageContainer\":\"home__sidebar_imageContainer__3Dz61\",\"profileImg\":\"home__sidebar_profileImg__FK7ho\",\"profileImgBlur\":\"home__sidebar_profileImgBlur__1t9ik\",\"fade\":\"home__sidebar_fade__2XToe\",\"nameContainer\":\"home__sidebar_nameContainer__3AgZm\",\"username\":\"home__sidebar_username__oT5hs\",\"stats\":\"home__sidebar_stats__1Qcls\",\"postsLink\":\"home__sidebar_postsLink__2eTUA\",\"statContainer\":\"home__sidebar_statContainer__3QtT5\",\"stat\":\"home__sidebar_stat__8FJQH\",\"number\":\"home__sidebar_number__2PJPU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"nav_nav__2IZUq\",\"inner\":\"nav_inner__1nPzn\",\"logoImg\":\"nav_logoImg__24lEx\",\"logo\":\"nav_logo__CMH12\",\"searchInput\":\"nav_searchInput__15DXk\",\"icons\":\"nav_icons__1fxg9\",\"icon\":\"nav_icon__1b4zK\",\"person\":\"nav_person__11phe\",\"add\":\"nav_add__3-fUK\",\"home\":\"nav_home__3uWMI\",\"heart\":\"nav_heart__3F2Wn\",\"chat\":\"nav_chat__1pLBE\",\"notiBadge\":\"nav_notiBadge__27rz0\",\"profileLink\":\"nav_profileLink__2SjbY\",\"notiContainer\":\"nav_notiContainer__JP-pH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"message__item_item__1jw6X\",\"itemSent\":\"message__item_itemSent__1IAFq\",\"topGroup\":\"message__item_topGroup__386cL\",\"group\":\"message__item_group__1EZ-5\",\"bubble\":\"message__item_bubble__3_pNB\",\"bubbleSent\":\"message__item_bubbleSent__59KVa\",\"avatar\":\"message__item_avatar__3YRR0\",\"avatarContainer\":\"message__item_avatarContainer__1j7ho\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"profile_profile__2doWq\",\"header\":\"profile_header__1Yb_V\",\"hero\":\"profile_hero__2QdAq\",\"outer\":\"profile_outer__1p7TJ\",\"inner\":\"profile_inner__2CtB1\",\"topSection\":\"profile_topSection__1wQVw\",\"imgContainer\":\"profile_imgContainer__1WOy9\",\"avatar\":\"profile_avatar__3Q1Q_\",\"avatarBlur\":\"profile_avatarBlur__13Y7Q\",\"topRight\":\"profile_topRight__3x1sY\",\"topIconRow\":\"profile_topIconRow__1scaU\",\"profileBtn\":\"profile_profileBtn__3bsBB\",\"actionBtn\":\"profile_actionBtn__3Arth\",\"heroLoading\":\"profile_heroLoading__Yzhmf\",\"avatarLoading\":\"profile_avatarLoading__1ljvT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"profile__upload_modal__2twt5\",\"anim\":\"profile__upload_anim__1Fwgk\",\"container\":\"profile__upload_container__1df1f\",\"header\":\"profile__upload_header__1jaGB\",\"close\":\"profile__upload_close__27-of\",\"topContainer\":\"profile__upload_topContainer__1J5J0\",\"uploadContainer\":\"profile__upload_uploadContainer__2nae4\",\"upload\":\"profile__upload_upload__1PAGV\",\"buttonContainer\":\"profile__upload_buttonContainer__1BnPN\",\"fileInput\":\"profile__upload_fileInput__3j4Tt\",\"preview\":\"profile__upload_preview__32czN\",\"captionContainer\":\"profile__upload_captionContainer__2jDje\",\"captionInput\":\"profile__upload_captionInput__28M9u\",\"postButton\":\"profile__upload_postButton__3QQHD\",\"saveBtn\":\"profile__upload_saveBtn__m24jl\",\"loader\":\"profile__upload_loader__HMsSE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"profile__followers-modal_modal__3tB3X\",\"anim\":\"profile__followers-modal_anim__7L6jl\",\"container\":\"profile__followers-modal_container__3Ilil\",\"header\":\"profile__followers-modal_header___ZpoR\",\"activeHeader\":\"profile__followers-modal_activeHeader__D2ll_\",\"inactiveHeader\":\"profile__followers-modal_inactiveHeader__3FSOY\",\"tabs\":\"profile__followers-modal_tabs__2Os3r\",\"close\":\"profile__followers-modal_close__3INQ1\",\"listContainer\":\"profile__followers-modal_listContainer__3sGKP\",\"listItem\":\"profile__followers-modal_listItem__3C5g1\",\"start\":\"profile__followers-modal_start__Htzo2\",\"avatarContainer\":\"profile__followers-modal_avatarContainer__1qNpa\",\"names\":\"profile__followers-modal_names__2HesW\",\"displayName\":\"profile__followers-modal_displayName__1moWv\",\"username\":\"profile__followers-modal_username__3a7X3\",\"link\":\"profile__followers-modal_link__OguEg\",\"profileBtn\":\"profile__followers-modal_profileBtn__X2YLQ\",\"dummy\":\"profile__followers-modal_dummy__2d3Ba\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"post__loading_image__2GqsN\",\"profileImg\":\"post__loading_profileImg__3bWxo\",\"displayName\":\"post__loading_displayName__lC7S4\",\"username\":\"post__loading_username__2Qn2z\",\"commentProfile\":\"post__loading_commentProfile__29s--\",\"comment\":\"post__loading_comment__2IcMu\",\"gradientMove\":\"post__loading_gradientMove__1S51o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"nav__user-menu_container__Fqcgp\",\"inner\":\"nav__user-menu_inner__2kALp\",\"option\":\"nav__user-menu_option__3-4qX\",\"icon\":\"nav__user-menu_icon__3xZXt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewAll\":\"post__comment-section_viewAll__2sS96\",\"comments\":\"post__comment-section_comments__1kE_m\",\"commentContainer\":\"post__comment-section_commentContainer__2Pa15\",\"start\":\"post__comment-section_start__3HJtG\",\"comment\":\"post__comment-section_comment__3yWT0\",\"user\":\"post__comment-section_user__1KlxN\",\"time\":\"post__comment-section_time__rFzjS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"home__card__overlay_container__1j5BI\",\"fade\":\"home__card__overlay_fade__1rCNh\",\"header\":\"home__card__overlay_header__3YKgv\",\"close\":\"home__card__overlay_close__7bNL4\",\"main\":\"home__card__overlay_main__2TswB\",\"share\":\"home__card__overlay_share__3gvBr\",\"input\":\"home__card__overlay_input__2scVn\",\"button\":\"home__card__overlay_button__2zKPy\",\"scale\":\"home__card__overlay_scale__2xr_s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"feedContainer\":\"profile__feed_feedContainer__jw4N6\",\"feed\":\"profile__feed_feed__l-_-A\",\"outer\":\"profile__feed_outer__8KF2v\",\"notFound\":\"profile__feed_notFound__2QW_f\",\"notFoundButton\":\"profile__feed_notFoundButton__3EUiW\",\"loaderContainer\":\"profile__feed_loaderContainer__1_UKL\",\"endFeed\":\"profile__feed_endFeed__3rMZw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"messagesContact_active__1S8BW\",\"container\":\"messagesContact_container__SpyKz\",\"avatarContainer\":\"messagesContact_avatarContainer__37Pi8\",\"name\":\"messagesContact_name__2HHlB\",\"infoContainer\":\"messagesContact_infoContainer__XcOI9\",\"message\":\"messagesContact_message__1rt-A\",\"time\":\"messagesContact_time__3r9Eq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"nav__search__item_container__1rbtQ\",\"link\":\"nav__search__item_link__Lw8K0\",\"start\":\"nav__search__item_start__1udLh\",\"avatar\":\"nav__search__item_avatar__XDZQW\",\"displayName\":\"nav__search__item_displayName__2aH4p\",\"type\":\"nav__search__item_type__2UESu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"profile__card_card__7TO71\",\"container\":\"profile__card_container__29ku9\",\"link\":\"profile__card_link__1YrJR\",\"blur\":\"profile__card_blur__3aW37\",\"fade\":\"profile__card_fade__4kdFJ\",\"overlay\":\"profile__card_overlay__2wOy9\",\"icon\":\"profile__card_icon__15nv5\",\"loading\":\"profile__card_loading__1HL9C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"post__menu_container__OSM0B\",\"inner\":\"post__menu_inner__gfhKj\",\"option\":\"post__menu_option__2wYKe\",\"icon\":\"post__menu_icon__25HJ1\",\"postIcon\":\"post__menu_postIcon__3jcva\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"post_post__3I_6Y\",\"notFoundContainer\":\"post_notFoundContainer__3MkKm\",\"returnButton\":\"post_returnButton__3Ndd_\",\"container\":\"post_container__3XRbe\",\"image\":\"post_image__3qomB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"messages__create-menu_modal__1w8N3\",\"anim\":\"messages__create-menu_anim__2L1bg\",\"container\":\"messages__create-menu_container__2gz1S\",\"header\":\"messages__create-menu_header__1ZwAq\",\"close\":\"messages__create-menu_close__EwgDx\",\"listContainer\":\"messages__create-menu_listContainer__3hZ35\",\"listItem\":\"messages__create-menu_listItem__3RlRm\",\"start\":\"messages__create-menu_start__1kCYO\",\"avatarContainer\":\"messages__create-menu_avatarContainer__1ONU6\",\"names\":\"messages__create-menu_names__279M1\",\"displayName\":\"messages__create-menu_displayName__u7u3V\",\"username\":\"messages__create-menu_username__2CyxC\",\"link\":\"messages__create-menu_link__3LbMr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"messages_messages__-1auM\",\"navBg\":\"messages_navBg__1VcBn\",\"sidebar\":\"messages_sidebar__2VM5P\",\"header\":\"messages_header__2uzVi\",\"userAvatarContainer\":\"messages_userAvatarContainer__5qf6h\",\"userAvatarBlur\":\"messages_userAvatarBlur__2zJW5\",\"backArrowContainer\":\"messages_backArrowContainer__1vB9S\",\"headerTitle\":\"messages_headerTitle__3-WO_\",\"createIconContainer\":\"messages_createIconContainer__XW38m\",\"createIcon\":\"messages_createIcon__Mu0Dc\",\"contactsContainer\":\"messages_contactsContainer__1MVn_\",\"main\":\"messages_main__1Rz6i\",\"messageArea\":\"messages_messageArea__LK28x\",\"messageBox\":\"messages_messageBox__twOZU\",\"messageForm\":\"messages_messageForm__3c1jY\",\"input\":\"messages_input__1GR5Q\",\"send\":\"messages_send__-681q\",\"hide\":\"messages_hide__3IS7P\",\"remove\":\"messages_remove__2ZUm_\",\"backArrow\":\"messages_backArrow__9s_d-\",\"dummy\":\"messages_dummy__gznXD\",\"AnimationName\":\"messages_AnimationName__3AIOs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"notifications_container__10GIh\",\"inner\":\"notifications_inner__22gY9\",\"loader\":\"notifications_loader__1Yk7U\",\"none\":\"notifications_none__2563n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"nav__search_container__3vsLD\",\"inner\":\"nav__search_inner__3Zkl4\",\"loader\":\"nav__search_loader__vOsvU\",\"noResults\":\"nav__search_noResults__3MwRg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginButtons\":\"home__login_loginButtons__IDFl8\",\"signUp\":\"home__login_signUp__2PU0T\",\"login\":\"home__login_login__5UjpF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"home__feed_container__2yUKA\",\"loaderContainer\":\"home__feed_loaderContainer__3_m91\",\"noPosts\":\"home__feed_noPosts__j8c7Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"home_home__2aVVP\",\"inner\":\"home_inner__2gif9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"profile__avatar__modal_modal__3nLy6\",\"anim\":\"profile__avatar__modal_anim__1S14a\",\"avatar\":\"profile__avatar__modal_avatar__3eoW1\"};","export default __webpack_public_path__ + \"static/media/logo-2.6eea3ec0.png\";","const root = document.documentElement;\n\nconst dark = () => {\n  root.style.setProperty('--primary-font-color', 'white');\n  root.style.setProperty('--nav-background-color', 'rgba(0, 0, 0, 0.733)');\n  root.style.setProperty('--primary-transparent-color', 'rgba(0, 0, 0, 0.93)');\n  root.style.setProperty('--user-menu-font-color', 'white');\n  root.style.setProperty('--primary-background-color', 'black');\n  root.style.setProperty('--primary-border', '1px solid rgb(41, 41, 41)');\n  root.style.setProperty('--secondary-border', '1px solid rgb(41, 41, 41)');\n  root.style.setProperty('--loading-gradient', 'linear-gradient(to right, #000000, #353535)');\n  root.style.setProperty('--messages-sidebar-background', 'rgba(0, 0, 0, 0.87)');\n  root.style.setProperty('--messages-bubble-background', '#303030');\n  root.style.setProperty('--menu-hover-color', 'rgba(255, 255, 255, 0.1)');\n  root.style.setProperty('--notification-type-color', 'rgb(221, 221, 221)');\n  root.style.setProperty('--home-card-overlay', 'rgba(0, 0, 0, 0.85)');\n};\n\nconst light = () => {\n  root.style.setProperty('--primary-font-color', 'black');\n  root.style.setProperty('--nav-background-color', 'rgba(255, 255, 255, 0.733)');\n  root.style.setProperty('--primary-transparent-color', 'rgba(255, 255, 255, 0.98)');\n  root.style.setProperty('--user-menu-font-color', 'black');\n  root.style.setProperty('--primary-background-color', 'white');\n  root.style.setProperty('--primary-border', '1px solid rgb(41, 41, 41, 0)');\n  root.style.setProperty('--secondary-border', '1px solid rgb(206, 206, 206)');\n  root.style.setProperty('--loading-gradient', 'linear-gradient(to right, #ffffff, #c2c2c2)');\n  root.style.setProperty('--messages-sidebar-background', 'rgba(255, 255, 255, 0.87)');\n  root.style.setProperty('--messages-bubble-background', '#d3d3d3');\n  root.style.setProperty('--menu-hover-color', 'rgba(0, 0, 0, 0.1)');\n  root.style.setProperty('--notification-type-color', 'rgb(75, 75, 75)');\n  root.style.setProperty('--home-card-overlay', 'rgba(255, 255, 255, 0.85)');\n};\n\nexport { light, dark };\n","import firebase from 'firebase';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nexport const initFire = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n});\n\nexport const signIn = () => {\n  const provider = new firebase.auth.GoogleAuthProvider();\n  firebase.auth().signInWithPopup(provider);\n};\n\nexport const firestoreFieldValue = firebase.firestore.FieldValue;\nexport const timestamp = firebase.firestore.FieldValue.serverTimestamp();\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\nexport const storageRef = firebase.storage().ref();\nexport const storage = firebase.storage();\n","import React from 'react';\nimport { NavLink, Link } from 'react-router-dom';\nimport { IoPersonCircleOutline, IoPersonAddOutline, IoLogOut } from 'react-icons/io5';\nimport { CgDarkMode } from 'react-icons/cg';\nimport Styles from '../../styles/nav/nav__user-menu.module.css';\nimport { light, dark } from '../../functions/theme';\nimport { firestore } from '../../services/firebase';\n\nconst NavUserMenu = ({ setOpenMenu, currentUser, logout, theme, setTheme }) => {\n  const handleClick = (e) => {\n    e.preventDefault();\n    setOpenMenu(false);\n  };\n\n  const changeTheme = (e) => {\n    e.preventDefault();\n    if (theme === 'light') {\n      dark();\n      setTheme('dark');\n      if (currentUser) {\n        const userRef = firestore.collection('users').doc(currentUser.uid);\n        userRef.set(\n          {\n            theme: 'dark',\n          },\n          { merge: true }\n        );\n      }\n    } else if (theme === 'dark') {\n      light();\n      setTheme('light');\n      if (currentUser) {\n        const userRef = firestore.collection('users').doc(currentUser.uid);\n        userRef.set(\n          {\n            theme: 'light',\n          },\n          { merge: true }\n        );\n      }\n    }\n  };\n\n  return (\n    <div onClick={handleClick} className={Styles.container}>\n      <div className={Styles.inner}>\n        {currentUser ? (\n          <>\n            <NavLink className={Styles.option} to={`/profile/${currentUser.uid}`}>\n              <IoPersonCircleOutline className={Styles.icon} />\n              <div>\n                <p>Profile</p>\n              </div>\n            </NavLink>\n            <div onClick={changeTheme} className={Styles.option}>\n              <CgDarkMode className={Styles.icon} />\n              <p>Change Theme</p>\n            </div>\n            <div onClick={logout} className={Styles.option}>\n              <IoLogOut className={Styles.icon} />\n              <p>Logout</p>\n            </div>\n          </>\n        ) : (\n          <>\n            <Link className={Styles.option} to=\"/sign-up\">\n              <IoPersonAddOutline className={Styles.icon} />\n              <div>\n                <p>Sign Up</p>\n              </div>\n            </Link>\n            <div onClick={changeTheme} className={Styles.option}>\n              <CgDarkMode className={Styles.icon} />\n              <p>Change Theme</p>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default NavUserMenu;\n","const convertTime = (start, end) => {\n  const total = (end - start) / 1000;\n  if (total < 30) {\n    return 'now';\n  }\n  if (total < 60) {\n    const converted = Math.floor(total);\n    return `${converted}s`;\n  }\n  if (total >= 60 && total < 3600) {\n    const converted = Math.floor(total / 60);\n    return `${converted}m`;\n  }\n  if (total >= 3600 && total < 86400) {\n    const converted = Math.floor(total / 3600);\n    return `${converted}h`;\n  }\n  if (total >= 86400 && total < 604800) {\n    const converted = Math.floor(total / 86400);\n    return `${converted}d`;\n  }\n  if (total >= 604800 && total < 2592000) {\n    const converted = Math.floor(total / 604800);\n    return `${converted}w`;\n  }\n  if (total >= 2592000 && total < 31536000) {\n    const converted = Math.floor(total / 2592000);\n    return `${converted}${converted === 1 ? 'mth' : 'mths'}`;\n  }\n  if (total >= 31536000) {\n    const converted = Math.floor(total / 31536000);\n    return `${converted}${converted === 1 ? 'yr' : 'yrs'}`;\n  }\n};\n\nexport default convertTime;\n","import React, { useEffect, useState } from 'react';\nimport { IoPersonAdd } from 'react-icons/io5';\nimport { Link } from 'react-router-dom';\nimport { firestore } from '../../services/firebase';\nimport convertTime from '../../functions/convertTime';\nimport Styles from '../../styles/notifications/notifications__item.module.css';\n\nconst NotificationsItem = ({ item, userProfile }) => {\n  const [profile, setProfile] = useState();\n  const [preview, setPreview] = useState();\n  const [type, setType] = useState();\n  const [addTime, setAddTime] = useState();\n\n  const getProfile = async () => {\n    const profileRef = await firestore.collection('users').doc(item.user).get();\n    setProfile(profileRef.data());\n  };\n\n  const getPost = async () => {\n    const postRef = await firestore\n      .collection('users')\n      .doc(userProfile.userID)\n      .collection('posts')\n      .doc(item.post)\n      .get();\n    const url = postRef.data()?.src;\n    setPreview(url);\n  };\n\n  useEffect(() => {\n    getProfile();\n    if (item.type === 'liked' || item.type === 'comment') {\n      getPost();\n    }\n  }, []);\n\n  useEffect(() => {\n    const currentTime = Date.now();\n    const converted = convertTime(item.time, currentTime);\n    setAddTime(converted);\n  }, []);\n\n  useEffect(() => {\n    if (profile && preview) {\n      if (item.type === 'liked') {\n        setType(\n          <Link className={Styles.link} to={`/post/${userProfile.userID}/${item.post}`}>\n            <div className={Styles.container}>\n              <div className={Styles.start}>\n                <Link className={Styles.inlineLink} to={`/profile/${item.user}`}>\n                  <div className={Styles.avatarContainer}>\n                    <img className={Styles.avatar} src={profile.profilePhoto} alt=\"\" />\n                  </div>\n                  <div className={Styles.displayName}>{profile.displayName}</div>\n                </Link>\n                <div className={Styles.type}>liked your post.</div>\n              </div>\n              <div className={Styles.end}>\n                <span className={Styles.time}>{`${addTime}`}</span>\n                <img className={Styles.preview} src={preview} alt=\"\" />\n              </div>\n            </div>\n          </Link>\n        );\n      }\n      if (item.type === 'comment') {\n        setType(\n          <Link className={Styles.link} to={`/post/${userProfile.userID}/${item.post}`}>\n            <div className={Styles.container}>\n              <div className={Styles.start}>\n                <Link className={Styles.inlineLink} to={`/profile/${item.user}`}>\n                  <div className={Styles.avatarContainer}>\n                    <img className={Styles.avatar} src={profile.profilePhoto} alt=\"\" />\n                  </div>\n                  <div className={Styles.displayName}>{profile.displayName}</div>\n                </Link>\n                <div className={Styles.type}>left a comment:</div>\n                <div className={Styles.comment}>\n                  {item.comment.length >= 15 ? item.comment.substring(0, 15) + '...' : item.comment}\n                </div>\n              </div>\n              <div className={Styles.end}>\n                <span className={Styles.time}>{`${addTime}`}</span>\n                <img className={Styles.preview} src={preview} alt=\"\" />\n              </div>\n            </div>\n          </Link>\n        );\n      }\n    } else if (profile && item.type === 'followed') {\n      setType(\n        <Link className={Styles.link} to={`/profile/${item.user}`}>\n          <div className={Styles.container}>\n            <div className={Styles.start}>\n              <div className={Styles.avatarContainer}>\n                <img className={Styles.avatar} src={profile.profilePhoto} alt=\"\" />\n              </div>\n              <div className={Styles.displayName}>{profile.displayName}</div>\n              <div className={Styles.type}>followed you.</div>\n            </div>\n            <div className={Styles.end}>\n              <span className={Styles.time}>{`${addTime}`}</span>\n              <IoPersonAdd className={Styles.followed} />\n            </div>\n          </div>\n        </Link>\n      );\n    }\n  }, [preview, profile]);\n\n  return <>{profile && type}</>;\n};\n\nexport default NotificationsItem;\n","import React, { useContext, useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { auth, signIn, firestore, firestoreFieldValue } from '../services/firebase';\n\n// Create context\nconst AuthContext = React.createContext();\n\n// Function allows you to use the context\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n\n// Function that uses provider in return\nexport function AuthProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState();\n  const [userProfile, setUserProfile] = useState();\n  const [attemptLogin, setAttemptLogin] = useState();\n  const [loading, setLoading] = useState(true);\n  let history = useHistory();\n\n  const login = () => {\n    signIn();\n    setAttemptLogin(true);\n  };\n\n  function logout() {\n    setUserProfile(null);\n    history.push('/');\n    return auth.signOut();\n  }\n\n  // only check user on component mount\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      setCurrentUser(user);\n      setLoading(false);\n    });\n    return unsubscribe;\n  }, []);\n\n  const getUserProfile = async () => {\n    const profileData = await firestore.collection('users').doc(currentUser.uid).get();\n    setUserProfile(profileData.data());\n  };\n\n  useEffect(() => {\n    if (currentUser) {\n      getUserProfile();\n    }\n    if (attemptLogin && currentUser) {\n      return firestore\n        .collection('users')\n        .doc(currentUser.uid)\n        .get()\n        .then((userData) => {\n          //# if user data does not exist\n          if (!userData.exists) {\n            auth.signOut();\n            setAttemptLogin(false);\n          }\n        });\n    }\n  }, [currentUser]);\n\n  //+ check whether name is taken and then create the user\n  const firebaseRegister = async (usernameInput) => {\n    if (currentUser !== null) {\n      const userData = await firestore.collection('users').doc(currentUser.uid).get();\n      //# if user data does not exist\n      if (!userData.exists) {\n        let foundName;\n        await firestore\n          .collection('users')\n          .where('username', '==', usernameInput)\n          .get()\n          .then((searchResults) => {\n            return searchResults.forEach((doc) => {\n              foundName = doc.data();\n            });\n          });\n\n        if (foundName === undefined) {\n          const lower = currentUser.displayName.toLowerCase();\n          const currentTime = Date.now();\n          //+ create the user account\n          await firestore\n            .collection('users')\n            .doc(currentUser.uid)\n            .set({\n              displayName: currentUser.displayName,\n              searchName: lower,\n              profilePhoto: currentUser.photoURL,\n              banner:\n                'https://firebasestorage.googleapis.com/v0/b/insta-a107a.appspot.com/o/default-banner.jpg?alt=media&token=d3c53902-0e3a-4761-8705-8991db9d7b68',\n              bio: `Hi my name is ${currentUser.displayName}`,\n              username: usernameInput,\n              userID: currentUser.uid,\n              joinDate: currentUser.metadata.creationTime,\n              lastPostDate: 0,\n              likedPosts: [],\n              postsCounter: 0,\n              followers: [],\n              following: ['e9x1NbFsE8VqLAqAKfbpHkH0QS93'],\n              messagesCounter: 0,\n              notifications: [],\n              theme: 'light',\n            })\n            .catch(function (error) {\n              console.error('Error writing new message to database', error);\n            });\n          //+ add default message\n          const addMessage = () => {\n            firestore\n              .collection('users')\n              .doc(currentUser.uid)\n              .collection('messages')\n              .doc('e9x1NbFsE8VqLAqAKfbpHkH0QS93')\n              .set({\n                messages: [\n                  {\n                    message: `Hi ${currentUser.displayName}, Thanks for signing up and testing my project. Please look around and test all the features you can. You can reply to this message if you'd like, but I might not see it. So, to get in touch please email me at joshnwarren@gmail.com.`,\n                    time: currentTime,\n                    user: 'e9x1NbFsE8VqLAqAKfbpHkH0QS93',\n                  },\n                ],\n                time: currentTime,\n                user: 'e9x1NbFsE8VqLAqAKfbpHkH0QS93',\n              });\n          };\n          //+ update my followers\n          const addFollower = () => {\n            const userRef = firestore.collection('users').doc('e9x1NbFsE8VqLAqAKfbpHkH0QS93');\n            userRef.update({\n              followers: firestoreFieldValue.arrayUnion(currentUser.uid),\n            });\n          };\n\n          //+ notify me\n          const notify = () => {\n            const userRef = firestore.collection('users').doc('e9x1NbFsE8VqLAqAKfbpHkH0QS93');\n            userRef.update({\n              notifications: firestoreFieldValue.arrayUnion({\n                user: currentUser.uid,\n                type: 'followed',\n                time: currentTime,\n              }),\n            });\n          };\n\n          await Promise.all([addMessage(), addFollower(), notify()]);\n          history.push('/settings');\n        } else {\n          auth.signOut();\n        }\n      } else {\n        history.push('/');\n      }\n    }\n  };\n\n  const value = {\n    currentUser,\n    userProfile,\n    getUserProfile,\n    login,\n    logout,\n    firebaseRegister,\n  };\n\n  // Takes all value props\n  return <AuthContext.Provider value={value}>{!loading && children}</AuthContext.Provider>;\n}\n","import React, { useState, useEffect } from 'react';\nimport NotificationsItem from './NotificationsItem';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useHistory } from 'react-router';\nimport Styles from '../../styles/notifications/notifications.module.css';\n\nconst Notifications = ({ handleNoti, setCurrentNotis, notiArray }) => {\n  const { userProfile, getUserProfile } = useAuth();\n  const [loading, setLoading] = useState(true);\n  let history = useHistory();\n\n  useEffect(() => {\n    if (userProfile) {\n      getUserProfile();\n    } else {\n      history.push('/sign-up');\n      handleNoti();\n    }\n  }, []);\n\n  useEffect(() => {\n    if (userProfile) {\n      setLoading(false);\n    }\n  }, [userProfile]);\n\n  useEffect(() => {\n    if (loading) return;\n    setCurrentNotis(0);\n  }, [loading]);\n\n  let notiFragment;\n\n  if (loading) {\n    notiFragment = <div className={`${Styles.loader} loader`} />;\n  }\n\n  if (!loading) {\n    notiFragment =\n      notiArray && notiArray.length > 0 ? (\n        notiArray.map((item) => (\n          <NotificationsItem key={item.time} userProfile={userProfile} item={item} />\n        ))\n      ) : (\n        <p className={Styles.none}>No Notifications</p>\n      );\n  }\n\n  return (\n    <div onClick={handleNoti} className={Styles.container}>\n      <div className={Styles.inner}>{notiFragment}</div>\n    </div>\n  );\n};\n\nexport default Notifications;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Styles from '../../styles/nav/nav__search__item.module.css';\n\nconst NavSearchItem = ({ item, setOpenSearch, setSearchInput }) => {\n  let history = useHistory();\n\n  const handleClick = () => {\n    history.push(`/profile/${item.userID}`);\n    setOpenSearch(false);\n    setSearchInput('');\n  };\n  return (\n    <div onClick={handleClick} className={Styles.container}>\n      <div className={Styles.container}>\n        <div className={Styles.start}>\n          <div className={Styles.avatarContainer}>\n            <img className={Styles.avatar} src={item.profilePhoto} alt=\"\" />\n          </div>\n          <div className={Styles.displayName}>{item.displayName}</div>\n          <div className={Styles.type}>@{item.username}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NavSearchItem;\n","import React, { useState, useEffect } from 'react';\nimport NavSearchItem from './NavSearchItem';\nimport { firestore } from '../../services/firebase';\nimport Styles from '../../styles/nav/nav__search.module.css';\n\nconst NavSearch = ({ searchInput, setOpenSearch, setSearchInput, searchRef }) => {\n  const [searchResults, setSearchResults] = useState([]);\n\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    let handler = (e) => {\n      if (searchRef.current && !searchRef.current.contains(e.target)) {\n        setOpenSearch(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handler);\n    return () => {\n      document.removeEventListener('mousedown', handler);\n    };\n  }, []);\n\n  useEffect(() => {\n    const search = async () => {\n      if (searchInput !== '') {\n        setLoading(true);\n        let temp = [];\n        await firestore\n          .collection('users')\n          .where('searchName', '>=', searchInput.toLowerCase())\n          .where('searchName', '<=', searchInput.toLowerCase() + '\\uf8ff')\n          .limit(5)\n          .get()\n          .then((results) => {\n            return results.forEach((doc) => {\n              temp.push(doc.data());\n            });\n          });\n        setSearchResults(temp);\n        setLoading(false);\n      }\n    };\n    search();\n  }, [searchInput]);\n\n  let searchInner;\n\n  if (loading) {\n    searchInner = <div className={`loader ${Styles.loader}`} />;\n  }\n\n  if (!loading) {\n    searchInner = (\n      <>\n        {searchResults.length === 0 && <p className={Styles.noResults}>No Results</p>}\n        {searchResults.map((item) => (\n          <NavSearchItem\n            setSearchInput={setSearchInput}\n            setOpenSearch={setOpenSearch}\n            item={item}\n          />\n        ))}\n      </>\n    );\n  }\n\n  return (\n    <div ref={searchRef} className={Styles.container}>\n      <div className={Styles.inner}>{searchInner}</div>\n    </div>\n  );\n};\n\nexport default NavSearch;\n","const debounce = (func, delay) => {\n  let inDebounce;\n  return function () {\n    clearTimeout(inDebounce);\n    inDebounce = setTimeout(() => {\n      func.apply(this, arguments);\n    }, delay);\n  };\n};\n\nexport default debounce;\n","//+ new post modal\nconst stopScroll = (state) => {\n  if (state === false) {\n    document.body.classList.add('stop-scrolling');\n  } else {\n    document.body.classList.remove('stop-scrolling');\n  }\n};\n\nexport default stopScroll;\n","const resizeImage = (e, setImageFile, setPostFile, width) => {\n  const file = e.target.files[0];\n  if (file && file.size < 5000000) {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = (event) => {\n      const imgEl = document.createElement('img');\n      imgEl.src = event.target.result;\n\n      imgEl.onload = (img) => {\n        const canvas = document.createElement('canvas');\n        const MAX_WIDTH = width;\n        const scaleSize = MAX_WIDTH / img.target.width;\n        canvas.width = MAX_WIDTH;\n        canvas.height = img.target.height * scaleSize;\n\n        const ctx = canvas.getContext('2d');\n        ctx.drawImage(img.target, 0, 0, canvas.width, canvas.height);\n\n        const srcEncoded = ctx.canvas.toDataURL(img.target, 'image/jpeg');\n        if (setImageFile !== 'none') {\n          setImageFile(srcEncoded);\n        }\n        ctx.canvas.toBlob(\n          (blob) => {\n            setPostFile(blob);\n          },\n          'image/jpeg',\n          0.7\n        );\n      };\n    };\n  }\n};\n\nexport default resizeImage;\n","import Filter from \"bad-words\"\n\nconst filter = new Filter({\n    placeHolder: \"x\",\n})\n\nexport const clean = (text) => {\n    if (text.length === 0) return \"\"\n    return filter.clean(text)\n}","import React, { useState } from 'react';\nimport { IoCloseOutline, IoCloudUploadOutline } from 'react-icons/io5';\nimport { firestore, storageRef } from '../../services/firebase';\nimport resizeImage from '../../functions/resizeImage';\nimport { useAuth } from '../../contexts/AuthContext';\nimport Styles from '../../styles/profile/profile__upload.module.css';\nimport { clean } from '../../functions/clean';\n\nconst ProfileUpload = ({ getModal, setNewPost }) => {\n  const [postFile, setPostFile] = useState(null);\n  const [caption, setCaption] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const [imageFile, setImageFile] = useState();\n  const { userProfile, getUserProfile } = useAuth();\n\n  //+ after choosing a file store it in state\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file && file.size < 5000000) {\n      resizeImage(e, setImageFile, setPostFile, 1000);\n    } else {\n      setPostFile(null);\n    }\n  };\n\n  //+ set the caption\n  const handleTextChange = (e) => {\n    e.preventDefault();\n    setCaption(clean(e.target.value));\n  };\n\n  //+ submit the post\n  const handleSubmit = async (e) => {\n    const timestamp = Date.now();\n    e.preventDefault();\n    setUploading(true);\n    //+ create post info\n    const createPost = await firestore\n      .collection('users')\n      .doc(userProfile.userID)\n      .collection('posts')\n      .add({\n        date: timestamp,\n        likes: [],\n        comments: [],\n        caption: caption,\n        userID: userProfile.userID,\n      });\n    //+ upload image to storage\n    const fileRef = storageRef.child(`${userProfile.userID}/${createPost.id}`);\n    await fileRef.put(postFile);\n    const fileUrl = await fileRef.getDownloadURL();\n    //+ set src to image url\n    await createPost.set(\n      {\n        src: fileUrl,\n      },\n      { merge: true }\n    );\n    //+ update post count\n    await firestore\n      .collection('users')\n      .doc(userProfile.userID)\n      .set(\n        {\n          postsCounter: userProfile.postsCounter + 1,\n          lastPostDate: timestamp,\n        },\n        { merge: true }\n      );\n    //+ close modal and update state with new post\n    getModal(e);\n    setUploading(false);\n    getUserProfile();\n    if (!setNewPost) return;\n    setNewPost((prev) => prev + 1);\n  };\n\n  const doNothing = (e) => {\n    e.preventDefault();\n  };\n\n  return (\n    <div className={Styles.modal}>\n      <div className={Styles.container}>\n        <div className={Styles.header}>\n          <h3>Create New Post</h3>\n          <IoCloseOutline onClick={getModal} className={Styles.close} />\n        </div>\n        <div className={Styles.topContainer}>\n          <img\n            style={!imageFile ? { display: 'none' } : null}\n            className={Styles.preview}\n            src={imageFile}\n            alt=\"\"\n          />\n\n          <div style={imageFile && { display: 'none' }} className={Styles.uploadContainer}>\n            <label className={Styles.buttonContainer}>\n              <input\n                onChange={handleFileChange}\n                type=\"file\"\n                accept=\"image/jpeg, image/png, image/jpg\"\n                className={Styles.fileInput}\n              />\n              <IoCloudUploadOutline className={Styles.upload} />\n              <p>{postFile === null ? 'File size limit 5 mb.' : 'ready to post'}</p>\n            </label>\n          </div>\n          <div>\n            <div className={Styles.captionContainer}>\n              <textarea\n                className={Styles.captionInput}\n                name=\"caption\"\n                maxLength=\"150\"\n                placeholder=\"Enter Caption...\"\n                onChange={handleTextChange}\n              />\n            </div>\n          </div>\n        </div>\n        {uploading ? (\n          <div className={`${Styles.loader} loader`} />\n        ) : (\n          <button\n            onClick={postFile !== null ? handleSubmit : doNothing}\n            type=\"submit\"\n            className={postFile === null ? Styles.postButton : Styles.saveBtn}\n          >\n            Post\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileUpload;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { NavLink, Link, useHistory } from 'react-router-dom';\nimport {\n  IoHomeOutline,\n  IoChatbubbleOutline,\n  IoHeartOutline,\n  IoPersonOutline,\n  IoAddCircleOutline,\n} from 'react-icons/io5';\nimport logo from '../../assets/img/logo/logo-2.png';\nimport NavUserMenu from './NavUserMenu';\nimport Styles from '../../styles/nav/nav.module.css';\nimport Notifications from '../Notifications/Notifications';\nimport NavSearch from './NavSearch';\nimport { light, dark } from '../../functions/theme';\nimport debounce from '../../functions/debounce';\nimport stopScroll from '../../functions/stopScroll';\nimport ProfileUpload from '../Profile/ProfileUpload';\nimport { firestore } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst Nav = () => {\n  const { currentUser, logout, userProfile } = useAuth();\n  const [theme, setTheme] = useState('light');\n  const [openMenu, setOpenMenu] = useState(false);\n  const [openNoti, setOpenNoti] = useState(false);\n  const [openSearch, setOpenSearch] = useState(false);\n  const [currentNotis, setCurrentNotis] = useState(0);\n  const [notiArray, setNotiArray] = useState([]);\n  const [searchInput, setSearchInput] = useState('');\n  const [searchValue, setSearchValue] = useState('');\n  const [renderModal, setRenderModal] = useState(false);\n  let history = useHistory();\n\n  const getModal = (e) => {\n    e.preventDefault();\n    if (!userProfile) return history.push('/sign-up');\n    renderModal ? setRenderModal(false) : setRenderModal(true);\n    stopScroll(renderModal);\n  };\n\n  const handleUserIcon = (e) => {\n    e.preventDefault();\n    openMenu ? setOpenMenu(false) : setOpenMenu(true);\n  };\n\n  const handleNoti = async () => {\n    if (!userProfile) return history.push('/sign-up');\n    if (openNoti) {\n      setOpenNoti(false);\n    } else {\n      setNotiArray(userProfile.notifications);\n      setCurrentNotis(0);\n      setOpenNoti(true);\n      const userRef = firestore.collection('users').doc(userProfile.userID);\n      await userRef.set(\n        {\n          notifications: [],\n        },\n        { merge: true }\n      );\n    }\n  };\n\n  let menuRef = useRef();\n  let notiRef = useRef();\n\n  useEffect(() => {\n    let handler = (e) => {\n      if (menuRef.current && !menuRef.current.contains(e.target)) {\n        setOpenMenu(false);\n      }\n\n      if (notiRef.current && !notiRef.current.contains(e.target)) {\n        setOpenNoti(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handler);\n    return () => {\n      document.removeEventListener('mousedown', handler);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (userProfile && userProfile.notifications) {\n      const unseen = userProfile.notifications.length;\n      setCurrentNotis(unseen);\n    }\n    if (userProfile && userProfile.theme) {\n      if (userProfile.theme === 'dark') {\n        dark();\n        setTheme('dark');\n      } else if (userProfile.theme === 'light') {\n        light();\n        setTheme('light');\n      }\n    }\n  }, [userProfile]);\n\n  const debounceChange = useCallback(\n    debounce((nextValue) => setSearchInput(nextValue), 500),\n    []\n  );\n\n  const handleSearch = (e) => {\n    setSearchValue(e.target.value);\n    debounceChange(e.target.value);\n  };\n\n  const searchRef = useRef();\n\n  const handleSearchModal = (e) => {\n    e.preventDefault();\n    !openSearch && setOpenSearch(true);\n  };\n\n  return (\n    <>\n      {renderModal ? (\n        <ProfileUpload getModal={getModal} />\n      ) : (\n        <div className={Styles.nav}>\n          <div className={Styles.inner}>\n            <Link to=\"/\">\n              <div className={Styles.logo}>\n                <img className={Styles.logoImg} src={logo} alt=\"\" />\n                <h2>Instagram</h2>\n              </div>\n            </Link>\n            {/*//+ search box */}\n            <div className={Styles.search}>\n              <form autoComplete=\"off\">\n                <input\n                  ref={searchRef}\n                  onChange={handleSearch}\n                  value={searchValue}\n                  className={Styles.searchInput}\n                  onClick={handleSearchModal}\n                  type=\"text\"\n                  placeholder=\"Search\"\n                />\n              </form>\n              {openSearch && searchInput !== '' ? (\n                <NavSearch\n                  setSearchInput={setSearchInput}\n                  searchInput={searchInput}\n                  setOpenSearch={setOpenSearch}\n                  searchRef={searchRef}\n                />\n              ) : null}\n            </div>\n            <div className={Styles.icons}>\n              <NavLink exact to=\"/\">\n                <IoHomeOutline className={Styles.icon + ' ' + Styles.home} />\n              </NavLink>\n              <NavLink exact to={userProfile ? '/messages' : '/sign-up'}>\n                <IoChatbubbleOutline className={Styles.icon + ' ' + Styles.chat} />\n              </NavLink>\n              <IoAddCircleOutline onClick={getModal} className={Styles.icon + ' ' + Styles.add} />\n              {/*//+ notifications */}\n              <div onClick={handleNoti} className={Styles.notiContainer} ref={notiRef}>\n                <IoHeartOutline className={Styles.icon + ' ' + Styles.heart} />\n                {currentNotis > 0 ? <div className={Styles.notiBadge}>{currentNotis}</div> : null}\n                {openNoti && (\n                  <Notifications\n                    notiArray={notiArray}\n                    setCurrentNotis={setCurrentNotis}\n                    handleNoti={handleNoti}\n                  />\n                )}\n              </div>\n              {/*//+ profile menu */}\n              <div className=\"user-menu-container\" ref={menuRef}>\n                <NavLink\n                  className={Styles.profileLink}\n                  onClick={(e) => e.preventDefault()}\n                  exact\n                  to={`/profile/${currentUser?.uid}`}\n                >\n                  <IoPersonOutline\n                    onClick={handleUserIcon}\n                    className={Styles.icon + ' ' + Styles.person}\n                  />\n                </NavLink>\n                {openMenu && (\n                  <NavUserMenu\n                    theme={theme}\n                    setTheme={setTheme}\n                    setOpenMenu={setOpenMenu}\n                    logout={logout}\n                    currentUser={currentUser}\n                  />\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Nav;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport Styles from '../../styles/home/home__login.module.css';\n\nconst LoginButton = () => {\n  const { login, currentUser } = useAuth();\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    login();\n  };\n\n  return (\n    <div>\n      {!currentUser && (\n        <div className={Styles.loginButtons}>\n          <Link id=\"home__sidebar__sign-up\" to=\"/sign-up\">\n            <button className={Styles.signUp}>Sign Up</button>\n          </Link>\n          <button className={Styles.login} onClick={handleLogin}>\n            Login\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default LoginButton;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { firestore, firestoreFieldValue } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst ProfileButton = ({\n  Styles,\n  currentUser,\n  match,\n  currentProfile,\n  getUserObject,\n  handleFollowers,\n}) => {\n  const [following, setFollowing] = useState(false);\n  const { userProfile } = useAuth();\n  let history = useHistory();\n\n  useEffect(() => {\n    const check = currentProfile?.followers.includes(userProfile?.userID);\n    if (check) {\n      setFollowing(true);\n    } else {\n      setFollowing(false);\n    }\n  }, [currentProfile]);\n\n  //+ follow\n  const handleFollow = async (e) => {\n    e.preventDefault();\n    if (!userProfile) return history.push('/sign-up');\n    const thisUser = firestore.collection('users').doc(match);\n    const userRef = firestore.collection('users').doc(userProfile.userID);\n\n    await thisUser.update({\n      followers: firestoreFieldValue.arrayUnion(userProfile.userID),\n    });\n    await userRef.update({\n      following: firestoreFieldValue.arrayUnion(currentProfile.userID),\n    });\n    await thisUser.update({\n      notifications: firestoreFieldValue.arrayUnion({\n        user: userProfile.userID,\n        type: 'followed',\n        time: Date.now(),\n      }),\n    });\n    getUserObject();\n  };\n\n  //+ unfollow\n  const handleUnfollow = async (e) => {\n    e.preventDefault();\n\n    const thisUser = firestore.collection('users').doc(match);\n    const userRef = firestore.collection('users').doc(userProfile.userID);\n\n    await thisUser.update({\n      followers: firestoreFieldValue.arrayRemove(userProfile.userID),\n    });\n    await userRef.update({\n      following: firestoreFieldValue.arrayRemove(currentProfile.userID),\n    });\n    getUserObject();\n  };\n\n  const handleLink = (e) => {\n    e.preventDefault();\n    if (handleFollowers) {\n      handleFollowers(e);\n    }\n    history.push('/settings');\n  };\n\n  //+ decides if profile button should be follow or edit\n  let button = (\n    <button onClick={handleFollow} className={Styles.profileBtn}>\n      Follow\n    </button>\n  );\n\n  if (following) {\n    button = (\n      <button onClick={handleUnfollow} className={Styles.profileBtn}>\n        Unfollow\n      </button>\n    );\n  }\n  // if contains user. set following\n  if (currentUser?.uid === match) {\n    button = (\n      <button onClick={handleLink} className={Styles.profileBtn}>\n        Edit Profile\n      </button>\n    );\n  }\n\n  return <>{button}</>;\n};\n\nexport default ProfileButton;\n","import React, { useState } from 'react';\n\nconst ImageLoader = ({\n  src,\n  position = 'relative',\n  width = '100%',\n  height = '100%',\n  transition = 0.7,\n  cursor = 'pointer',\n  borderRadius = '0',\n  shadow = 'none',\n  zIndex = '1',\n}) => {\n  const [loading, setLoading] = useState(true);\n\n  const handleLoad = () => {\n    setLoading(false);\n  };\n\n  const loadingDiv = {\n    width,\n    height,\n    position,\n    zIndex,\n    background: 'var(--loading-gradient)',\n    backgroundSize: '200%',\n    animation: '2s linear infinite gradientMove',\n    display: 'block',\n    borderRadius,\n    boxShadow: shadow,\n  };\n\n  const hideDiv = {\n    width,\n    height,\n    position,\n    zIndex,\n    background: 'var(--loading-gradient)',\n    backgroundSize: '200%',\n    animation: 'none',\n    display: 'block',\n    borderRadius,\n    boxShadow: shadow,\n  };\n\n  const image = {\n    position,\n    width,\n    height,\n    objectFit: 'cover',\n    objectPosition: 'center',\n    cursor,\n    opacity: '1',\n    transition: `opacity ${transition}s`,\n    borderRadius,\n    boxShadow: shadow,\n  };\n\n  const hideImg = {\n    position,\n    width,\n    height,\n    opacity: '0',\n    borderRadius,\n  };\n\n  return (\n    <>\n      <div style={!loading ? hideDiv : loadingDiv}>\n        <img style={!loading ? image : hideImg} onLoad={handleLoad} src={src} alt=\"\" />\n      </div>\n    </>\n  );\n};\n\nexport default ImageLoader;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { firestore } from '../../services/firebase';\nimport ProfileButton from './ProfileButton';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst ProfileFollowerListItem = ({ item, Styles, handleFollowers, currentTab, currentUser }) => {\n  const [current, setCurrent] = useState(null);\n\n  let history = useHistory();\n  const getUser = async () => {\n    const userRef = firestore.collection('users').doc(item);\n    const thisUser = await userRef.get();\n    setCurrent(thisUser.data());\n  };\n  useEffect(() => {\n    getUser();\n  }, [currentTab]);\n\n  const handleLink = (e) => {\n    e.preventDefault();\n    handleFollowers(e);\n    history.push(`/profile/${current?.userID}`);\n  };\n\n  return (\n    <div className={Styles.listItem}>\n      <div onClick={handleLink} className={Styles.start}>\n        <div className={Styles.avatarContainer}>\n          <ImageLoader src={current?.profilePhoto} borderRadius=\"100%\" />\n        </div>\n        <div className={Styles.names}>\n          <p className={Styles.displayName}>{current?.displayName}</p>\n          <p className={Styles.username}>@{current?.username}</p>\n        </div>\n      </div>\n\n      <ProfileButton\n        currentProfile={current}\n        match={current?.userID}\n        currentUser={currentUser}\n        getUserObject={getUser}\n        Styles={Styles}\n        handleFollowers={handleFollowers}\n      />\n    </div>\n  );\n};\n\nexport default ProfileFollowerListItem;\n","import { useState, useEffect } from 'react';\n\nconst useIntersect = (ref, end) => {\n  const [isFetching, setIsFetching] = useState(false);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting && !isFetching) {\n          if (!end) return setIsFetching(true);\n          if (end.current === false) {\n            setIsFetching(true);\n          }\n        }\n      },\n      {\n        root: null,\n        rootMargin: '0px',\n        threshold: 0.1,\n      }\n    );\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n    return () => {\n      observer.disconnect();\n    };\n  }, [ref]);\n\n  return [isFetching, setIsFetching];\n};\n\nexport default useIntersect;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { IoCloseOutline } from 'react-icons/io5';\nimport Styles from '../../styles/profile/profile__followers-modal.module.css';\nimport ProfileFollowerListItem from './ProfileFollowerListItem';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst ProfileFollowers = ({\n  openFollowers,\n  handleFollowers,\n  currentProfile,\n  currentTab,\n  setCurrentTab,\n  currentUser,\n}) => {\n  const [list, setList] = useState([]);\n\n  const ref = useRef();\n  const [isFetching, setIsFetching] = useIntersect(ref);\n\n  const handleSwitch = (e) => {\n    e.preventDefault();\n    const choice = e.target.getAttribute('data-type');\n    setCurrentTab(choice);\n  };\n\n  useEffect(() => {\n    if (!currentProfile) return;\n    const { followers, following } = currentProfile;\n    let current;\n    currentTab === 'following' ? (current = following) : (current = followers);\n\n    const reverse = current.slice(0).reverse();\n    const slice = reverse.slice(0, 10);\n    setList([...slice]);\n  }, [currentTab]);\n\n  //+ GET more from storage\n  const createMore = () => {\n    if (!currentProfile) return;\n    const { followers, following } = currentProfile;\n    let current;\n    currentTab === 'following' ? (current = following) : (current = followers);\n\n    const reverse = current.slice(0).reverse();\n    const sliced = reverse.slice(list.length, list.length + 10);\n\n    const combine = [...list, ...sliced];\n    setList(combine);\n  };\n\n  useEffect(() => {\n    if (!isFetching) return;\n    createMore();\n  }, [isFetching]);\n\n  useEffect(() => {\n    setIsFetching(false);\n  }, [list]);\n\n  let map;\n\n  if (currentTab === 'following') {\n    map = list.map((item) => {\n      return (\n        <ProfileFollowerListItem\n          currentTab={currentTab}\n          handleFollowers={handleFollowers}\n          item={item}\n          Styles={Styles}\n          currentUser={currentUser}\n          key={item}\n        />\n      );\n    });\n  }\n\n  if (currentTab === 'followers') {\n    map = list.map((item) => {\n      return (\n        <ProfileFollowerListItem\n          currentTab={currentTab}\n          handleFollowers={handleFollowers}\n          item={item}\n          Styles={Styles}\n          currentUser={currentUser}\n          key={item}\n        />\n      );\n    });\n  }\n\n  return (\n    <>\n      {openFollowers && (\n        <div className={Styles.modal}>\n          <div className={Styles.container}>\n            <div className={Styles.header}>\n              <div className={Styles.tabs}>\n                <div\n                  onClick={handleSwitch}\n                  data-type=\"following\"\n                  className={\n                    currentTab === 'following' ? Styles.activeHeader : Styles.inactiveHeader\n                  }\n                >\n                  <h3 data-type=\"following\">Following</h3>\n                </div>\n                <div\n                  onClick={handleSwitch}\n                  data-type=\"followers\"\n                  className={\n                    currentTab === 'followers' ? Styles.activeHeader : Styles.inactiveHeader\n                  }\n                >\n                  <h3 data-type=\"followers\">Followers</h3>\n                </div>\n              </div>\n              <IoCloseOutline onClick={handleFollowers} className={Styles.close} />\n            </div>\n            {/*//+ list of followers is here */}\n            <div className={Styles.listContainer}>\n              {map}\n              <div className={Styles.dummy} ref={ref}></div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ProfileFollowers;\n","import React, { useState } from 'react';\nimport { IoAddCircleOutline } from 'react-icons/io5';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport LoginButton from './LoginButton';\nimport ProfileFollowersModal from '../Profile/ProfileFollowersModal';\nimport ProfileUpload from '../Profile/ProfileUpload';\nimport stopScroll from '../../functions/stopScroll';\nimport ImageLoader from '../reusable/ImageLoader';\nimport Styles from '../../styles/home/home__sidebar.module.css';\n\nconst Sidebar = ({ setNewPost }) => {\n  const { userProfile } = useAuth();\n  const [openFollowers, setOpenFollowers] = useState(false);\n  const [currentTab, setCurrentTab] = useState();\n  const [renderModal, setRenderModal] = useState(false);\n\n  const handleFollowers = (e) => {\n    e.preventDefault();\n    const choice = e.target.getAttribute('data-type');\n    setCurrentTab(choice);\n    openFollowers ? setOpenFollowers(false) : setOpenFollowers(true);\n    stopScroll(openFollowers);\n  };\n\n  //+ new post modal\n  const getModal = (e) => {\n    e.preventDefault();\n    renderModal ? setRenderModal(false) : setRenderModal(true);\n    stopScroll(renderModal);\n  };\n\n  return (\n    <div className={Styles.sidebar}>\n      <ProfileFollowersModal\n        currentProfile={userProfile}\n        handleFollowers={handleFollowers}\n        setOpenFollowers={setOpenFollowers}\n        openFollowers={openFollowers}\n        currentTab={currentTab}\n        setCurrentTab={setCurrentTab}\n        currentUser={userProfile}\n      />\n      {renderModal && <ProfileUpload setNewPost={setNewPost} getModal={getModal} />}\n      <div className={Styles.container}>\n        {userProfile && (\n          <Link to={`/profile/${userProfile.userID}`}>\n            <div className={Styles.profileContainer}>\n              <div className={Styles.imageContainer}>\n                <ImageLoader\n                  src={userProfile.profilePhoto}\n                  position=\"absolute\"\n                  width=\"80px\"\n                  height=\"80px\"\n                  cursor=\"pointer\"\n                  borderRadius=\"100%\"\n                />\n                <img className={Styles.profileImgBlur} src={userProfile.profilePhoto} alt=\"\" />\n              </div>\n              <div className={Styles.nameContainer}>\n                <h2 className={Styles.displayName}>{userProfile.displayName}</h2>\n                <p className={Styles.username}>@{userProfile.username}</p>\n              </div>\n            </div>\n          </Link>\n        )}\n        {userProfile && (\n          <div className={Styles.stats}>\n            <div onClick={handleFollowers} data-type=\"following\" className={Styles.statContainer}>\n              <div data-type=\"following\" className={Styles.stat}>\n                <p data-type=\"following\" className={Styles.number}>\n                  {userProfile.following.length}\n                </p>\n              </div>\n              <p data-type=\"following\">Following</p>\n            </div>\n            <div onClick={handleFollowers} data-type=\"followers\" className={Styles.statContainer}>\n              <div data-type=\"followers\" className={Styles.stat}>\n                <p data-type=\"followers\" className={Styles.number}>\n                  {userProfile.followers.length}\n                </p>\n              </div>\n              <p data-type=\"followers\">Followers</p>\n            </div>\n            <Link className={Styles.postsLink} to={`/profile/${userProfile.userID}`}>\n              <div className={Styles.statContainer}>\n                <div className={Styles.stat}>\n                  <p className={Styles.number}>{userProfile.postsCounter}</p>\n                </div>\n                <p>Posts</p>\n              </div>\n            </Link>\n            <div onClick={getModal} className={Styles.statContainer}>\n              <div className={Styles.stat}>\n                <IoAddCircleOutline />\n              </div>\n              <p>New Post</p>\n            </div>\n          </div>\n        )}\n        <LoginButton />\n      </div>\n    </div>\n  );\n};\n\nexport default Sidebar;\n","import React, { useEffect, useState } from 'react';\nimport { IoHeartOutline } from 'react-icons/io5';\nimport { useHistory } from 'react-router';\nimport Styles from '../../styles/home/home__card.module.css';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { firestore, firestoreFieldValue } from '../../services/firebase';\n\nconst HomeCardLike = ({ post, userID, setLikeState }) => {\n  const [liked, setLiked] = useState(false);\n  const { userProfile } = useAuth();\n  let history = useHistory();\n\n  const updateLikes = async () => {\n    if (userProfile && userProfile.likedPosts) {\n      if (userProfile.likedPosts.includes(post.id)) {\n        setLiked(true);\n      } else {\n        setLiked(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    updateLikes();\n  }, [userProfile]);\n\n  //! handle like\n  const handleLike = async (e) => {\n    e.preventDefault();\n    if (userProfile && userID) {\n      const thisPost = firestore.collection('users').doc(userID).collection('posts').doc(post.id);\n      const thisUser = firestore.collection('users').doc(userProfile.userID);\n      const postUser = firestore.collection('users').doc(userID);\n\n      //@ add this post to likes\n      if (!liked) {\n        setLiked(true);\n        setLikeState((prev) => prev + 1);\n        const addPost = () => {\n          thisPost.update({\n            likes: firestoreFieldValue.arrayUnion(userProfile.userID),\n          });\n        };\n        const addUser = () => {\n          thisUser.update({\n            likedPosts: firestoreFieldValue.arrayUnion(post.id),\n          });\n        };\n        const notify = () => {\n          postUser.update({\n            notifications: firestoreFieldValue.arrayUnion({\n              user: userProfile.userID,\n              type: 'liked',\n              post: post.id,\n              time: Date.now(),\n            }),\n          });\n        };\n        await Promise.all([notify(), addPost(), addUser()]);\n      } else {\n        //@ remove post from likes\n        const removePost = () => {\n          setLiked(false);\n          setLikeState((prev) => prev - 1);\n          thisPost.update({\n            likes: firestoreFieldValue.arrayRemove(userProfile.userID),\n          });\n        };\n        const removeUser = () => {\n          thisUser.update({\n            likedPosts: firestoreFieldValue.arrayRemove(post.id),\n          });\n        };\n        await Promise.all([removePost(), removeUser()]);\n      }\n    } else {\n      history.push('/sign-up');\n    }\n  };\n  return (\n    <IoHeartOutline onClick={handleLike} className={liked ? Styles.likedIcon : Styles.likeIcon} />\n  );\n};\n\nexport default HomeCardLike;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { firestore } from '../../services/firebase';\n\nconst HomeCardCommentItem = ({ Styles, item }) => {\n  const [current, setCurrent] = useState();\n\n  useEffect(() => {\n    const getUser = async () => {\n      const userRef = firestore.collection('users').doc(item.user);\n      const thisUser = await userRef.get();\n      setCurrent(thisUser.data());\n    };\n    getUser();\n  }, [item]);\n  return (\n    <>\n      {current && (\n        <p className={Styles.comment}>\n          <Link to={`/profile/${current.userID}`}>\n            <span className={Styles.commentUser}>{current.displayName}</span>\n          </Link>\n          {item.comment.length >= 15 ? item.comment.substring(0, 50) + '...' : item.comment}\n        </p>\n      )}\n    </>\n  );\n};\n\nexport default HomeCardCommentItem;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { IoSendOutline } from 'react-icons/io5';\nimport HomeCardCommentItem from './HomeCardCommentItem';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { firestore, firestoreFieldValue } from '../../services/firebase';\nimport { clean } from '../../functions/clean';\n\nconst HomeCardComments = ({ Styles, userID, post }) => {\n  const [commentArr, setCommentArr] = useState([]);\n  const [commentInput, setCommentInput] = useState('');\n  const { userProfile } = useAuth();\n\n  useEffect(() => {\n    const { comments } = post.data();\n    const temp = comments.slice(Math.max(comments.length - 2, 0));\n    setCommentArr(temp);\n  }, [post]);\n\n  const handleComment = async (e) => {\n    e.preventDefault();\n    if (userProfile) {\n      if (commentInput.length > 0 && commentInput.length < 100) {\n        const time = Date.now();\n        const commentObject = { time: time, comment: commentInput, user: userProfile.userID };\n        const temp = commentArr.slice(Math.max(commentArr.length - 1, 0));\n        temp.push(commentObject);\n\n        const thisPost = firestore.collection('users').doc(userID).collection('posts').doc(post.id);\n        const thisUser = firestore.collection('users').doc(userID);\n        //@ add comment to post\n        const addPost = () => {\n          thisPost.update({\n            comments: firestoreFieldValue.arrayUnion(commentObject),\n          });\n        };\n        const notify = () => {\n          thisUser.update({\n            notifications: firestoreFieldValue.arrayUnion({\n              user: userProfile.userID,\n              type: 'comment',\n              comment: commentInput,\n              post: post.id,\n              time: time,\n            }),\n          });\n        };\n        await Promise.all([notify(), addPost()]);\n\n        setCommentArr(temp);\n        setCommentInput('');\n      }\n    }\n  };\n\n  const handleChange = (e) => {\n    setCommentInput(clean(e.target.value));\n  };\n\n  return (\n    <>\n      <div className={Styles.comments}>\n        <Link className={Styles.imageLink} to={`/Post/${userID}/${post.id}`}>\n          <p className={Styles.viewAll}>\n            {commentArr.length === 0 ? 'No Comments' : 'View All Comments'}\n          </p>\n        </Link>\n        <div className={Styles.commentContainer}>\n          {commentArr.map((item) => {\n            return <HomeCardCommentItem key={item.time} item={item} Styles={Styles} />;\n          })}\n        </div>\n      </div>\n      <div className={Styles.commentBox}>\n        <form onSubmit={handleComment} className={Styles.commentForm}>\n          <input\n            className={Styles.inputBox}\n            value={commentInput}\n            onChange={handleChange}\n            type=\"text\"\n            placeholder=\"Add a comment...\"\n            maxLength=\"99\"\n          />\n        </form>\n        <IoSendOutline onClick={handleComment} className={Styles.send} />\n      </div>\n    </>\n  );\n};\n\nexport default HomeCardComments;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst HomeCardImage = ({ Styles, src, userID, postID }) => {\n  return (\n    <Link className={Styles.imageLink} to={`/Post/${userID}/${postID}`}>\n      <div className={Styles.imageContainer}>\n        <ImageLoader src={src} cursor=\"pointer\" />\n      </div>\n    </Link>\n  );\n};\n\nexport default HomeCardImage;\n","import React from 'react';\nimport { IoCloseOutline } from 'react-icons/io5';\nimport { useHistory } from 'react-router';\nimport { firestore, firestoreFieldValue } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport Styles from '../../styles/home/home__card__overlay.module.css';\n\nconst HomeCardOverlay = ({ getModal, type, userID, post }) => {\n  const { userProfile } = useAuth();\n  let history = useHistory();\n  //+ unfollow\n  const handleUnfollow = async () => {\n    const thisUser = firestore.collection('users').doc(userID);\n    const userRef = firestore.collection('users').doc(userProfile.userID);\n\n    await thisUser.update({\n      followers: firestoreFieldValue.arrayRemove(userProfile.userID),\n    });\n    await userRef.update({\n      following: firestoreFieldValue.arrayRemove(userID),\n    });\n    getModal();\n  };\n\n  const copyToClipboard = (content) => {\n    const el = document.createElement('textarea');\n    el.value = content;\n    document.body.appendChild(el);\n    el.select();\n    document.execCommand('copy');\n    document.body.removeChild(el);\n  };\n\n  const handleShare = () => {\n    copyToClipboard(`${window.location.href}post/${userID}/${post.id}`);\n    getModal();\n  };\n\n  const openLink = (linkType) => {\n    history.push(`/${linkType}`);\n  };\n\n  let button;\n\n  if (type === 'share') {\n    button = (\n      <div className={Styles.share}>\n        <input\n          className={Styles.input}\n          value={`${window.location.href}post/${userID}/${post.id}`}\n        />\n        <button onClick={handleShare} className={Styles.button}>\n          Copy Link\n        </button>\n      </div>\n    );\n  }\n\n  if (type === 'follow') {\n    if (!userProfile) {\n      button = (\n        <button\n          onClick={() => {\n            openLink('sign-up');\n          }}\n          className={Styles.button}\n        >\n          Login\n        </button>\n      );\n    }\n\n    if (userProfile) {\n      if (userProfile.userID === userID) {\n        button = (\n          <button\n            onClick={() => {\n              openLink('settings');\n            }}\n            className={Styles.button}\n          >\n            Edit Profile\n          </button>\n        );\n      }\n      if (userProfile.userID !== userID) {\n        button = (\n          <button onClick={handleUnfollow} className={Styles.button}>\n            Unfollow\n          </button>\n        );\n      }\n    }\n  }\n\n  return (\n    <div className={Styles.container}>\n      <div className={Styles.header}>\n        <IoCloseOutline onClick={getModal} className={Styles.close} />\n      </div>\n      <div className={Styles.main}>{button}</div>\n    </div>\n  );\n};\n\nexport default HomeCardOverlay;\n","import React, { useState, useEffect } from 'react';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport { Link } from 'react-router-dom';\nimport { IoShareOutline, IoChatbubbleOutline, IoShareSocialOutline } from 'react-icons/io5';\nimport { firestore } from '../../services/firebase';\nimport HomeCardLike from './HomeCardLike';\nimport HomeCardComments from './HomeCardComments';\nimport HomeCardImage from './HomeCardImage';\nimport HomeCardOverlay from './HomeCardOverlay';\nimport Styles from '../../styles/home/home__card.module.css';\n\nconst Card = ({ post }) => {\n  const [user, setUser] = useState();\n  const [likeState, setLikeState] = useState();\n\n  const { src, userID, likes } = post.data();\n  const [modal, setModal] = useState(false);\n  const [type, setType] = useState();\n\n  useEffect(() => {\n    const getUser = async () => {\n      const userRef = await firestore.collection('users').doc(userID).get();\n      setUser(userRef.data());\n      setLikeState(likes.length);\n    };\n    getUser();\n  }, [post]);\n\n  const getModal = (modalType) => {\n    modal ? setModal(false) : setModal(true);\n    setType(modalType);\n  };\n\n  return (\n    <>\n      {post && user ? (\n        <div className={Styles.card}>\n          <div className={Styles.container}>\n            {modal && (\n              <HomeCardOverlay getModal={getModal} userID={userID} type={type} post={post} />\n            )}\n            {/*//+ header */}\n            <div className={Styles.header}>\n              <Link to={`/profile/${userID}`}>\n                <div className={Styles.left}>\n                  <img src={user.profilePhoto} alt=\"\" className={Styles.avatar} />\n                  <div className={Styles.userInfo}>\n                    <p className={Styles.displayName}>{user.displayName}</p>\n                    <p className={Styles.username}>@{user.username}</p>\n                  </div>\n                </div>\n              </Link>\n              {/*//+ more icon */}\n              <div className={Styles.right}>\n                <MoreHorizIcon\n                  onClick={() => {\n                    getModal('follow');\n                  }}\n                  className={Styles.moreIcon}\n                />\n              </div>\n            </div>\n            {/*//+ image */}\n            <HomeCardImage Styles={Styles} postID={post.id} userID={userID} src={src} />\n            {/*//+ footer */}\n            <div className={Styles.footer}>\n              <div className={Styles.firstChild}>\n                <div className={Styles.left}>\n                  {/*//+ likes button */}\n                  <HomeCardLike setLikeState={setLikeState} post={post} userID={userID} />\n                  <Link className={Styles.chatLink} to={`/Post/${userID}/${post.id}`}>\n                    <IoChatbubbleOutline className={Styles.icon} />\n                  </Link>\n                  <Link className={Styles.chatLink} to={`/Post/${userID}/${post.id}`}>\n                    <IoShareOutline className={Styles.icon} />\n                  </Link>\n                </div>\n                <IoShareSocialOutline\n                  className={Styles.icon}\n                  onClick={() => {\n                    getModal('share');\n                  }}\n                />\n              </div>\n              <Link className={Styles.imageLink} to={`/Post/${userID}/${post.id}`}>\n                <p className={Styles.likes}>{likeState} likes</p>\n              </Link>\n              {/*//+ comment section */}\n              <HomeCardComments Styles={Styles} userID={userID} post={post} />\n            </div>\n          </div>\n          <img className={Styles.imageBlur + ' ' + 'blur'} src={src} alt=\"\" />\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nexport default Card;\n","import React, { useEffect, useState, useRef } from 'react';\nimport Card from './HomeCard';\nimport Styles from '../../styles/home/home__feed.module.css';\nimport { firestore } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst HomeFeed = ({ newPost }) => {\n  const { userProfile } = useAuth();\n  const [stored, setStored] = useState([]);\n  const [feed, setFeed] = useState([]);\n  const [lastUser, setLastUser] = useState();\n\n  const [noPosts, setNoPosts] = useState(false);\n  const noPostsRef = useRef(false);\n  const dummyRef = useRef();\n  const [isFetching, setIsFetching] = useIntersect(dummyRef, noPostsRef);\n\n  //# firestore\n  const firestoreFunction = async (type) => {\n    let following = [];\n    let userRef;\n\n    if (type === 'first') {\n      following.push(userProfile);\n      // get followed users in last post order\n      userRef = await firestore\n        .collection('users')\n        .where('followers', 'array-contains', userProfile.userID)\n        .orderBy('lastPostDate', 'desc')\n        .limit(5)\n        .get();\n    } else if (type === 'infinite') {\n      // if no user is signed in\n      if (!userProfile) {\n        setIsFetching(false);\n        return setNoPosts(true);\n      }\n      userRef = await firestore\n        .collection('users')\n        .where('followers', 'array-contains', userProfile.userID)\n        .orderBy('lastPostDate', 'desc')\n        .startAfter(lastUser)\n        .limit(5)\n        .get();\n    } else if (type === 'none') {\n      const me = await firestore.collection('users').doc('e9x1NbFsE8VqLAqAKfbpHkH0QS93').get();\n      following.push(me.data());\n      // get people i follow\n      userRef = await firestore\n        .collection('users')\n        .where('followers', 'array-contains', 'e9x1NbFsE8VqLAqAKfbpHkH0QS93')\n        .orderBy('lastPostDate', 'desc')\n        .limit(10)\n        .get();\n    }\n\n    userRef.forEach((user) => {\n      following.push(user.data());\n    });\n\n    if (type === 'infinite' && !userRef.docs[userRef.docs.length - 1]) {\n      setIsFetching(false);\n      setNoPosts(true);\n      noPostsRef.current = true;\n      return;\n    } // set last user fetched\n    setLastUser(userRef.docs[userRef.docs.length - 1]);\n\n    const promises = following.map(async (user) => {\n      const postRef = await firestore\n        .collection('users')\n        .doc(user.userID)\n        .collection('posts')\n        .orderBy('date', 'desc')\n        .limit(5)\n        .get();\n      return postRef;\n    });\n\n    //await all posts from users\n    const postsArr = await Promise.all(promises);\n\n    // push all the posts to a new array\n    let temp = [];\n    postsArr.forEach((arr) => {\n      arr.forEach((post) => {\n        temp.push(post);\n      });\n    });\n\n    // sort all the posts by date\n    const sort = temp.sort((a, b) => b.data().date - a.data().date);\n\n    return sort;\n  };\n\n  //! get none\n  const getNone = async () => {\n    const sort = await firestoreFunction('none');\n    //add to stored posts\n    setStored(sort);\n  };\n\n  //@ get followed users posts\n  const getFollowed = async () => {\n    const sort = await firestoreFunction('first');\n    //add to stored posts\n    setStored(sort);\n  };\n\n  //+ GET more from storage\n  const createFeed = () => {\n    if (!stored) return;\n    const sliced = stored.slice(feed.length, feed.length + 2);\n    const combine = [...feed, ...sliced];\n    setFeed(combine);\n  };\n\n  //+ when storage is updated set the feed\n  useEffect(() => {\n    createFeed();\n  }, [stored]);\n\n  //@ get more posts on scroll\n  const getMore = async () => {\n    // if no more users return\n    if (!lastUser) {\n      setIsFetching(false);\n      return;\n    }\n    const sort = await firestoreFunction('infinite');\n    if (!sort) return;\n    const combine = [...stored, ...sort];\n    setStored(combine);\n  };\n\n  // get followed users on load\n  useEffect(() => {\n    if (userProfile) {\n      getFollowed();\n    } else {\n      getNone();\n    }\n  }, [userProfile]);\n\n  //+ on upload\n  useEffect(async () => {\n    if (newPost === 0) return;\n    let temp = [];\n    const next = await firestore\n      .collection('users')\n      .doc(userProfile.userID)\n      .collection('posts')\n      .orderBy('date', 'desc')\n      .limit(1)\n      .get();\n    if (!next) return;\n    next.forEach((post) => {\n      temp.push(post);\n    });\n    const combine = [...temp, ...feed];\n    setFeed(combine);\n    window.scrollTo(0, 0);\n  }, [newPost]);\n\n  //# decide from local or firestore\n  useEffect(() => {\n    if (!isFetching) return;\n    if (feed.length === stored.length) {\n      getMore();\n    } else {\n      createFeed();\n    }\n  }, [isFetching]);\n\n  //# after feed updates set load to false\n  useEffect(() => {\n    setIsFetching(false);\n  }, [feed]);\n\n  return (\n    <div className={Styles.container}>\n      {feed.map((post) => {\n        return <Card key={post.id} post={post} />;\n      })}\n\n      <div ref={dummyRef} className={`${Styles.loaderContainer}`}>\n        {isFetching && <div className=\"loader\" />}\n        {noPosts && <div className={Styles.noPosts}>No More Posts</div>}\n      </div>\n    </div>\n  );\n};\n\nexport default HomeFeed;\n","import { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nexport default function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}\n","import React, { useState } from 'react';\nimport Sidebar from './HomeSidebar';\nimport HomeFeed from './HomeFeed';\nimport Styles from '../../styles/home/home.module.css';\nimport ScrollToTop from '../../functions/ScrollToTop';\n\nconst Home = () => {\n  const [newPost, setNewPost] = useState(0);\n  return (\n    <div className={Styles.home}>\n      <ScrollToTop />\n      <div className={Styles.inner}>\n        <HomeFeed newPost={newPost} />\n        <Sidebar setNewPost={setNewPost} />\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState } from 'react';\nimport Styles from '../../styles/profile/profile__sidebar.module.css';\nimport ProfileFollowersModal from './ProfileFollowersModal';\nimport stopScroll from '../../functions/stopScroll';\n\nconst ProfileSidebar = ({ currentProfile, loaded, currentUser }) => {\n  const [openFollowers, setOpenFollowers] = useState(false);\n  const [currentTab, setCurrentTab] = useState();\n\n  const handleFollowers = (e) => {\n    e.preventDefault();\n    const choice = e.target.getAttribute('data-type');\n    setCurrentTab(choice);\n    openFollowers ? setOpenFollowers(false) : setOpenFollowers(true);\n    stopScroll(openFollowers);\n  };\n\n  let sidebar;\n\n  if (loaded === false) {\n    sidebar = (\n      <div className={Styles.sidebar}>\n        <div className={Styles.usernames}>\n          <div className={`${Styles.nameLoading} gradientLoad`} />\n          <div className={`${Styles.usernameLoading} gradientLoad`} />\n        </div>\n        <div className={`${Styles.counterLoading}`}>\n          <div className={`${Styles.counterLoading} gradientLoad`} />\n          <div className={`${Styles.counterLoading} gradientLoad`} />\n          <div className={`${Styles.counterLoading} gradientLoad`} />\n        </div>\n      </div>\n    );\n  }\n\n  if (loaded === true) {\n    sidebar = (\n      <div className={Styles.sidebar}>\n        <div className={Styles.usernames}>\n          <h2 className={Styles.displayName}>{currentProfile.displayName}</h2>\n          <h3 className={Styles.username}>@{currentProfile.username}</h3>\n        </div>\n        <div className={Styles.secondContainer}>\n          <div className={Styles.postsContainer}>\n            <h3>{currentProfile.postsCounter}</h3>\n            <p className={Styles.posts}>Posts</p>\n          </div>\n          {/*//+ followers / following */}\n          {openFollowers && (\n            <ProfileFollowersModal\n              currentProfile={currentProfile}\n              handleFollowers={handleFollowers}\n              setOpenFollowers={setOpenFollowers}\n              openFollowers={openFollowers}\n              currentTab={currentTab}\n              setCurrentTab={setCurrentTab}\n              currentUser={currentUser}\n            />\n          )}\n          <div className={Styles.userInfo}>\n            <div\n              onClick={handleFollowers}\n              data-type=\"following\"\n              className={Styles.followingContainer}\n            >\n              <h3 data-type=\"following\"> {currentProfile.following.length} </h3>\n              <p data-type=\"following\" className={Styles.following}>\n                Following\n              </p>\n            </div>\n            <div\n              data-type=\"followers\"\n              onClick={handleFollowers}\n              className={Styles.followersContainer}\n            >\n              <h3 data-type=\"followers\">{currentProfile.followers.length}</h3>\n              <p data-type=\"followers\" className={Styles.followers}>\n                Followers\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className={Styles.bio}>\n          <h3 className={Styles.bioHeader}>Bio</h3>\n          <p className={Styles.bioText}>{currentProfile.bio}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return <>{sidebar}</>;\n};\n\nexport default ProfileSidebar;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { IoHeartOutline, IoChatbubbleOutline } from 'react-icons/io5';\nimport Styles from '../../styles/profile/profile__card.module.css';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst ProfileCard = ({ src, match, postId, likes, comments }) => {\n  return (\n    <div className={Styles.card}>\n      <div className={Styles.container}>\n        <Link className={Styles.link} to={`/post/${match.params.uid}/${postId}`}>\n          <div className={Styles.overlay}>\n            <div className={Styles.icon}>\n              <IoHeartOutline /> <p>{likes.length}</p>\n            </div>\n            <div className={Styles.icon}>\n              <IoChatbubbleOutline />\n              <p>{comments.length}</p>\n            </div>\n          </div>\n          <ImageLoader src={src} borderRadius=\"9px\" />\n        </Link>\n      </div>\n      <img className={Styles.blur} src={src} alt=\"\" />\n    </div>\n  );\n};\n\nexport default ProfileCard;\n","import React, { useState, useEffect, useRef } from 'react';\nimport ProfileCard from './ProfileCard';\nimport Styles from '../../styles/profile/profile__feed.module.css';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst ProfileFeed = ({ firestore, match, newPost, noPosts }) => {\n  const [feed, setFeed] = useState([]);\n  const [lastPost, setLastPost] = useState();\n\n  const [endFeed, setEndFeed] = useState(false);\n  const endFeedRef = useRef(false);\n\n  const dummyRef = useRef();\n  const [isFetching, setIsFetching] = useIntersect(dummyRef, endFeedRef);\n\n  const getMore = async () => {\n    let temp = [];\n    if (!lastPost) return;\n    const snap = await firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .collection('posts')\n      .orderBy('date', 'desc')\n      .startAfter(lastPost)\n      .limit(8)\n      .get();\n    await snap.forEach((doc) => {\n      doc.complete = false;\n      temp.push(doc);\n    });\n    if (!snap.docs[snap.docs.length - 1]) {\n      setIsFetching(false);\n      setEndFeed(true);\n      endFeedRef.current = true;\n      return;\n    }\n    setLastPost(snap.docs[snap.docs.length - 1]);\n    return temp;\n  };\n\n  const getInitial = async () => {\n    let temp = [];\n    const snap = await firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .collection('posts')\n      .orderBy('date', 'desc')\n      .limit(8)\n      .get();\n    await snap.forEach((doc) => {\n      doc.complete = false;\n      temp.push(doc);\n    });\n    setLastPost(snap.docs[snap.docs.length - 1]);\n    return temp;\n  };\n\n  const updateFeed = async () => {\n    const temp = await getMore();\n    if (!temp) return;\n    const combine = [...feed, ...temp];\n    setFeed(combine);\n  };\n\n  //! get the feed\n  const getFeed = async () => {\n    const temp = await getInitial();\n    setFeed(temp);\n  };\n\n  // get the feed after a new post\n  useEffect(() => {\n    return getFeed();\n  }, [newPost]);\n\n  useEffect(() => {\n    getFeed();\n    setEndFeed(false);\n    endFeedRef.current = false;\n  }, [match]);\n\n  // every time loads complete check the count to see if all the posts match the feed length\n\n  //# after feed updates set load to false\n  useEffect(() => {\n    setIsFetching(false);\n  }, [feed]);\n\n  //# decide from local or firestore\n  useEffect(() => {\n    if (!isFetching || endFeed) return;\n    updateFeed();\n  }, [isFetching]);\n\n  return (\n    <>\n      {!noPosts ? (\n        <div className={Styles.feedContainer}>\n          <div className={Styles.feed}>\n            {feed.map((item) => {\n              return (\n                <ProfileCard\n                  key={item.id}\n                  src={item.data().src}\n                  match={match}\n                  postId={item.id}\n                  likes={item.data().likes}\n                  comments={item.data().comments}\n                />\n              );\n            })}\n          </div>\n          <div ref={dummyRef} className={`${Styles.loaderContainer}`}>\n            {isFetching && <div className=\"loader\" />}\n            {endFeed && feed.length > 6 ? (\n              <div className={Styles.endFeed}>No More Posts</div>\n            ) : null}\n          </div>\n        </div>\n      ) : (\n        <div className={Styles.outer}>\n          <div className={Styles.notFound}>\n            <div className={Styles.notFoundContainer}>\n              <button className={Styles.notFoundButton}>No Posts</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ProfileFeed;\n","import React from 'react';\nimport Styles from '../../styles/profile/profile__avatar__modal.module.css';\n\nconst ProfileAvatarModal = ({ src, getAvatarModal }) => {\n  return (\n    <div onClick={getAvatarModal} className={Styles.modal}>\n      <img className={Styles.avatar} src={src} alt=\"\" />\n    </div>\n  );\n};\n\nexport default ProfileAvatarModal;\n","import React, { useState, useEffect } from 'react';\nimport { IoSendOutline, IoAddOutline } from 'react-icons/io5';\nimport { useHistory } from 'react-router';\nimport { firestore } from '../../services/firebase';\nimport ProfileSidebar from './ProfileSidebar';\nimport ProfileFeed from './ProfileFeed';\nimport ProfileUpload from './ProfileUpload';\nimport ProfileAvatarModal from './ProfileAvatarModal';\nimport Styles from '../../styles/profile/profile.module.css';\nimport { useAuth } from '../../contexts/AuthContext';\nimport ProfileButton from './ProfileButton';\nimport ScrollToTop from '../../functions/ScrollToTop';\nimport stopScroll from '../../functions/stopScroll';\n\nconst Profile = (props) => {\n  const [currentProfile, setCurrentProfile] = useState();\n  const [avatarModal, setAvatarModal] = useState(false);\n  const [renderModal, setRenderModal] = useState(false);\n  const [newPost, setNewPost] = useState(0);\n  const [noPosts, setNoPosts] = useState(false);\n  const { match } = props;\n  const { currentUser, userProfile } = useAuth();\n  const [loaded, setLoaded] = useState(false);\n  const [loading, setLoading] = useState([\n    { image: 'avatar', loading: true },\n    { image: 'banner', loading: true },\n  ]);\n  let history = useHistory();\n  //+ if the every item in loading is set to false set loaded to true\n  useEffect(() => {\n    if (currentProfile) {\n      if (loading.every((item) => item.loading === false)) {\n        setLoaded(true);\n      }\n    }\n  }, [loading]);\n\n  //+ set the target image to be done loading onload\n  const handleLoad = (e) => {\n    const { alt } = e.target;\n    const imgIndex = loading.findIndex((img) => img.image === alt);\n    setLoading((old) => [...old], {\n      [loading[imgIndex]]: (loading[imgIndex].loading = false),\n    });\n  };\n\n  //+ get the current profiles data\n  const getUserObject = () => {\n    firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .get()\n      .then((userData) => {\n        if (userData.exists) {\n          setCurrentProfile(userData.data());\n        }\n      });\n  };\n\n  //+ when theres a new post update the user profile\n  useEffect(() => {\n    setNoPosts(false);\n    return getUserObject();\n  }, [newPost]);\n\n  useEffect(() => {\n    getUserObject();\n    setNoPosts(false);\n  }, [match]);\n\n  //+ avatar modal\n  const getAvatarModal = (e) => {\n    e.preventDefault();\n    avatarModal ? setAvatarModal(false) : setAvatarModal(true);\n    stopScroll(avatarModal);\n  };\n\n  //+ new post modal\n  const getModal = (e) => {\n    e.preventDefault();\n    renderModal ? setRenderModal(false) : setRenderModal(true);\n    stopScroll(renderModal);\n  };\n\n  //+ new message link\n  const newMessage = () => {\n    if (!userProfile) return history.push('/sign-up');\n    history.push(`/messages/${currentProfile.userID}`);\n  };\n\n  //+ decides if action button should be post or message\n  let actionButton = (\n    <button onClick={newMessage} className={Styles.actionBtn}>\n      <IoSendOutline className=\"action-icon\" />\n    </button>\n  );\n  if (currentUser?.uid === match.params.uid) {\n    actionButton = (\n      <button onClick={getModal} className={Styles.actionBtn}>\n        <IoAddOutline className=\"action-icon\" />\n      </button>\n    );\n  }\n\n  return (\n    <>\n      <div className={Styles.profile}>\n        <ScrollToTop />\n        {/*//+ banner */}\n        <div className={Styles.header}>\n          <div\n            className={`${Styles.heroLoading} gradientLoad`}\n            style={loaded ? { display: 'none' } : null}\n          />\n          <img\n            className={Styles.hero}\n            src={currentProfile?.banner}\n            alt=\"banner\"\n            onLoad={handleLoad}\n            style={!loaded ? { display: 'none' } : null}\n          />\n        </div>\n        <div className={Styles.outer}>\n          {/*//+ top bar*/}\n          <div className={Styles.topSection}>\n            <div className={Styles.imgContainer}>\n              <div\n                style={loaded ? { display: 'none' } : null}\n                className={`${Styles.avatarLoading} gradientLoad`}\n              />\n              <img\n                onClick={getAvatarModal}\n                className={Styles.avatar}\n                src={currentProfile?.profilePhoto}\n                alt=\"avatar\"\n                onLoad={handleLoad}\n                style={!loaded ? { display: 'none' } : null}\n              />\n              <img\n                className={Styles.avatarBlur}\n                src={currentProfile?.profilePhoto}\n                alt=\"\"\n                style={!loaded ? { display: 'none' } : null}\n              />\n            </div>\n            {avatarModal && (\n              <ProfileAvatarModal\n                getAvatarModal={getAvatarModal}\n                src={currentProfile?.profilePhoto}\n              />\n            )}\n            <div className={Styles.topRight}>\n              <div className={Styles.topIconRow}>\n                {/*//+ following button */}\n                <ProfileButton\n                  firestore={firestore}\n                  Styles={Styles}\n                  currentUser={currentUser}\n                  match={match.params.uid}\n                  currentProfile={currentProfile}\n                  getUserObject={getUserObject}\n                />\n                {actionButton}\n              </div>\n              {renderModal && <ProfileUpload setNewPost={setNewPost} getModal={getModal} />}\n            </div>\n          </div>\n        </div>\n        <div className={Styles.inner}>\n          {/*//+ sidebar */}\n          <ProfileSidebar\n            loaded={loaded}\n            firestore={firestore}\n            match={match}\n            currentProfile={currentProfile}\n            currentUser={currentUser}\n            getUserObject={getUserObject}\n          />\n          {/*//@ posts */}\n          <ProfileFeed\n            newPost={newPost}\n            setLoading={setLoading}\n            loading={loading}\n            loaded={loaded}\n            firestore={firestore}\n            match={match}\n            currentProfile={currentProfile}\n            noPosts={noPosts}\n            setNoPosts={setNoPosts}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Profile;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Styles from '../../styles/post/post__comment-section.module.css';\nimport { firestore } from '../../services/firebase';\nimport convertTime from '../../functions/convertTime';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst PostComment = ({ comment, user, time }) => {\n  const [current, setCurrent] = useState(null);\n  const [addTime, setAddTime] = useState();\n\n  const getTime = () => {\n    const currentTime = Date.now();\n    const converted = convertTime(time, currentTime);\n    setAddTime(converted);\n  };\n\n  useEffect(() => {\n    const getUser = async () => {\n      const userRef = firestore.collection('users').doc(user);\n      const thisUser = await userRef.get();\n      setCurrent(thisUser.data());\n    };\n    getUser();\n    getTime();\n  }, []);\n\n  return (\n    <div className={Styles.commentContainer}>\n      <div className={Styles.start}>\n        <Link to={`/profile/${user}`}>\n          <ImageLoader src={current?.profilePhoto} width=\"27px\" height=\"27px\" borderRadius=\"100%\" />\n        </Link>\n        <p className={Styles.comment}>\n          <span className={Styles.user}>\n            <Link to={`/profile/${user}`}>{current?.displayName} </Link>\n          </span>\n          {comment}\n        </p>\n      </div>\n      <p className={Styles.time}>{addTime}</p>\n    </div>\n  );\n};\n\nexport default PostComment;\n","import React, { useState, useEffect, useRef } from 'react';\nimport PostComment from './PostComment';\nimport Styles from '../../styles/post/post__comment-section.module.css';\nimport Loading from '../../styles/post/post__loading.module.css';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst PostCommentSection = ({ loaded, currentPost }) => {\n  const [comments, setComments] = useState([]);\n\n  const ref = useRef();\n  const [isFetching, setIsFetching] = useIntersect(ref);\n\n  const getComments = () => {\n    if (!currentPost) return;\n    const reverse = currentPost.comments.slice(0).reverse();\n    const sliced = reverse.slice(0, 10);\n    setComments(sliced);\n  };\n\n  const getMore = () => {\n    if (!currentPost) return;\n    const reverse = currentPost.comments.slice(0).reverse();\n    const sliced = reverse.slice(comments.length, comments.length + 10);\n    const combine = [...comments, ...sliced];\n    setComments(combine);\n  };\n\n  useEffect(() => {\n    if (!isFetching) return;\n    getMore();\n  }, [isFetching]);\n\n  useEffect(() => {\n    getComments();\n  }, [currentPost]);\n\n  useEffect(() => {\n    setIsFetching(false);\n  }, [comments]);\n\n  return (\n    <div className={Styles.commentsContainer}>\n      <div className={Styles.comments}>\n        {/* <p className=\"view-all\">View All Comments</p> */}\n        {!loaded ? (\n          <>\n            <div className={Styles.commentContainer}>\n              <div className={Loading.commentProfile} />\n              <div className={Loading.comment} />\n            </div>\n            <div className={Styles.commentContainer}>\n              <div className={Loading.commentProfile} />\n              <div className={Loading.comment} />\n            </div>\n            <div className={Styles.commentContainer}>\n              <div className={Loading.commentProfile} />\n              <div className={Loading.comment} />\n            </div>\n          </>\n        ) : (\n          <>\n            {comments.map((item) => {\n              return (\n                <PostComment\n                  key={item.time}\n                  time={item.time}\n                  comment={item.comment}\n                  user={item.user}\n                />\n              );\n            })}\n          </>\n        )}\n        <div ref={ref}></div>\n      </div>\n    </div>\n  );\n};\n\nexport default PostCommentSection;\n","import React, { useState, useEffect, useRef } from 'react';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport { IoShareSocialOutline, IoTrashOutline } from 'react-icons/io5';\nimport Styles from '../../styles/post/post__menu.module.css';\nimport { useHistory } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst PostMenu = ({ ownPost, match, currentPost, firestore, storage }) => {\n  const [menuStatus, setMenuStatus] = useState(false);\n  const { getUserProfile } = useAuth();\n  let history = useHistory();\n  let menuRef = useRef();\n\n  const handleMenu = (e) => {\n    e.preventDefault();\n    menuStatus ? setMenuStatus(false) : setMenuStatus(true);\n  };\n\n  const handleDelete = async (e) => {\n    e.preventDefault();\n    await firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .collection('posts')\n      .doc(match.params.postid)\n      .delete();\n    let pictureRef = storage.refFromURL(currentPost.src);\n    await pictureRef.delete();\n    const userDoc = await firestore.collection('users').doc(match.params.uid).get();\n    const userData = userDoc.data();\n    await firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .set(\n        {\n          postsCounter: userData.postsCounter - 1,\n        },\n        { merge: true }\n      );\n    await getUserProfile();\n    history.push(`/profile/${match.params.uid}`);\n  };\n\n  const handleShare = () => {\n    copyToClipboard(window.location.href);\n    setMenuStatus(false);\n  };\n\n  const copyToClipboard = (content) => {\n    const el = document.createElement('textarea');\n    el.value = content;\n    document.body.appendChild(el);\n    el.select();\n    document.execCommand('copy');\n    document.body.removeChild(el);\n  };\n\n  useEffect(() => {\n    let handler = (e) => {\n      if (menuRef.current && !menuRef.current.contains(e.target)) {\n        setMenuStatus(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handler);\n    return () => {\n      document.removeEventListener('mousedown', handler);\n    };\n  }, []);\n\n  let menu;\n\n  menu = (\n    <div ref={menuRef} className={Styles.container}>\n      <div className={Styles.inner}>\n        <div onClick={handleShare} className={Styles.option}>\n          <IoShareSocialOutline className={Styles.icon} />\n          <div>\n            <p>Copy Link</p>\n          </div>\n        </div>\n        {ownPost ? (\n          <div className={Styles.option} onClick={handleDelete}>\n            <IoTrashOutline className={Styles.icon} />\n            <p>Delete</p>\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n\n  return (\n    <div>\n      {menuStatus ? menu : null}\n      <MoreHorizIcon onClick={handleMenu} className={Styles.postIcon} />\n    </div>\n  );\n};\n\nexport default PostMenu;\n","import React, { useEffect, useState } from 'react';\nimport { IoHeartOutline } from 'react-icons/io5';\nimport Styles from '../../styles/post/post__sidebar.module.css';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst PostLikeButton = ({ match, history, firestore, firestoreFieldValue, getCurrentPost }) => {\n  const [liked, setLiked] = useState(false);\n  const { userProfile, getUserProfile } = useAuth();\n\n  const updateLikes = async () => {\n    if (userProfile && userProfile.likedPosts) {\n      if (userProfile.likedPosts.includes(match.params.postid)) {\n        setLiked(true);\n      } else {\n        setLiked(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    updateLikes();\n  }, [userProfile]);\n\n  //! handle like\n  const handleLike = async (e) => {\n    e.preventDefault();\n    if (userProfile) {\n      const thisPost = firestore\n        .collection('users')\n        .doc(match.params.uid)\n        .collection('posts')\n        .doc(match.params.postid);\n      const thisUser = firestore.collection('users').doc(userProfile.userID);\n      const postUser = firestore.collection('users').doc(match.params.uid);\n\n      //@ add this post to likes\n      if (!liked) {\n        setLiked(true);\n        const addPost = () => {\n          thisPost.update({\n            likes: firestoreFieldValue.arrayUnion(userProfile.userID),\n          });\n        };\n        const addUser = () => {\n          thisUser.update({\n            likedPosts: firestoreFieldValue.arrayUnion(match.params.postid),\n          });\n        };\n        const notify = () => {\n          postUser.update({\n            notifications: firestoreFieldValue.arrayUnion({\n              user: userProfile.userID,\n              type: 'liked',\n              post: match.params.postid,\n              time: Date.now(),\n            }),\n          });\n        };\n        await Promise.all([notify(), addPost(), addUser()]);\n        getUserProfile();\n        getCurrentPost();\n      } else {\n        //@ remove post from likes\n        const removePost = () => {\n          setLiked(false);\n          thisPost.update({\n            likes: firestoreFieldValue.arrayRemove(userProfile.userID),\n          });\n        };\n        const removeUser = () => {\n          thisUser.update({\n            likedPosts: firestoreFieldValue.arrayRemove(match.params.postid),\n          });\n        };\n        await Promise.all([removePost(), removeUser()]);\n        getUserProfile();\n        getCurrentPost();\n      }\n    } else {\n      history.push('/sign-up');\n    }\n  };\n  return (\n    <IoHeartOutline onClick={handleLike} className={liked ? Styles.likedIcon : Styles.likeIcon} />\n  );\n};\n\nexport default PostLikeButton;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { clean } from '../../functions/clean';\n\nconst PostCommentBox = ({\n  Styles,\n  IoSendOutline,\n  firestore,\n  match,\n  firestoreFieldValue,\n  getCurrentPost,\n}) => {\n  const [input, setInput] = useState('');\n  let history = useHistory();\n\n  const { userProfile, getUserProfile } = useAuth();\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    const { value } = e.target;\n    setInput(clean(value));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const time = Date.now();\n    if (userProfile) {\n      if (input.length > 0 && input.length < 100) {\n        const thisPost = firestore\n          .collection('users')\n          .doc(match.params.uid)\n          .collection('posts')\n          .doc(match.params.postid);\n        const thisUser = firestore.collection('users').doc(match.params.uid);\n        //@ add comment to post\n        const addPost = () => {\n          thisPost.update({\n            comments: firestoreFieldValue.arrayUnion({\n              user: userProfile.userID,\n              comment: input,\n              time: time,\n            }),\n          });\n        };\n        const notify = () => {\n          thisUser.update({\n            notifications: firestoreFieldValue.arrayUnion({\n              user: userProfile.userID,\n              type: 'comment',\n              comment: input,\n              post: match.params.postid,\n              time: time,\n            }),\n          });\n        };\n        await Promise.all([notify(), addPost()]);\n        getUserProfile();\n        getCurrentPost();\n        setInput('');\n      }\n    } else {\n      history.push('/sign-up');\n    }\n  };\n\n  return (\n    <div className={Styles.commentBox}>\n      <form className={Styles.commentForm} onSubmit={handleSubmit}>\n        <input\n          onChange={handleChange}\n          className={Styles.input}\n          type=\"text\"\n          value={input}\n          maxLength=\"99\"\n          minLength=\"1\"\n          placeholder=\"Add a comment...\"\n        />\n      </form>\n      <IoSendOutline type=\"submit\" onClick={handleSubmit} className={Styles.send} />\n    </div>\n  );\n};\n\nexport default PostCommentBox;\n","import React, { useState, useEffect } from 'react';\nimport {\n  IoShareOutline,\n  IoHeartOutline,\n  IoChatbubbleOutline,\n  IoSendOutline,\n} from 'react-icons/io5';\nimport { Link, useHistory } from 'react-router-dom';\nimport PostCommentSection from './PostCommentSection';\nimport PostMenu from './PostMenu';\nimport Styles from '../../styles/post/post__sidebar.module.css';\nimport Loading from '../../styles/post/post__loading.module.css';\nimport { firestore, storage, firestoreFieldValue } from '../../services/firebase';\nimport PostLikeButton from './PostLikeButton';\nimport PostCommentBox from './PostCommentBox';\nimport convertTime from '../../functions/convertTime';\n\nconst PostSidebar = ({\n  match,\n  loaded,\n  handleLoad,\n  postUser,\n  currentPost,\n  ownPost,\n  getCurrentPost,\n}) => {\n  let history = useHistory();\n  const [addTime, setAddTime] = useState('');\n\n  useEffect(() => {\n    if (currentPost) {\n      const getCur = convertTime(currentPost.date, Date.now());\n      setAddTime(getCur);\n    }\n  }, [currentPost]);\n\n  return (\n    <div className={Styles.sidebar}>\n      <div className={Styles.top}>\n        <Link to={`/profile/${match.params.uid}`}>\n          <div className={Styles.profileContainer}>\n            <div className={Styles.imageContainer}>\n              <div\n                className={Loading.profileImg + ' ' + 'gradientLoad'}\n                style={loaded ? { display: 'none' } : null}\n              />\n              <img\n                style={!loaded ? { display: 'none' } : null}\n                onLoad={handleLoad}\n                src={postUser?.profilePhoto}\n                alt=\"avatar\"\n                className={Styles.profileImg}\n              />\n              <img\n                className={Styles.profileImgBlur}\n                style={!loaded ? { display: 'none' } : null}\n                src={postUser?.profilePhoto}\n                alt=\"\"\n              />\n            </div>\n            <div className={Styles.nameContainer} style={loaded ? { display: 'none' } : null}>\n              <div className={Loading.displayName + ' ' + 'gradientLoad'} />\n              <div className={Loading.username + ' ' + 'gradientLoad'} />\n            </div>\n            <div className={Styles.nameContainer} style={!loaded ? { display: 'none' } : null}>\n              <h2 className={Styles.displayName}>{postUser?.displayName}</h2>\n              <p className={Styles.username}>@{postUser?.username}</p>\n            </div>\n          </div>\n        </Link>\n        <div className={Styles.captionContainer}>\n          <p className={Styles.caption}>{currentPost?.caption}</p>\n        </div>\n      </div>\n      {/*//+ comments */}\n      <PostCommentSection currentPost={currentPost} loaded={loaded} />\n      <div className={Styles.footer}>\n        <div className={Styles.firstChild}>\n          <div className={Styles.left}>\n            {/*//+ liked button */}\n            <PostLikeButton\n              Styles={Styles}\n              match={match}\n              history={history}\n              IoHeartOutline={IoHeartOutline}\n              firestore={firestore}\n              firestoreFieldValue={firestoreFieldValue}\n              getCurrentPost={getCurrentPost}\n            />\n            <IoChatbubbleOutline className={Styles.postIcon} />\n            <IoShareOutline className={Styles.postIcon} />\n          </div>\n          {/*//+ delete menu */}\n          <PostMenu\n            storage={storage}\n            firestore={firestore}\n            match={match}\n            ownPost={ownPost}\n            currentPost={currentPost}\n          />\n        </div>\n        <div className={Styles.infoContainer}>\n          <p className={Styles.likes}>{currentPost?.likes.length} likes</p>\n          <p className={Styles.time}>{addTime}</p>\n        </div>\n        {/*//+ comment box */}\n        <PostCommentBox\n          firestore={firestore}\n          match={match}\n          firestoreFieldValue={firestoreFieldValue}\n          IoSendOutline={IoSendOutline}\n          Styles={Styles}\n          getCurrentPost={getCurrentPost}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default PostSidebar;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { firestore } from '../../services/firebase';\nimport Styles from '../../styles/post/post.module.css';\nimport Loading from '../../styles/post/post__loading.module.css';\nimport PostSidebar from './PostSidebar';\nimport { useAuth } from '../../contexts/AuthContext';\nimport ScrollToTop from '../../functions/ScrollToTop';\n\nconst Post = ({ match }) => {\n  const [currentPost, setCurrentPost] = useState();\n  const [postUser, setPostUser] = useState();\n  const [ownPost, setOwnPost] = useState(false);\n  const [loading, setLoading] = useState([\n    { image: 'avatar', loading: true },\n    { image: 'post', loading: true },\n  ]);\n  const [loaded, setLoaded] = useState(false);\n  const { currentUser, userProfile } = useAuth();\n\n  //+ determine if this is the user's post\n  useEffect(() => {\n    if (currentUser && match.params.uid === currentUser.uid) {\n      setOwnPost(true);\n    }\n  }, [postUser]);\n\n  //+ get the current post\n  const getCurrentPost = async () => {\n    const thisPost = await firestore\n      .collection('users')\n      .doc(match.params.uid)\n      .collection('posts')\n      .doc(match.params.postid)\n      .get();\n    if (thisPost.exists) {\n      setCurrentPost(thisPost.data());\n    } else {\n      setLoaded('error');\n    }\n  };\n\n  //+ get the profile of the current post\n  const getPostUser = async () => {\n    const getUser = await firestore.collection('users').doc(match.params.uid).get();\n    if (getUser.exists) {\n      setPostUser(getUser.data());\n    } else {\n      setLoaded('error');\n    }\n  };\n\n  //+ get the current post and user on page load\n  useEffect(() => {\n    getCurrentPost();\n    getPostUser();\n  }, [match]);\n\n  //+ check if postUser and currentUser are defined then set loading false\n  useEffect(() => {\n    if (postUser && currentPost) {\n      if (loading.every((item) => item.loading === false)) {\n        setLoaded(true);\n      }\n    }\n  }, [loading]);\n\n  //+ update the loading state\n  const handleLoad = (e) => {\n    const { alt } = e.target;\n    const imgIndex = loading.findIndex((img) => img.image === alt);\n    setLoading((prev) => [...prev], {\n      [loading[imgIndex]]: (loading[imgIndex].loading = false),\n    });\n  };\n\n  let postState;\n\n  //+ if finished loading\n  postState = (\n    <div className={Styles.post}>\n      <ScrollToTop />\n      <div className={Styles.container}>\n        <div\n          className={Loading.image + ' ' + 'gradientLoad'}\n          style={loaded ? { display: 'none' } : null}\n        />\n        <img\n          style={!loaded ? { display: 'none' } : null}\n          onLoad={handleLoad}\n          src={currentPost?.src}\n          alt=\"post\"\n          className={Styles.image}\n        />\n        <PostSidebar\n          match={match}\n          loaded={loaded}\n          handleLoad={handleLoad}\n          postUser={postUser}\n          ownPost={ownPost}\n          currentPost={currentPost}\n          currentUser={currentUser}\n          userProfile={userProfile}\n          getCurrentPost={getCurrentPost}\n        />\n      </div>\n    </div>\n  );\n\n  //+ if there was an error\n  if (loaded === 'error') {\n    postState = (\n      <div className={Styles.post}>\n        <div className={Styles.notFoundContainer}>\n          <h3>Post Not Found</h3>\n          <Link to=\"/\">\n            <button className={Styles.returnButton}>Return Home</button>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return <>{postState}</>;\n};\n\nexport default Post;\n","import React, { useEffect, useState, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport Styles from '../../styles/sign-up/sign-up.module.css';\nimport { signIn, firestore } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport logo from '../../assets/img/logo/logo-2.png';\nimport debounce from '../../functions/debounce';\nimport { clean } from '../../functions/clean';\n\nconst SignUp = () => {\n  const { login, currentUser, firebaseRegister } = useAuth();\n  const [userInput, setUserInput] = useState('');\n  const [userValue, setUserValue] = useState('');\n  const [nameTaken, setNameTaken] = useState(false);\n\n  const debounceChange = useCallback(\n    debounce((nextValue) => setUserValue(nextValue), 500),\n    []\n  );\n  const handleValue = (e) => {\n    const { value } = e.target;\n    const reg = /[^a-zA-Z\\d]/gi;\n    const newVal = value.replace(reg, '');\n    let lower = newVal.toLowerCase();\n    setUserInput(clean(lower));\n    debounceChange(clean(lower));\n  };\n\n  useEffect(() => {\n    let foundName;\n    const check = async () => {\n      if (userValue.length > 2) {\n        await firestore\n          .collection('users')\n          .where('username', '==', userValue)\n          .get()\n          .then((searchResults) => {\n            return searchResults.forEach((doc) => {\n              foundName = doc.data();\n            });\n          });\n        if (foundName === undefined) {\n          setNameTaken(false);\n        } else {\n          setNameTaken(true);\n        }\n      }\n    };\n    check();\n  }, [userValue]);\n\n  useEffect(() => {\n    return firebaseRegister(userInput);\n  }, [currentUser]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    signIn();\n  };\n\n  const doNothing = (e) => {\n    e.preventDefault();\n  };\n\n  let nameHelper = <p className={Styles.nameHelper}>Name must be 3-15 characters.</p>;\n\n  if (userInput.length !== 0) {\n    if (userInput.length <= 2) {\n      nameHelper = <p className={Styles.nameHelper}>Too Short.</p>;\n    } else if (nameTaken === false) {\n      nameHelper = (\n        <p style={{ color: '#00C138' }} className={Styles.nameHelper}>\n          Name is available.\n        </p>\n      );\n    } else {\n      nameHelper = (\n        <p style={{ color: '#ff0000' }} className={Styles.nameHelper}>\n          Name has already been taken.\n        </p>\n      );\n    }\n  }\n\n  return (\n    <>\n      {!currentUser ? (\n        <div className={Styles.signUp}>\n          <div className={Styles.container}>\n            <div className={Styles.header}>\n              <img className={Styles.logoImg} src={logo} alt=\"\" />\n              <div className={Styles.textContainer}>\n                <h2 className={Styles.headerText}>Sign Up</h2>\n              </div>\n            </div>\n            <div className={Styles.formContainer}>\n              <form pattern=\"[0-9a-zA-Z_.-]*\" className={Styles.form}>\n                <div className={Styles.input}>\n                  <div className={Styles.username}>\n                    <p>@</p>\n                  </div>\n                  <input\n                    required\n                    onChange={handleValue}\n                    className={Styles.inputBox}\n                    type=\"text\"\n                    placeholder=\"username\"\n                    maxLength=\"15\"\n                    minLength=\"3\"\n                    value={userInput}\n                  />\n                </div>\n                <div className={Styles.helperDiv}>{nameHelper}</div>\n                <button\n                  type=\"submit\"\n                  onClick={!nameTaken && userInput.length > 2 ? handleSubmit : doNothing}\n                  className={Styles.signUpButton}\n                  style={\n                    !nameTaken && userInput.length > 2\n                      ? {\n                          backgroundColor: 'black',\n                          cursor: 'pointer',\n                        }\n                      : { backgroundColor: 'gray', cursor: 'not-allowed' }\n                  }\n                >\n                  Sign Up With Google\n                </button>\n              </form>\n              <p className={Styles.or}>Already signed up?</p>\n              <button onClick={login} className={Styles.loginButton}>\n                Login\n              </button>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className={Styles.signUp}>\n          <div className={Styles.notFoundContainer}>\n            <h3>Already Logged In</h3>\n            <Link to=\"/\">\n              <button className={Styles.returnButton}>Return Home</button>\n            </Link>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default SignUp;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { IoImage, IoPencil } from 'react-icons/io5';\nimport Styles from '../../styles/settings/settings.module.css';\nimport { useAuth } from '../../contexts/AuthContext';\n\nimport { firestore, storageRef } from '../../services/firebase';\nimport resizeImage from '../../functions/resizeImage';\nimport ImageLoader from '../reusable/ImageLoader';\nimport { clean } from '../../functions/clean';\n\nconst Settings = () => {\n  const { getUserProfile, currentUser, userProfile } = useAuth();\n  const [userInput, setUserInput] = useState('');\n  const [userBio, setUserBio] = useState('');\n  const [uploading, setUploading] = useState(false);\n\n  useEffect(() => {\n    if (!userProfile) return;\n    setUserInput(userProfile.displayName);\n    setUserBio(userProfile.bio);\n  }, [userProfile]);\n\n  //+ updates on account sign up\n\n  useEffect(() => {\n    getUserProfile();\n  }, [currentUser]);\n\n  //+ upload profile photo\n  const handleAvatar = async (file) => {\n    setUploading(true);\n    const fileRef = storageRef.child(`${currentUser.uid}/profilePhoto`);\n    await fileRef.put(file);\n    const fileUrl = await fileRef.getDownloadURL();\n    const userRef = firestore.collection('users').doc(currentUser.uid);\n    await userRef.set(\n      {\n        'profilePhoto': fileUrl,\n      },\n      { merge: true }\n    );\n    setUploading(false);\n    getUserProfile();\n  };\n\n  //+ upload banner\n  const handleBanner = async (file) => {\n    setUploading(true);\n    const fileRef = storageRef.child(`${currentUser.uid}/banner`);\n    await fileRef.put(file);\n    const fileUrl = await fileRef.getDownloadURL();\n    const userRef = firestore.collection('users').doc(currentUser.uid);\n    await userRef.set(\n      {\n        'banner': fileUrl,\n      },\n      { merge: true }\n    );\n    setUploading(false);\n    getUserProfile();\n  };\n\n  //! handle photo uploads\n  //@ add file to state\n  const handlePhotoChange = (e) => {\n    e.preventDefault();\n    const file = e.target.files[0];\n    if (file && file.size < 5000000) {\n      if (e.target.name === 'profilePhoto') {\n        resizeImage(e, 'none', handleAvatar, 1000);\n      } else if (e.target.name === 'banner') {\n        resizeImage(e, 'none', handleBanner, 2000);\n      }\n    }\n  };\n\n  //! handle text input changes\n  //@ handle display name change\n  const handleChange = (e) => {\n    e.preventDefault();\n    const { value } = e.target;\n    const reg = /[^a-zA-Z' ']/gi; //replace all but these characters\n    const newVal = value.replace(reg, '');\n    setUserInput(clean(newVal));\n  };\n\n  //@ handle bio change\n  const handleBioChange = (e) => {\n    e.preventDefault();\n    const { value } = e.target;\n    setUserBio(clean(value));\n  };\n\n  //+ handle save text\n  const handleTextUpload = async (e) => {\n    e.preventDefault();\n    if (userBio !== userProfile.bio) {\n      setUploading(true);\n      await firestore.collection('users').doc(currentUser.uid).set(\n        {\n          bio: userBio,\n        },\n        { merge: true }\n      );\n      setUploading(false);\n    }\n    if (userInput !== userProfile.displayName && userInput !== '') {\n      const lower = userInput.toLowerCase();\n      setUploading(true);\n      await firestore.collection('users').doc(currentUser.uid).set(\n        {\n          displayName: userInput,\n          searchName: lower,\n        },\n        { merge: true }\n      );\n      setUploading(false);\n    }\n  };\n\n  return (\n    <div className={Styles.settings}>\n      <div className={Styles.container}>\n        <h3>Settings</h3>\n        <div className={Styles.inner}>\n          <div>\n            <label className={Styles.bannerOverlayContainer}>\n              <input\n                name=\"banner\"\n                type=\"file\"\n                accept=\"image/jpeg, image/png, image/jpg\"\n                className={Styles.fileInput}\n                onChange={handlePhotoChange}\n              />\n              <div className={Styles.bannerContainer}>\n                <ImageLoader src={userProfile && userProfile.banner} zIndex={'0'} />\n              </div>\n              <div className={Styles.bannerOverlay}>\n                <IoPencil className={Styles.bannerIcon} />\n              </div>\n            </label>\n            <form>\n              <div className={Styles.containerBar}>\n                <label className={Styles.profileOverlayContainer}>\n                  <input\n                    onChange={handlePhotoChange}\n                    type=\"file\"\n                    accept=\"image/jpeg, image/png, image/jpg\"\n                    className={Styles.fileInput}\n                    name=\"profilePhoto\"\n                  />\n                  <ImageLoader\n                    src={userProfile && userProfile.profilePhoto}\n                    position=\"relative\"\n                    borderRadius=\"100%\"\n                    width=\"112px\"\n                    height=\"112px\"\n                    shadow=\"0px 0.5em 1.5em 1px rgba(0, 0, 0, 0.1)\"\n                  />\n                  <div className={Styles.profileOverlay}>\n                    <IoImage className={Styles.profileIcon} />\n                  </div>\n                </label>\n              </div>\n            </form>\n          </div>\n          <div className={Styles.textInputs}>\n            <form className={Styles.textForm}>\n              <div className={Styles.inputContainer}>\n                <p>Display Name:</p>\n                <div className={Styles.input}>\n                  <input\n                    autoComplete=\"off\"\n                    name=\"displayName\"\n                    className={Styles.inputBoxDisplay}\n                    type=\"text\"\n                    placeholder={userProfile && userProfile.displayName}\n                    maxLength=\"25\"\n                    minLength=\"3\"\n                    onChange={handleChange}\n                    value={userInput}\n                  />\n                </div>\n              </div>\n              <div className={Styles.inputContainer}>\n                <p>Bio:</p>\n                <textarea\n                  className={Styles.bioInput}\n                  name=\"bio\"\n                  maxLength=\"150\"\n                  placeholder={userProfile && userProfile.bio}\n                  value={userBio}\n                  onChange={handleBioChange}\n                />\n              </div>\n            </form>\n          </div>\n        </div>\n\n        <div className={Styles.profileBtnContainer}>\n          {uploading ? (\n            <div className=\"loader\"></div>\n          ) : (\n            <button onClick={handleTextUpload} type=\"submit\" className={Styles.textBtn}>\n              Save\n            </button>\n          )}\n          <Link className={Styles.profileLink} to={`/profile/${userProfile && userProfile.userID}`}>\n            <button className={Styles.profileBtn}>View Profile</button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Settings;\n","import React, { useState, useEffect } from 'react';\nimport { firestore } from '../../services/firebase';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst MessagesCreateMenuItem = ({\n  Styles,\n  contactID,\n  setMessages,\n  messages,\n  handleCreate,\n  getCurrentMessage,\n}) => {\n  const [current, setCurrent] = useState(null);\n  const getUser = async () => {\n    const userRef = firestore.collection('users').doc(contactID);\n    const thisUser = await userRef.get();\n    setCurrent(thisUser.data());\n  };\n  useEffect(() => {\n    getUser();\n  }, []);\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    const check = messages.some((item) => item.user === contactID);\n    if (!check) {\n      setMessages([{ user: contactID, time: Date.now(), messages: [] }, ...messages]);\n\n      handleCreate(e);\n    } else {\n      const index = messages.findIndex((item) => item.user === contactID);\n      getCurrentMessage(index);\n      handleCreate(e);\n    }\n  };\n\n  return (\n    <div onClick={handleClick} className={Styles.listItem}>\n      <div className={Styles.start}>\n        <div className={Styles.avatarContainer}>\n          <ImageLoader src={current?.profilePhoto} width=\"65px\" height=\"65px\" borderRadius=\"100%\" />\n        </div>\n        <div className={Styles.names}>\n          <p className={Styles.displayName}>{current?.displayName}</p>\n          <p className={Styles.username}>@{current?.username}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessagesCreateMenuItem;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { IoCloseOutline } from 'react-icons/io5';\nimport Styles from '../../styles/messages/messages__create-menu.module.css';\nimport MessagesCreateMenuItem from './MessagesCreateMenuItem';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst MessagesCreateMenu = ({\n  handleCreate,\n  userProfile,\n  setMessages,\n  messages,\n  setCurrentMessage,\n  setCurrentIndex,\n  getCurrentMessage,\n}) => {\n  const [list, setList] = useState([]);\n  const ref = useRef();\n  const [isFetching, setIsFetching] = useIntersect(ref);\n\n  const createInitial = () => {\n    if (!userProfile) return;\n    const { following } = userProfile;\n    const reverse = following.slice(0).reverse();\n    const sliced = reverse.slice(0, 10);\n    setList(sliced);\n  };\n\n  //+ GET more from storage\n  const createMore = () => {\n    if (!userProfile) return;\n    const { following } = userProfile;\n    if (following.length === list.length) return;\n\n    const reverse = following.slice(0).reverse();\n    const sliced = reverse.slice(list.length, list.length + 10);\n\n    const combine = [...list, ...sliced];\n    setList(combine);\n  };\n\n  useEffect(() => {\n    if (!userProfile) return;\n    createInitial();\n  }, [userProfile]);\n\n  useEffect(() => {\n    if (!isFetching) return;\n    createMore();\n  }, [isFetching]);\n\n  useEffect(() => {\n    setIsFetching(false);\n  }, [list]);\n\n  return (\n    <div className={Styles.modal}>\n      <div className={Styles.container}>\n        <div className={Styles.header}>\n          <h3>New Message</h3>\n          <IoCloseOutline onClick={handleCreate} className={Styles.close} />\n        </div>\n\n        {/*//+ list of following is here */}\n        <div className={Styles.listContainer}>\n          {list.map((item) => {\n            return (\n              <MessagesCreateMenuItem\n                messages={messages}\n                setMessages={setMessages}\n                Styles={Styles}\n                contactID={item}\n                setCurrentMessage={setCurrentMessage}\n                handleCreate={handleCreate}\n                setCurrentIndex={setCurrentIndex}\n                getCurrentMessage={getCurrentMessage}\n                key={item}\n              />\n            );\n          })}\n          <div ref={ref} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessagesCreateMenu;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Styles from '../../styles/messages/message__item.module.css';\n\nconst MessageItem = ({ user, message, userProfile, currentProfile, thread, index }) => {\n  const [sent, setSent] = useState(false);\n  const [group, setGroup] = useState('false');\n\n  const getStatus = () => {\n    if (user === userProfile?.userID) {\n      setSent(true);\n    }\n  };\n\n  useEffect(() => {\n    getStatus();\n  }, [currentProfile]);\n\n  useEffect(() => {\n    if (user === thread[index + 1]?.user) {\n      setGroup('true');\n    } else if (user !== thread[index + 1]?.user) {\n      setGroup('avatar');\n    }\n  }, [thread]);\n\n  let item;\n\n  if (sent && group === 'true') {\n    item = (\n      <div className={Styles.itemSent + ' ' + Styles.group}>\n        <div className={Styles.bubbleSent}>\n          <p>{message}</p>\n        </div>\n        <div className={Styles.avatarContainer} />\n      </div>\n    );\n  }\n\n  if (sent && group === 'avatar') {\n    item = (\n      <div className={Styles.itemSent + ' ' + Styles.topGroup}>\n        <div className={Styles.bubbleSent}>\n          <p>{message}</p>\n        </div>\n        <div className={Styles.avatarContainer}>\n          <Link to={`/profile/${userProfile.userID}`}>\n            <img className={Styles.avatar} src={userProfile.profilePhoto} alt=\"user-avi\" />\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  if (!sent && group === 'true') {\n    item = (\n      <div className={Styles.item + ' ' + Styles.group}>\n        <div className={Styles.bubble}>\n          <p>{message}</p>\n        </div>\n        <div className={Styles.avatarContainer} />\n      </div>\n    );\n  }\n\n  if (!sent && group === 'avatar') {\n    item = (\n      <div className={Styles.item + ' ' + Styles.topGroup}>\n        <div className={Styles.bubble}>\n          <p>{message}</p>\n        </div>\n        <div className={Styles.avatarContainer}>\n          <Link to={`/profile/${currentProfile?.userID}`}>\n            <img className={Styles.avatar} src={currentProfile?.profilePhoto} alt=\"contact-avi\" />\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return <>{item}</>;\n};\n\nexport default MessageItem;\n","import React, { useRef, useState, useEffect } from 'react';\nimport { firestore } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport MessageItem from './MessageItem';\nimport useIntersect from '../../hooks/useIntersect';\n\nconst MessageArea = ({ currentMessage, currentProfile, setCurrentProfile, Styles, dummyRef }) => {\n  const topRef = useRef();\n  const [thread, setThread] = useState([]);\n  const { userProfile } = useAuth();\n  const [isFetching, setIsFetching] = useIntersect(topRef);\n\n  //+ GET more from storage\n  const createFeed = () => {\n    if (!currentMessage) return;\n\n    const reverse = currentMessage.messages.slice(0).reverse();\n    const sliced = reverse.slice(thread.length, thread.length + 20);\n    const combine = [...thread, ...sliced];\n    setThread(combine);\n  };\n\n  useEffect(() => {\n    if (!isFetching) return;\n    createFeed();\n  }, [isFetching]);\n\n  //# after feed updates set load to false\n  useEffect(() => {\n    setIsFetching(false);\n  }, [thread]);\n\n  useEffect(() => {\n    if (currentMessage?.messages?.length > 0) {\n      const reverse = currentMessage?.messages.slice(0).reverse();\n      const sliced = reverse.slice(0, 20);\n      setThread(sliced);\n    } else {\n      setThread([]);\n    }\n  }, [currentMessage]);\n\n  const getUserObject = () => {\n    firestore\n      .collection('users')\n      .doc(currentMessage?.user)\n      .get()\n      .then((userData) => {\n        if (userData.exists) {\n          setCurrentProfile(userData.data());\n        }\n      });\n  };\n\n  useEffect(() => {\n    getUserObject();\n  }, [currentMessage]);\n\n  return (\n    <div id=\"msg\" className={Styles.messageArea}>\n      <div ref={dummyRef} className={Styles.dummy} />\n      {thread?.map((item, index) => {\n        return (\n          <MessageItem\n            key={item.time}\n            time={item.time}\n            currentProfile={currentProfile}\n            user={item.user}\n            thread={thread}\n            index={index}\n            message={item.message}\n            userProfile={userProfile}\n          />\n        );\n      })}\n      <div ref={topRef} className={Styles.dummy} />\n    </div>\n  );\n};\n\nexport default MessageArea;\n","import React, { useState } from 'react';\nimport { IoSendOutline } from 'react-icons/io5';\nimport { firestore, firestoreFieldValue } from '../../services/firebase';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { clean } from '../../functions/clean';\n\nconst MessageInputBox = ({ currentMessage, currentProfile, Styles, setCurrentIndex }) => {\n  const [inputBox, setInputBox] = useState('');\n  const { userProfile } = useAuth();\n  //+ send\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const time = Date.now();\n    if (currentProfile) {\n      if (inputBox.length > 0 && inputBox.length < 501) {\n        const contactThread = firestore\n          .collection('users')\n          .doc(currentMessage?.user)\n          .collection('messages')\n          .doc(userProfile?.userID);\n\n        const userThread = firestore\n          .collection('users')\n          .doc(userProfile?.userID)\n          .collection('messages')\n          .doc(currentMessage?.user);\n\n        await userThread.set(\n          {\n            time: time,\n            user: currentProfile.userID,\n          },\n          { merge: true }\n        );\n\n        await contactThread.set(\n          {\n            time: time,\n            user: userProfile?.userID,\n          },\n          { merge: true }\n        );\n        //@ add message to thread\n        const addUserThread = () => {\n          userThread.update({\n            messages: firestoreFieldValue.arrayUnion({\n              user: userProfile?.userID,\n              message: inputBox,\n              time: time,\n            }),\n          });\n        };\n\n        const addContactThread = () => {\n          contactThread.update({\n            messages: firestoreFieldValue.arrayUnion({\n              user: userProfile?.userID,\n              message: inputBox,\n              time: time,\n            }),\n          });\n        };\n\n        await Promise.all([addUserThread(), addContactThread()]);\n        setInputBox('');\n        setCurrentIndex(0);\n      }\n    }\n  };\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    const { value } = e.target;\n    setInputBox(clean(value));\n  };\n\n  return (\n    <div className={Styles.messageBox}>\n      {/* arranged in reverse because of flex direction */}\n      <form onSubmit={handleSubmit} className={Styles.messageForm}>\n        <input\n          className={Styles.input}\n          type=\"text\"\n          maxLength=\"500\"\n          minLength=\"1\"\n          placeholder=\"New Message...\"\n          onChange={handleChange}\n          value={inputBox}\n        />\n      </form>\n      <IoSendOutline type=\"submit\" onClick={handleSubmit} className={Styles.send} />\n    </div>\n  );\n};\n\nexport default MessageInputBox;\n","import React, { useEffect, useState } from 'react';\nimport Styles from '../../styles/messages/messagesContact.module.css';\nimport { firestore } from '../../services/firebase';\nimport convertTime from '../../functions/convertTime';\nimport ImageLoader from '../reusable/ImageLoader';\n\nconst MessagesContact = ({\n  user,\n  time,\n  last,\n  getCurrentMessage,\n  index,\n  currentIndex,\n  handleSidebar,\n}) => {\n  const [currentUser, setCurrentUser] = useState();\n  const [addTime, setAddTime] = useState('');\n\n  const getTime = () => {\n    const currentTime = Date.now();\n    const converted = convertTime(time, currentTime);\n    setAddTime(converted);\n  };\n\n  const getUserObject = () => {\n    firestore\n      .collection('users')\n      .doc(user)\n      .get()\n      .then((userData) => {\n        if (userData.exists) {\n          setCurrentUser(userData.data());\n        }\n      });\n  };\n\n  useEffect(() => {\n    getUserObject();\n    getTime();\n  }, []);\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    getCurrentMessage(index);\n    handleSidebar();\n  };\n\n  return (\n    <div\n      onClick={handleClick}\n      className={index === currentIndex ? Styles.active : Styles.container}\n    >\n      <div className={Styles.avatarContainer}>\n        <ImageLoader\n          src={currentUser?.profilePhoto}\n          width=\"65px\"\n          height=\"65px\"\n          borderRadius=\"100%\"\n        />\n      </div>\n\n      <div className={Styles.contactInfo}>\n        <p className={Styles.name}>{currentUser?.displayName}</p>\n        <div className={Styles.infoContainer}>\n          <p className={Styles.message}>\n            {last?.message.length >= 15 ? last?.message.substring(0, 15) + '...' : last?.message}\n          </p>\n          <p className={Styles.time}>{addTime}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessagesContact;\n","import React, { useState } from 'react';\nimport { IoCreateOutline, IoChevronBackOutline } from 'react-icons/io5';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport ImageLoader from '../reusable/ImageLoader';\nimport MessagesContact from './MessagesContact';\n\nconst MessagesSidebar = ({\n  Styles,\n  messages,\n  getCurrentMessage,\n  currentIndex,\n  scrollToBottom,\n  handleCreate,\n}) => {\n  const [sidebar, setSidebar] = useState(true);\n\n  const { userProfile } = useAuth();\n\n  //! MOBILE Sidebar\n  const handleSidebar = () => {\n    sidebar ? setSidebar(false) : setSidebar(true);\n    scrollToBottom();\n  };\n\n  return (\n    <div className={sidebar ? Styles.sidebar : `${Styles.sidebar} ${Styles.hide}`}>\n      <div className={Styles.header}>\n        <div\n          className={\n            sidebar ? Styles.userAvatarContainer : `${Styles.userAvatarContainer} ${Styles.remove}`\n          }\n        >\n          <Link to={`/profile/${userProfile?.userID}`}>\n            <ImageLoader\n              src={userProfile?.profilePhoto}\n              width=\"65px\"\n              height=\"65px\"\n              borderRadius=\"100%\"\n              position=\"absolute\"\n            />\n            <img className={Styles.userAvatarBlur} src={userProfile?.profilePhoto} alt=\"avatar\" />\n          </Link>\n        </div>\n        {sidebar ? null : (\n          <div className={Styles.backArrowContainer}>\n            <IoChevronBackOutline onClick={handleSidebar} className={Styles.backArrow} />\n          </div>\n        )}\n        <p className={Styles.headerTitle}>Messages</p>\n        <div onClick={handleCreate} className={Styles.createIconContainer}>\n          <IoCreateOutline className={Styles.createIcon} />\n        </div>\n      </div>\n      <div\n        className={\n          sidebar ? Styles.contactsContainer : `${Styles.contactsContainer} ${Styles.hide}`\n        }\n      >\n        {/* map over messages */}\n        {messages.map((item, index) => {\n          return (\n            <MessagesContact\n              key={item.time}\n              time={item.time}\n              index={index}\n              user={item.user}\n              last={item.messages?.length > 0 ? item.messages[item.messages?.length - 1] : null}\n              getCurrentMessage={getCurrentMessage}\n              currentIndex={currentIndex}\n              handleSidebar={handleSidebar}\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default MessagesSidebar;\n","import React, { useEffect, useState, useRef, useCallback } from 'react';\n\nimport MessagesCreateMenu from './MessagesCreateMenu';\nimport Styles from '../../styles/messages/messages.module.css';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { firestore } from '../../services/firebase';\nimport MessageArea from './MessageArea';\nimport MessageInputBox from './MessageInputBox';\nimport MessagesSidebar from './MessagesSidebar';\n\nconst Messages = ({ match }) => {\n  const [messages, setMessages] = useState([]);\n  const [currentMessage, setCurrentMessage] = useState();\n  const [currentProfile, setCurrentProfile] = useState();\n  const [currentIndex, setCurrentIndex] = useState();\n  const [createModal, setCreateModal] = useState(false);\n  const { userProfile } = useAuth();\n  const dummyRef = useRef(null);\n  const subRef = useRef();\n\n  const scrollToBottom = (type) => {\n    type === 'smooth'\n      ? dummyRef.current?.scrollIntoView({ behavior: 'smooth' })\n      : dummyRef.current?.scrollIntoView();\n  };\n\n  const listener = useCallback(\n    (event) => {\n      return firestore\n        .collection('users')\n        .doc(userProfile?.userID)\n        .collection('messages')\n        .orderBy('time', 'desc')\n        .onSnapshot((querySnapshot) => {\n          let temp = [];\n          querySnapshot.forEach((doc) => {\n            temp.push(doc.data());\n          });\n          setMessages(temp);\n          scrollToBottom('smooth');\n        });\n    },\n    [userProfile]\n  );\n\n  const getCurrentMessage = (num) => {\n    setCurrentIndex(num);\n    setCurrentMessage(messages[num]);\n    scrollToBottom();\n  };\n\n  // creating messages from profile\n  useEffect(() => {\n    if (match && messages) {\n      const check = messages.some((item) => item.user === match.params.uid);\n      if (!check) {\n        setMessages([{ user: match.params.uid, time: Date.now(), messages: [] }, ...messages]);\n      } else {\n        const index = messages.findIndex((item) => item.user === match.params.uid);\n        getCurrentMessage(index);\n      }\n    }\n  }, [messages, match]);\n\n  // on message update decide where\n  useEffect(() => {\n    if (!match) {\n      if (!currentMessage && messages && userProfile) {\n        setCurrentMessage(messages[0]);\n        setCurrentIndex(0);\n        getCurrentMessage(0);\n      } else if (currentMessage) {\n        setCurrentMessage(messages[currentIndex]);\n      }\n      if (messages[0]?.messages?.length === 0) {\n        getCurrentMessage(0);\n      }\n    }\n  }, [messages]);\n\n  useEffect(() => {\n    subRef.current = userProfile?.userID;\n  }, [userProfile]);\n\n  useEffect(() => {\n    let unsubscribe = listener();\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  const handleCreate = (e) => {\n    e.preventDefault();\n    createModal ? setCreateModal(false) : setCreateModal(true);\n  };\n\n  return (\n    <div className={Styles.messages}>\n      {/*//+ create message menu */}\n      {createModal && (\n        <MessagesCreateMenu\n          messages={messages}\n          setMessages={setMessages}\n          setCurrentMessage={setCurrentMessage}\n          userProfile={userProfile}\n          handleCreate={handleCreate}\n          setCurrentIndex={setCurrentIndex}\n          getCurrentMessage={getCurrentMessage}\n        />\n      )}\n      <div className={Styles.navBg} />\n      {/*//+ sidebar */}\n      <MessagesSidebar\n        Styles={Styles}\n        messages={messages}\n        currentIndex={currentIndex}\n        getCurrentMessage={getCurrentMessage}\n        scrollToBottom={scrollToBottom}\n        handleCreate={handleCreate}\n      />\n      {/*//+ input */}\n      <div className={Styles.main}>\n        <MessageInputBox\n          currentMessage={currentMessage}\n          currentProfile={currentProfile}\n          setCurrentIndex={setCurrentIndex}\n          Styles={Styles}\n        />\n        {/*//+ messages section */}\n        <MessageArea\n          currentProfile={currentProfile}\n          setCurrentProfile={setCurrentProfile}\n          currentMessage={currentMessage}\n          Styles={Styles}\n          dummyRef={dummyRef}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Messages;\n","import '../styles/app.css';\nimport React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport Nav from './Nav/Nav';\nimport Home from './Home/Home';\nimport Profile from './Profile/Profile';\nimport Post from './Post/Post';\nimport SignUp from './SignUp/SignUp';\nimport Settings from './Settings/Settings';\nimport Messages from './Messages/Messages';\nimport { AuthProvider } from '../contexts/AuthContext';\n\nfunction App() {\n  return (\n    <HashRouter>\n      <AuthProvider>\n        <div className=\"App\">\n          {/*//+ Nav */}\n          <Nav />\n          {/*//+ Home */}\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          {/*//+ Messages */}\n          <Route exact path=\"/messages/:uid\" component={Messages} />\n          <Route exact path=\"/messages\">\n            <Messages />\n          </Route>\n          {/*//+ Sign up */}\n          <Route exact path=\"/sign-up\">\n            <SignUp />\n          </Route>\n          {/*//+ Profile */}\n          <Route exact path=\"/profile/:uid\" component={Profile} />\n          {/*//+ post */}\n          <Route exact path=\"/post/:uid/:postid\" component={Post} />\n          {/*//+ settings */}\n          <Route exact path=\"/settings\">\n            <Settings />\n          </Route>\n        </div>\n      </AuthProvider>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}